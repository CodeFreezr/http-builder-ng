<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpGetSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpGetSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpGetSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">61</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">1</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">4.789s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox skipped" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP GET with BASIC authentication (authorized)</td>
<td>0.265s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP GET with BASIC authentication (unauthorized)</td>
<td>0.105s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP GET with DIGEST authentication (authorized)</td>
<td>0.150s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP GET with DIGEST authentication (unauthorized)</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with BASIC authentication (authorized)</td>
<td>0.107s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with BASIC authentication (unauthorized)</td>
<td>0.077s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with DIGEST authentication (authorized)</td>
<td>0.084s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with DIGEST authentication (unauthorized)</td>
<td>0.085s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">cookies are not stored when disabled</td>
<td>0.141s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">cookies are only set once</td>
<td>0.131s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">exception handler chain works correctly</td>
<td>0.088s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">exception handler works with closure</td>
<td>0.109s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">exception handler works with function</td>
<td>0.119s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP application/json</td>
<td>0.084s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP application/xml</td>
<td>0.079s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP text/csv</td>
<td>0.043s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP text/html</td>
<td>0.078s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP text/plain</td>
<td>0.231s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS application/json</td>
<td>0.097s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS application/xml</td>
<td>0.115s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS text/csv</td>
<td>0.067s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS text/html</td>
<td>0.061s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS text/plain</td>
<td>0.052s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; [:]</td>
<td>0.053s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; [flavor:chocolate-chip, count:dozen]</td>
<td>0.038s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; [flavor:chocolate-chip]</td>
<td>0.080s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; null</td>
<td>0.077s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; [:]</td>
<td>0.122s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; [flavor:oatmeal, count:dozen]</td>
<td>0.088s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; [flavor:peanut-butter]</td>
<td>0.069s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; null</td>
<td>0.095s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [:]</td>
<td>0.026s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:[one, two], bravo:three]</td>
<td>0.030s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:[one, two]]</td>
<td>0.030s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:[one]]</td>
<td>0.036s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:one]</td>
<td>0.076s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; null</td>
<td>0.090s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; [:]</td>
<td>0.017s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; [coat:overcoat something]</td>
<td>0.079s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; [hat:fedora]</td>
<td>0.042s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; null</td>
<td>0.040s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">gzip compression supported</td>
<td>0.060s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">handles basic errors</td>
<td>0.118s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.036s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">proxied get(): HTTP com.stehno.ersatz.ContentType(text/plain)</td>
<td>0.227s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">server set cookies are honored</td>
<td>0.139s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="skipped">socks proxied get(): #protocol #contentType</td>
<td>-</td>
<td class="skipped">ignored</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.051s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.073s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.072s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.060s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.050s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.039s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.051s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.028s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.050s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.058s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.041s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.037s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.043s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.034s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>07:39:25.442 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@29d4f884
07:39:25.444 [XNIO-11 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-2', selector sun.nio.ch.EPollSelectorImpl@773f238d
07:39:25.445 [XNIO-11 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-3', selector sun.nio.ch.EPollSelectorImpl@38cf44ba
07:39:25.447 [XNIO-11 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3bdec208
07:39:25.450 [XNIO-11 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-8', selector sun.nio.ch.EPollSelectorImpl@22bc1bf2
07:39:25.450 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.444 [XNIO-11 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-1', selector sun.nio.ch.EPollSelectorImpl@69f23c84
07:39:25.445 [XNIO-11 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2e2a7aa4
07:39:25.447 [XNIO-11 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7566a8c9
07:39:25.450 [XNIO-11 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6fa8b11c
07:39:25.450 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.451 [XNIO-11 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 Accept', selector sun.nio.ch.EPollSelectorImpl@5c4c7628
07:39:25.461 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.462 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.462 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41169
07:39:25.462 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41169
07:39:25.462 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41169
07:39:25.463 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39264&lt;-&gt;127.0.0.1:41169
07:39:25.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:41169
07:39:25.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
07:39:25.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:41169[\r][\n]&quot;
07:39:25.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.467 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41169]}, cookies=[:]): &lt;empty&gt; }
07:39:25.490 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:25.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:25.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:25.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:25.501 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
07:39:25.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
07:39:25.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
07:39:25.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/plain
07:39:25.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 27
07:39:25.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.502 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.636 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39264&lt;-&gt;127.0.0.1:41169
07:39:25.636 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.642 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.643 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.643 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41169
07:39:25.644 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.644 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.644 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:41169
07:39:25.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
07:39:25.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:41169[\r][\n]&quot;
07:39:25.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.651 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41169]}, cookies=[:]): &lt;empty&gt; }
07:39:25.652 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:25.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:25.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:25.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:25.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
07:39:25.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
07:39:25.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
07:39:25.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/plain
07:39:25.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 27
07:39:25.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.653 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.653 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39264&lt;-&gt;127.0.0.1:41169
07:39:25.653 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.654 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@29d4f884
07:39:25.663 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5a18fe49
07:39:25.665 [XNIO-12 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1a111243
07:39:25.665 [XNIO-12 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-2', selector sun.nio.ch.EPollSelectorImpl@71f0471e
07:39:25.665 [XNIO-12 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-3', selector sun.nio.ch.EPollSelectorImpl@25926c9b
07:39:25.666 [XNIO-12 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-6', selector sun.nio.ch.EPollSelectorImpl@e4cf926
07:39:25.666 [XNIO-12 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-5', selector sun.nio.ch.EPollSelectorImpl@68595fcd
07:39:25.670 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.670 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.666 [XNIO-12 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-8', selector sun.nio.ch.EPollSelectorImpl@48955465
07:39:25.666 [XNIO-12 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-4', selector sun.nio.ch.EPollSelectorImpl@14ca0da2
07:39:25.666 [XNIO-12 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-7', selector sun.nio.ch.EPollSelectorImpl@80714ea
07:39:25.670 [XNIO-12 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 Accept', selector sun.nio.ch.EPollSelectorImpl@fa87b1f
07:39:25.673 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.673 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.673 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42831
07:39:25.673 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:42831
07:39:25.673 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42831
07:39:25.673 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:42831 with timeout 0
07:39:25.674 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:25.674 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:25.674 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:25.696 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:25.696 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:25.696 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:25.696 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:25.696 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:25.696 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48546&lt;-&gt;127.0.0.1:42831
07:39:25.696 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.696 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.696 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:42831
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:42831[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.699 [XNIO-12 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42831]}, cookies=[:]): &lt;empty&gt; }
07:39:25.700 [XNIO-12 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:25.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:25.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:25.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:25.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
07:39:25.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
07:39:25.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
07:39:25.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/plain
07:39:25.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 27
07:39:25.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.702 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.702 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48546&lt;-&gt;127.0.0.1:42831
07:39:25.702 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.703 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.703 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.703 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42831
07:39:25.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:42831
07:39:25.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
07:39:25.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:42831[\r][\n]&quot;
07:39:25.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.706 [XNIO-12 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42831]}, cookies=[:]): &lt;empty&gt; }
07:39:25.707 [XNIO-12 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:25.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:25.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:25.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:25.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
07:39:25.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
07:39:25.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
07:39:25.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/plain
07:39:25.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 27
07:39:25.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.708 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.709 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48546&lt;-&gt;127.0.0.1:42831
07:39:25.709 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.709 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5a18fe49
07:39:25.717 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2c600f21
07:39:25.719 [XNIO-13 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3bc3a4e2
07:39:25.720 [XNIO-13 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-2', selector sun.nio.ch.EPollSelectorImpl@64e2f906
07:39:25.721 [XNIO-13 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-3', selector sun.nio.ch.EPollSelectorImpl@651fd1be
07:39:25.721 [XNIO-13 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4bcbb7
07:39:25.721 [XNIO-13 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-5', selector sun.nio.ch.EPollSelectorImpl@46d6341c
07:39:25.722 [XNIO-13 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7ad23cfd
07:39:25.728 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.728 [XNIO-13 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-8', selector sun.nio.ch.EPollSelectorImpl@254926fb
07:39:25.728 [XNIO-13 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 Accept', selector sun.nio.ch.EPollSelectorImpl@19080aa7
07:39:25.733 [XNIO-13 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-7', selector sun.nio.ch.EPollSelectorImpl@544d0cf8
07:39:25.733 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.735 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.735 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.735 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46027
07:39:25.735 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46027
07:39:25.736 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46027
07:39:25.736 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43366&lt;-&gt;127.0.0.1:46027
07:39:25.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:46027
07:39:25.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
07:39:25.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:46027[\r][\n]&quot;
07:39:25.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.742 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46027]}, cookies=[:]): &lt;empty&gt; }
07:39:25.757 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
07:39:25.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
07:39:25.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
07:39:25.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
07:39:25.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
07:39:25.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
07:39:25.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
07:39:25.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: application/json
07:39:25.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 39
07:39:25.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.779 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43366&lt;-&gt;127.0.0.1:46027
07:39:25.779 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.789 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.789 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.789 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46027
07:39:25.789 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.789 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.789 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.789 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.789 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:46027
07:39:25.789 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
07:39:25.789 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.789 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.789 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.789 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:46027[\r][\n]&quot;
07:39:25.789 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.789 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.789 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.789 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.790 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46027]}, cookies=[:]): &lt;empty&gt; }
07:39:25.791 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
07:39:25.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
07:39:25.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
07:39:25.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
07:39:25.792 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
07:39:25.792 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
07:39:25.792 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
07:39:25.792 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: application/json
07:39:25.792 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 39
07:39:25.792 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.794 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.795 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43366&lt;-&gt;127.0.0.1:46027
07:39:25.796 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.796 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2c600f21
07:39:25.806 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3687ca0e
07:39:25.808 [XNIO-14 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-1', selector sun.nio.ch.EPollSelectorImpl@245bade3
07:39:25.808 [XNIO-14 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7db860d
07:39:25.814 [XNIO-14 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-4', selector sun.nio.ch.EPollSelectorImpl@70156dfe
07:39:25.816 [XNIO-14 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-3', selector sun.nio.ch.EPollSelectorImpl@54f8f1b5
07:39:25.817 [XNIO-14 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2ffd6bf2
07:39:25.818 [XNIO-14 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-6', selector sun.nio.ch.EPollSelectorImpl@514ecf66
07:39:25.818 [XNIO-14 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5050fdd0
07:39:25.818 [XNIO-14 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-8', selector sun.nio.ch.EPollSelectorImpl@12eb95a4
07:39:25.819 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.820 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.822 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.822 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.822 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35183
07:39:25.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:35183
07:39:25.822 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35183
07:39:25.822 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:35183 with timeout 0
07:39:25.822 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:25.822 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:25.822 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:25.824 [XNIO-14 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 Accept', selector sun.nio.ch.EPollSelectorImpl@3db02406
07:39:25.869 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:25.869 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:25.869 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:25.869 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:25.869 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:25.869 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42102&lt;-&gt;127.0.0.1:35183
07:39:25.869 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.869 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.869 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:35183
07:39:25.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
07:39:25.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:35183[\r][\n]&quot;
07:39:25.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.870 [XNIO-14 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35183]}, cookies=[:]): &lt;empty&gt; }
07:39:25.873 [XNIO-14 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
07:39:25.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
07:39:25.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
07:39:25.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
07:39:25.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
07:39:25.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
07:39:25.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
07:39:25.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: application/json
07:39:25.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 39
07:39:25.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.875 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.876 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42102&lt;-&gt;127.0.0.1:35183
07:39:25.876 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.878 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.879 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.879 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35183
07:39:25.879 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.879 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.879 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:35183
07:39:25.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
07:39:25.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:35183[\r][\n]&quot;
07:39:25.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.895 [XNIO-14 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35183]}, cookies=[:]): &lt;empty&gt; }
07:39:25.897 [XNIO-14 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
07:39:25.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
07:39:25.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
07:39:25.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
07:39:25.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
07:39:25.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
07:39:25.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
07:39:25.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: application/json
07:39:25.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 39
07:39:25.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42102&lt;-&gt;127.0.0.1:35183
07:39:25.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.899 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3687ca0e
07:39:25.916 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@55e16fb3
07:39:25.918 [XNIO-15 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1a3a1ac
07:39:25.924 [XNIO-15 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1298dee
07:39:25.927 [XNIO-15 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-3', selector sun.nio.ch.EPollSelectorImpl@46c2b876
07:39:25.933 [XNIO-15 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6924cae9
07:39:25.936 [XNIO-15 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-5', selector sun.nio.ch.EPollSelectorImpl@516ad468
07:39:25.948 [XNIO-15 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-6', selector sun.nio.ch.EPollSelectorImpl@64fff7fe
07:39:25.952 [XNIO-15 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-8', selector sun.nio.ch.EPollSelectorImpl@13429b0b
07:39:25.953 [XNIO-15 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-7', selector sun.nio.ch.EPollSelectorImpl@76b1b12c
07:39:25.960 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.961 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.963 [XNIO-15 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 Accept', selector sun.nio.ch.EPollSelectorImpl@781677e4
07:39:25.963 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.964 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.964 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34827
07:39:25.964 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34827
07:39:25.964 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34827
07:39:25.964 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:46098&lt;-&gt;127.0.0.1:34827
07:39:25.964 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.964 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.964 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.964 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.964 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:34827
07:39:25.964 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
07:39:25.964 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.964 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.964 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.964 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:34827[\r][\n]&quot;
07:39:25.964 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.964 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.964 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.964 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.967 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34827]}, cookies=[:]): &lt;empty&gt; }
07:39:25.968 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
07:39:25.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
07:39:25.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
07:39:25.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
07:39:25.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
07:39:25.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
07:39:25.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
07:39:25.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: application/xml
07:39:25.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 65
07:39:25.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.970 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.975 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46098&lt;-&gt;127.0.0.1:34827
07:39:25.975 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.975 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.975 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.975 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34827
07:39:25.975 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:25.975 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.976 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; GET /alpha HTTP/1.1
07:39:25.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:34827
07:39:25.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
07:39:25.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:34827[\r][\n]&quot;
07:39:25.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.976 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34827]}, cookies=[:]): &lt;empty&gt; }
07:39:25.977 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
07:39:25.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:25.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
07:39:25.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
07:39:25.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
07:39:25.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
07:39:25.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
07:39:25.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
07:39:25.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: application/xml
07:39:25.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 65
07:39:25.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.978 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.981 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46098&lt;-&gt;127.0.0.1:34827
07:39:25.981 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.981 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@55e16fb3
07:39:25.992 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@775e0c0d
07:39:25.996 [XNIO-16 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-1', selector sun.nio.ch.EPollSelectorImpl@57826442
07:39:25.996 [XNIO-16 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-2', selector sun.nio.ch.EPollSelectorImpl@b0949e6
07:39:25.997 [XNIO-16 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4b61fe37
07:39:25.997 [XNIO-16 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4c7f68b1
07:39:26.001 [XNIO-16 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-5', selector sun.nio.ch.EPollSelectorImpl@183ca81c
07:39:26.008 [XNIO-16 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-6', selector sun.nio.ch.EPollSelectorImpl@77483682
07:39:26.012 [XNIO-16 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-7', selector sun.nio.ch.EPollSelectorImpl@40a030e4
07:39:26.015 [XNIO-16 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2cbd51a3
07:39:26.017 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.017 [XNIO-16 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 Accept', selector sun.nio.ch.EPollSelectorImpl@30d9f378
07:39:26.018 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.020 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.021 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.021 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35491
07:39:26.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:35491
07:39:26.021 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35491
07:39:26.021 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:35491 with timeout 0
07:39:26.021 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:26.021 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:26.021 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:26.066 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:26.066 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:26.066 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:26.066 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:26.066 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:26.066 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35476&lt;-&gt;127.0.0.1:35491
07:39:26.066 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.066 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.066 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:35491
07:39:26.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
07:39:26.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:35491[\r][\n]&quot;
07:39:26.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.078 [XNIO-16 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35491]}, cookies=[:]): &lt;empty&gt; }
07:39:26.080 [XNIO-16 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
07:39:26.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
07:39:26.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
07:39:26.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
07:39:26.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
07:39:26.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
07:39:26.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
07:39:26.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: application/xml
07:39:26.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 65
07:39:26.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.081 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.084 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35476&lt;-&gt;127.0.0.1:35491
07:39:26.084 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.085 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.085 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.086 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35491
07:39:26.086 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.086 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.086 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:35491
07:39:26.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
07:39:26.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:35491[\r][\n]&quot;
07:39:26.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.089 [XNIO-16 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35491]}, cookies=[:]): &lt;empty&gt; }
07:39:26.089 [XNIO-16 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
07:39:26.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
07:39:26.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
07:39:26.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
07:39:26.090 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
07:39:26.090 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
07:39:26.090 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
07:39:26.090 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: application/xml
07:39:26.090 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 65
07:39:26.090 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.090 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.098 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35476&lt;-&gt;127.0.0.1:35491
07:39:26.098 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.099 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@775e0c0d
07:39:26.107 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1343e40
07:39:26.120 [XNIO-17 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-1', selector sun.nio.ch.EPollSelectorImpl@238d015e
07:39:26.123 [XNIO-17 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7ceab36d
07:39:26.124 [XNIO-17 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4116d8ce
07:39:26.126 [XNIO-17 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-5', selector sun.nio.ch.EPollSelectorImpl@70e9ea10
07:39:26.126 [XNIO-17 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-4', selector sun.nio.ch.EPollSelectorImpl@395dede7
07:39:26.127 [XNIO-17 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-6', selector sun.nio.ch.EPollSelectorImpl@56cd6e76
07:39:26.127 [XNIO-17 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-7', selector sun.nio.ch.EPollSelectorImpl@74e34e72
07:39:26.129 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.129 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.127 [XNIO-17 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6737c675
07:39:26.129 [XNIO-17 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 Accept', selector sun.nio.ch.EPollSelectorImpl@3dabefbf
07:39:26.132 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.135 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.135 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40023
07:39:26.135 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40023
07:39:26.135 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40023
07:39:26.136 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36158&lt;-&gt;127.0.0.1:40023
07:39:26.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:40023
07:39:26.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
07:39:26.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:40023[\r][\n]&quot;
07:39:26.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.145 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40023]}, cookies=[:]): &lt;empty&gt; }
07:39:26.145 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
07:39:26.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
07:39:26.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
07:39:26.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
07:39:26.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
07:39:26.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
07:39:26.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
07:39:26.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/html
07:39:26.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 40
07:39:26.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.147 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.150 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36158&lt;-&gt;127.0.0.1:40023
07:39:26.150 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.176 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.176 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.176 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40023
07:39:26.176 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.176 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.176 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:40023
07:39:26.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
07:39:26.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:40023[\r][\n]&quot;
07:39:26.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.177 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40023]}, cookies=[:]): &lt;empty&gt; }
07:39:26.178 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
07:39:26.178 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.178 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.178 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.178 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
07:39:26.178 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
07:39:26.178 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.178 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.178 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
07:39:26.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
07:39:26.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
07:39:26.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
07:39:26.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/html
07:39:26.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 40
07:39:26.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.178 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.179 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36158&lt;-&gt;127.0.0.1:40023
07:39:26.179 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.179 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1343e40
07:39:26.185 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1bea91a4
07:39:26.188 [XNIO-18 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-1', selector sun.nio.ch.EPollSelectorImpl@45be36ed
07:39:26.196 [XNIO-18 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7b027b61
07:39:26.196 [XNIO-18 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-3', selector sun.nio.ch.EPollSelectorImpl@573e317b
07:39:26.198 [XNIO-18 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7044aae1
07:39:26.196 [XNIO-18 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7ec774b
07:39:26.199 [XNIO-18 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-7', selector sun.nio.ch.EPollSelectorImpl@46d56755
07:39:26.200 [XNIO-18 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-5', selector sun.nio.ch.EPollSelectorImpl@533b3e50
07:39:26.204 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.205 [XNIO-18 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 Accept', selector sun.nio.ch.EPollSelectorImpl@66ad829c
07:39:26.205 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.205 [XNIO-18 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-8', selector sun.nio.ch.EPollSelectorImpl@15f62763
07:39:26.208 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.208 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.208 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43901
07:39:26.208 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:43901
07:39:26.208 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43901
07:39:26.208 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:43901 with timeout 0
07:39:26.208 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:26.208 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:26.208 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:26.229 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:26.229 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:26.229 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:26.229 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:26.229 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:26.229 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41886&lt;-&gt;127.0.0.1:43901
07:39:26.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:43901
07:39:26.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
07:39:26.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:43901[\r][\n]&quot;
07:39:26.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.233 [XNIO-18 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43901]}, cookies=[:]): &lt;empty&gt; }
07:39:26.234 [XNIO-18 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
07:39:26.235 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.235 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.235 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.235 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
07:39:26.235 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
07:39:26.235 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.235 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.235 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
07:39:26.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
07:39:26.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
07:39:26.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
07:39:26.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/html
07:39:26.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 40
07:39:26.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.236 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41886&lt;-&gt;127.0.0.1:43901
07:39:26.236 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.237 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.237 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.237 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43901
07:39:26.237 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.237 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.237 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:43901
07:39:26.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
07:39:26.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:43901[\r][\n]&quot;
07:39:26.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.238 [XNIO-18 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43901]}, cookies=[:]): &lt;empty&gt; }
07:39:26.240 [XNIO-18 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
07:39:26.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
07:39:26.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
07:39:26.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
07:39:26.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
07:39:26.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
07:39:26.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
07:39:26.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/html
07:39:26.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 40
07:39:26.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.241 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.242 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41886&lt;-&gt;127.0.0.1:43901
07:39:26.242 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.242 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1bea91a4
07:39:26.249 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@43725ef9
07:39:26.251 [XNIO-19 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-1', selector sun.nio.ch.EPollSelectorImpl@15bd77ee
07:39:26.252 [XNIO-19 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7a725508
07:39:26.253 [XNIO-19 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3d731dd2
07:39:26.253 [XNIO-19 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3dacfadb
07:39:26.255 [XNIO-19 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-4', selector sun.nio.ch.EPollSelectorImpl@f9a0d33
07:39:26.261 [XNIO-19 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-6', selector sun.nio.ch.EPollSelectorImpl@22e35a12
07:39:26.265 [XNIO-19 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5ea8b45b
07:39:26.268 [XNIO-19 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-8', selector sun.nio.ch.EPollSelectorImpl@10bbb34b
07:39:26.269 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.269 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.271 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.271 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.271 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43715
07:39:26.271 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43715
07:39:26.271 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43715
07:39:26.272 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35630&lt;-&gt;127.0.0.1:43715
07:39:26.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:43715
07:39:26.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
07:39:26.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:43715[\r][\n]&quot;
07:39:26.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.272 [XNIO-19 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 Accept', selector sun.nio.ch.EPollSelectorImpl@7319fcb0
07:39:26.273 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43715]}, cookies=[:]): &lt;empty&gt; }
07:39:26.274 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
07:39:26.274 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.274 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.274 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.274 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
07:39:26.274 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
07:39:26.274 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.274 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.274 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
07:39:26.274 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
07:39:26.274 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
07:39:26.274 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
07:39:26.274 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/csv
07:39:26.274 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 53
07:39:26.274 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.274 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.279 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35630&lt;-&gt;127.0.0.1:43715
07:39:26.279 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.280 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.280 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.280 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43715
07:39:26.280 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.280 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.280 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:43715
07:39:26.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
07:39:26.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:43715[\r][\n]&quot;
07:39:26.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.282 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43715]}, cookies=[:]): &lt;empty&gt; }
07:39:26.283 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
07:39:26.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
07:39:26.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
07:39:26.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
07:39:26.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
07:39:26.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
07:39:26.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
07:39:26.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/csv
07:39:26.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 53
07:39:26.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.285 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.285 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35630&lt;-&gt;127.0.0.1:43715
07:39:26.285 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.286 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@43725ef9
07:39:26.287 [XNIO-19 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ GET /alpha request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43715]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/csv], Content-Length=[53], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:26.295 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@703b902f
07:39:26.301 [XNIO-20 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-1', selector sun.nio.ch.EPollSelectorImpl@718f685b
07:39:26.304 [XNIO-20 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6eee4db6
07:39:26.309 [XNIO-20 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1d2f4894
07:39:26.309 [XNIO-20 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7c073d09
07:39:26.312 [XNIO-20 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6e7fd17c
07:39:26.313 [XNIO-20 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6f4c29b2
07:39:26.315 [XNIO-20 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-7', selector sun.nio.ch.EPollSelectorImpl@c111178
07:39:26.315 [XNIO-20 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-8', selector sun.nio.ch.EPollSelectorImpl@770f1dcb
07:39:26.315 [XNIO-20 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 Accept', selector sun.nio.ch.EPollSelectorImpl@260edde
07:39:26.315 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.316 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.318 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.318 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.318 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42609
07:39:26.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:42609
07:39:26.318 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42609
07:39:26.318 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:42609 with timeout 0
07:39:26.319 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:26.319 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:26.319 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:26.347 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:26.347 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:26.347 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:26.347 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:26.347 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:26.347 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34568&lt;-&gt;127.0.0.1:42609
07:39:26.347 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.347 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.347 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:42609
07:39:26.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
07:39:26.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:42609[\r][\n]&quot;
07:39:26.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.348 [XNIO-20 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42609]}, cookies=[:]): &lt;empty&gt; }
07:39:26.348 [XNIO-20 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
07:39:26.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
07:39:26.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
07:39:26.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
07:39:26.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
07:39:26.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
07:39:26.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
07:39:26.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/csv
07:39:26.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 53
07:39:26.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.349 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34568&lt;-&gt;127.0.0.1:42609
07:39:26.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.351 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42609
07:39:26.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
07:39:26.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; GET /alpha HTTP/1.1
07:39:26.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:42609
07:39:26.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
07:39:26.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:42609[\r][\n]&quot;
07:39:26.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.355 [XNIO-20 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42609]}, cookies=[:]): &lt;empty&gt; }
07:39:26.356 [XNIO-20 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
07:39:26.356 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.356 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.356 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.356 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
07:39:26.356 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
07:39:26.356 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.356 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.356 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
07:39:26.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
07:39:26.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
07:39:26.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
07:39:26.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/csv
07:39:26.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 53
07:39:26.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.357 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.357 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34568&lt;-&gt;127.0.0.1:42609
07:39:26.357 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.357 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@703b902f
07:39:26.373 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2e7d4dee
07:39:26.375 [XNIO-21 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-1', selector sun.nio.ch.EPollSelectorImpl@28ecad37
07:39:26.377 [XNIO-21 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-2', selector sun.nio.ch.EPollSelectorImpl@56c6bc8b
07:39:26.377 [XNIO-21 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1e963f7e
07:39:26.378 [XNIO-21 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3147a77a
07:39:26.377 [XNIO-21 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5d78dbac
07:39:26.385 [XNIO-21 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2427c605
07:39:26.387 [XNIO-21 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5469f059
07:39:26.387 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.388 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.395 [XNIO-21 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-8', selector sun.nio.ch.EPollSelectorImpl@12a8ebea
07:39:26.394 [XNIO-21 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 Accept', selector sun.nio.ch.EPollSelectorImpl@33d10054
07:39:26.413 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.414 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.414 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42925
07:39:26.414 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42925
07:39:26.414 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42925
07:39:26.414 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45542&lt;-&gt;127.0.0.1:42925
07:39:26.414 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
07:39:26.414 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.414 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.414 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; GET /bravo HTTP/1.1
07:39:26.414 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:42925
07:39:26.414 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
07:39:26.414 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.414 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.414 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
07:39:26.414 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:42925[\r][\n]&quot;
07:39:26.414 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.414 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.418 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42925]}, cookies=[:]): &lt;empty&gt; }
07:39:26.418 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
07:39:26.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
07:39:26.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
07:39:26.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
07:39:26.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
07:39:26.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.419 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45542&lt;-&gt;127.0.0.1:42925
07:39:26.419 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.421 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.421 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.421 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42925
07:39:26.421 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
07:39:26.421 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.421 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; GET /bravo HTTP/1.1
07:39:26.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:42925
07:39:26.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
07:39:26.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
07:39:26.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:42925[\r][\n]&quot;
07:39:26.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.442 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42925]}, cookies=[:]): &lt;empty&gt; }
07:39:26.443 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.443 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-7: Shutdown connection
07:39:26.443 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.443 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-6: Shutdown connection
07:39:26.443 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.444 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.444 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5: Shutdown connection
07:39:26.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
07:39:26.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
07:39:26.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
07:39:26.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
07:39:26.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
07:39:26.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.445 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.445 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.445 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-9: Shutdown connection
07:39:26.445 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.445 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-8: Shutdown connection
07:39:26.445 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.445 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-10: Shutdown connection
07:39:26.446 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.446 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Shutdown connection
07:39:26.446 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45542&lt;-&gt;127.0.0.1:42925
07:39:26.446 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.447 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.447 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-11: Shutdown connection
07:39:26.448 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.448 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-15: Shutdown connection
07:39:26.449 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.449 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Shutdown connection
07:39:26.449 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2e7d4dee
07:39:26.450 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.450 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Shutdown connection
07:39:26.450 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.450 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-19: Shutdown connection
07:39:26.450 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.450 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-18: Shutdown connection
07:39:26.451 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.451 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-17: Shutdown connection
07:39:26.451 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.451 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-16: Shutdown connection
07:39:26.456 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6984e84c
07:39:26.458 [XNIO-22 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7f0730f8
07:39:26.459 [XNIO-22 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-2', selector sun.nio.ch.EPollSelectorImpl@445cf6ab
07:39:26.459 [XNIO-22 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-3', selector sun.nio.ch.EPollSelectorImpl@66eb8bbd
07:39:26.459 [XNIO-22 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-4', selector sun.nio.ch.EPollSelectorImpl@421e40be
07:39:26.459 [XNIO-22 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2cb78cec
07:39:26.461 [XNIO-22 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-6', selector sun.nio.ch.EPollSelectorImpl@15bd69ed
07:39:26.461 [XNIO-22 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4946ce7
07:39:26.461 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.462 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.463 [XNIO-22 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 Accept', selector sun.nio.ch.EPollSelectorImpl@78d4fdb3
07:39:26.464 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.464 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.464 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42775
07:39:26.464 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42775
07:39:26.464 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42775
07:39:26.464 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44234&lt;-&gt;127.0.0.1:42775
07:39:26.465 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
07:39:26.465 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.465 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; GET /bravo HTTP/1.1
07:39:26.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:42775
07:39:26.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
07:39:26.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:42775[\r][\n]&quot;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.465 [XNIO-22 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-8', selector sun.nio.ch.EPollSelectorImpl@39df695
07:39:26.468 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42775]}, cookies=[:]): &lt;empty&gt; }
07:39:26.468 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
07:39:26.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
07:39:26.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
07:39:26.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
07:39:26.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
07:39:26.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.469 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.470 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44234&lt;-&gt;127.0.0.1:42775
07:39:26.470 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.470 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.470 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.470 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42775
07:39:26.470 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
07:39:26.470 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.470 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; GET /bravo HTTP/1.1
07:39:26.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:42775
07:39:26.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
07:39:26.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
07:39:26.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:42775[\r][\n]&quot;
07:39:26.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.472 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42775]}, cookies=[:]): &lt;empty&gt; }
07:39:26.473 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.476 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
07:39:26.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
07:39:26.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
07:39:26.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
07:39:26.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
07:39:26.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.477 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.477 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44234&lt;-&gt;127.0.0.1:42775
07:39:26.477 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.478 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6984e84c
07:39:26.487 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3bfe20d8
07:39:26.491 [XNIO-23 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2c2f6043
07:39:26.492 [XNIO-23 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-2', selector sun.nio.ch.EPollSelectorImpl@510603e8
07:39:26.492 [XNIO-23 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7a17e5bb
07:39:26.492 [XNIO-23 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-4', selector sun.nio.ch.EPollSelectorImpl@11d03014
07:39:26.493 [XNIO-23 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-5', selector sun.nio.ch.EPollSelectorImpl@71c5dd3
07:39:26.493 [XNIO-23 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4d8ec54a
07:39:26.493 [XNIO-23 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3ebef0e9
07:39:26.493 [XNIO-23 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-8', selector sun.nio.ch.EPollSelectorImpl@74102264
07:39:26.497 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.497 [XNIO-23 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 Accept', selector sun.nio.ch.EPollSelectorImpl@64718e9b
07:39:26.505 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.514 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.514 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.514 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35933
07:39:26.514 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35933
07:39:26.514 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35933
07:39:26.514 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50658&lt;-&gt;127.0.0.1:35933
07:39:26.514 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
07:39:26.515 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.515 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
07:39:26.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:35933
07:39:26.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
07:39:26.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:26.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:35933[\r][\n]&quot;
07:39:26.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.515 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35933]}, cookies=[:]): &lt;empty&gt; }
07:39:26.538 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
07:39:26.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
07:39:26.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
07:39:26.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
07:39:26.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
07:39:26.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.540 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50658&lt;-&gt;127.0.0.1:35933
07:39:26.540 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.541 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.541 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.541 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35933
07:39:26.541 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
07:39:26.541 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.541 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
07:39:26.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:35933
07:39:26.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
07:39:26.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:26.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:35933[\r][\n]&quot;
07:39:26.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.552 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35933]}, cookies=[:]): &lt;empty&gt; }
07:39:26.553 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
07:39:26.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
07:39:26.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
07:39:26.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
07:39:26.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
07:39:26.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.554 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.554 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50658&lt;-&gt;127.0.0.1:35933
07:39:26.554 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.554 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3bfe20d8
07:39:26.571 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2043d83e
07:39:26.572 [XNIO-24 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-2', selector sun.nio.ch.EPollSelectorImpl@79bcf59d
07:39:26.572 [XNIO-24 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5add7375
07:39:26.572 [XNIO-24 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-4', selector sun.nio.ch.EPollSelectorImpl@61b07913
07:39:26.572 [XNIO-24 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2ef7e311
07:39:26.573 [XNIO-24 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1ac462f4
07:39:26.576 [XNIO-24 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-7', selector sun.nio.ch.EPollSelectorImpl@446f4426
07:39:26.576 [XNIO-24 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-8', selector sun.nio.ch.EPollSelectorImpl@bcda41d
07:39:26.572 [XNIO-24 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7fd6d064
07:39:26.577 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.577 [XNIO-24 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 Accept', selector sun.nio.ch.EPollSelectorImpl@16f355a4
07:39:26.577 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.580 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.580 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.580 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33467
07:39:26.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33467
07:39:26.580 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33467
07:39:26.580 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43340&lt;-&gt;127.0.0.1:33467
07:39:26.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
07:39:26.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
07:39:26.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:33467
07:39:26.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
07:39:26.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:26.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:33467[\r][\n]&quot;
07:39:26.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.581 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33467]}, cookies=[:]): &lt;empty&gt; }
07:39:26.586 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
07:39:26.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
07:39:26.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
07:39:26.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/plain
07:39:26.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 27
07:39:26.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.587 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.587 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43340&lt;-&gt;127.0.0.1:33467
07:39:26.587 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.588 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.588 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.588 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33467
07:39:26.588 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
07:39:26.588 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.588 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
07:39:26.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:33467
07:39:26.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
07:39:26.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:26.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:33467[\r][\n]&quot;
07:39:26.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.590 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33467]}, cookies=[:]): &lt;empty&gt; }
07:39:26.591 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
07:39:26.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
07:39:26.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
07:39:26.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/plain
07:39:26.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 27
07:39:26.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.591 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.592 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43340&lt;-&gt;127.0.0.1:33467
07:39:26.592 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.592 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2043d83e
07:39:26.598 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@18c8555c
07:39:26.600 [XNIO-25 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-1', selector sun.nio.ch.EPollSelectorImpl@16d7fc58
07:39:26.600 [XNIO-25 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2abe6b82
07:39:26.602 [XNIO-25 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3a947172
07:39:26.602 [XNIO-25 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-5', selector sun.nio.ch.EPollSelectorImpl@349a36d3
07:39:26.602 [XNIO-25 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-6', selector sun.nio.ch.EPollSelectorImpl@c7fd9dd
07:39:26.602 [XNIO-25 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-7', selector sun.nio.ch.EPollSelectorImpl@42ff36ad
07:39:26.602 [XNIO-25 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-4', selector sun.nio.ch.EPollSelectorImpl@39fe9d2d
07:39:26.604 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.604 [XNIO-25 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 Accept', selector sun.nio.ch.EPollSelectorImpl@36904bb0
07:39:26.605 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.605 [XNIO-25 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-8', selector sun.nio.ch.EPollSelectorImpl@40b45a14
07:39:26.607 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.607 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.607 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36523
07:39:26.607 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36523
07:39:26.607 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36523
07:39:26.607 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54100&lt;-&gt;127.0.0.1:36523
07:39:26.607 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
07:39:26.607 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.607 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.608 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
07:39:26.608 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:36523
07:39:26.608 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
07:39:26.608 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.608 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
07:39:26.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:36523[\r][\n]&quot;
07:39:26.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.617 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36523]}, cookies=[:]): &lt;empty&gt; }
07:39:26.618 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
07:39:26.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
07:39:26.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
07:39:26.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/plain
07:39:26.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 27
07:39:26.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.619 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.619 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54100&lt;-&gt;127.0.0.1:36523
07:39:26.619 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.620 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.620 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.620 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36523
07:39:26.620 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
07:39:26.620 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.620 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.620 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
07:39:26.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:36523
07:39:26.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
07:39:26.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
07:39:26.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:36523[\r][\n]&quot;
07:39:26.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.621 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36523]}, cookies=[:]): &lt;empty&gt; }
07:39:26.622 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
07:39:26.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
07:39:26.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
07:39:26.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/plain
07:39:26.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 27
07:39:26.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.623 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.623 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54100&lt;-&gt;127.0.0.1:36523
07:39:26.623 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.623 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@18c8555c
07:39:26.629 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@645d5799
07:39:26.633 [XNIO-26 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-1', selector sun.nio.ch.EPollSelectorImpl@458cff82
07:39:26.637 [XNIO-26 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-2', selector sun.nio.ch.EPollSelectorImpl@515ed5fe
07:39:26.637 [XNIO-26 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-4', selector sun.nio.ch.EPollSelectorImpl@18946b94
07:39:26.640 [XNIO-26 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-5', selector sun.nio.ch.EPollSelectorImpl@309c7d8c
07:39:26.637 [XNIO-26 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-3', selector sun.nio.ch.EPollSelectorImpl@366c9b35
07:39:26.643 [XNIO-26 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-6', selector sun.nio.ch.EPollSelectorImpl@241c8fa3
07:39:26.644 [XNIO-26 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7f7779a
07:39:26.644 [XNIO-26 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-8', selector sun.nio.ch.EPollSelectorImpl@652f02b6
07:39:26.644 [XNIO-26 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 Accept', selector sun.nio.ch.EPollSelectorImpl@1b1af026
07:39:26.644 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.646 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.648 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.649 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.649 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45399
07:39:26.649 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45399
07:39:26.649 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45399
07:39:26.649 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45970&lt;-&gt;127.0.0.1:45399
07:39:26.649 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:26.649 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.649 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:26.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:45399
07:39:26.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
07:39:26.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
07:39:26.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:45399[\r][\n]&quot;
07:39:26.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.650 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45399]}, cookies=[:]): &lt;empty&gt; }
07:39:26.650 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.651 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
07:39:26.651 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
07:39:26.651 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
07:39:26.651 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/plain
07:39:26.651 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 27
07:39:26.651 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.651 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.652 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45970&lt;-&gt;127.0.0.1:45399
07:39:26.652 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.652 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.652 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.652 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45399
07:39:26.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:26.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:26.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:45399
07:39:26.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
07:39:26.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
07:39:26.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:45399[\r][\n]&quot;
07:39:26.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.653 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45399]}, cookies=[:]): &lt;empty&gt; }
07:39:26.653 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
07:39:26.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
07:39:26.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
07:39:26.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/plain
07:39:26.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 27
07:39:26.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.654 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45970&lt;-&gt;127.0.0.1:45399
07:39:26.654 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.655 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@645d5799
07:39:26.667 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@11acc2ec
07:39:26.670 [XNIO-27 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-1', selector sun.nio.ch.EPollSelectorImpl@27c9a055
07:39:26.671 [XNIO-27 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-4', selector sun.nio.ch.EPollSelectorImpl@70a5f4b6
07:39:26.672 [XNIO-27 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7c577a5f
07:39:26.672 [XNIO-27 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7ed0a38c
07:39:26.670 [XNIO-27 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4bf86d53
07:39:26.671 [XNIO-27 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6f631976
07:39:26.672 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.672 [XNIO-27 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 Accept', selector sun.nio.ch.EPollSelectorImpl@1f771bb5
07:39:26.672 [XNIO-27 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-7', selector sun.nio.ch.EPollSelectorImpl@48db8cac
07:39:26.670 [XNIO-27 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-3', selector sun.nio.ch.EPollSelectorImpl@21789727
07:39:26.673 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.682 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.682 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.682 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38929
07:39:26.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38929
07:39:26.682 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38929
07:39:26.683 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54352&lt;-&gt;127.0.0.1:38929
07:39:26.683 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
07:39:26.683 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.683 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; GET /charlie HTTP/1.1
07:39:26.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:38929
07:39:26.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
07:39:26.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
07:39:26.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:38929[\r][\n]&quot;
07:39:26.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.684 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38929]}, cookies=[:]): &lt;empty&gt; }
07:39:26.684 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
07:39:26.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
07:39:26.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
07:39:26.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/plain
07:39:26.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 27
07:39:26.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.686 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54352&lt;-&gt;127.0.0.1:38929
07:39:26.686 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.687 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.687 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.687 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38929
07:39:26.687 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
07:39:26.687 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.687 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; GET /charlie HTTP/1.1
07:39:26.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:38929
07:39:26.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
07:39:26.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
07:39:26.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:38929[\r][\n]&quot;
07:39:26.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.688 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38929]}, cookies=[:]): &lt;empty&gt; }
07:39:26.693 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
07:39:26.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
07:39:26.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
07:39:26.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/plain
07:39:26.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 27
07:39:26.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.694 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54352&lt;-&gt;127.0.0.1:38929
07:39:26.694 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.694 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@11acc2ec
07:39:26.701 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7b238be9
07:39:26.703 [XNIO-28 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-2', selector sun.nio.ch.EPollSelectorImpl@442e8d1d
07:39:26.703 [XNIO-28 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3131c36d
07:39:26.703 [XNIO-28 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-6', selector sun.nio.ch.EPollSelectorImpl@265ef746
07:39:26.703 [XNIO-28 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4182952
07:39:26.703 [XNIO-28 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6ecf8acb
07:39:26.703 [XNIO-28 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2bad21ea
07:39:26.703 [XNIO-28 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-7', selector sun.nio.ch.EPollSelectorImpl@35523305
07:39:26.703 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.703 [XNIO-28 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 Accept', selector sun.nio.ch.EPollSelectorImpl@779377be
07:39:26.704 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.703 [XNIO-28 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1721a594
07:39:26.705 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.706 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.706 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46011
07:39:26.706 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46011
07:39:26.706 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46011
07:39:26.706 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39566&lt;-&gt;127.0.0.1:46011
07:39:26.706 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
07:39:26.706 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.706 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; GET /charlie HTTP/1.1
07:39:26.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:46011
07:39:26.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
07:39:26.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
07:39:26.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:46011[\r][\n]&quot;
07:39:26.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.707 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46011]}, cookies=[:]): &lt;empty&gt; }
07:39:26.708 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
07:39:26.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
07:39:26.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
07:39:26.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/plain
07:39:26.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 27
07:39:26.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.708 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.709 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39566&lt;-&gt;127.0.0.1:46011
07:39:26.709 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.709 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.709 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.709 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46011
07:39:26.709 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
07:39:26.709 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.709 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; GET /charlie HTTP/1.1
07:39:26.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:46011
07:39:26.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
07:39:26.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
07:39:26.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:46011[\r][\n]&quot;
07:39:26.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.712 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46011]}, cookies=[:]): &lt;empty&gt; }
07:39:26.712 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
07:39:26.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
07:39:26.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
07:39:26.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/plain
07:39:26.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 27
07:39:26.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.713 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.714 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39566&lt;-&gt;127.0.0.1:46011
07:39:26.714 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.714 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7b238be9
07:39:26.727 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2625274f
07:39:26.730 [XNIO-29 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5de74bd8
07:39:26.730 [XNIO-29 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7ca6e26d
07:39:26.731 [XNIO-29 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-3', selector sun.nio.ch.EPollSelectorImpl@73ae7dff
07:39:26.732 [XNIO-29 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-4', selector sun.nio.ch.EPollSelectorImpl@76926251
07:39:26.732 [XNIO-29 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3c833cf6
07:39:26.732 [XNIO-29 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-5', selector sun.nio.ch.EPollSelectorImpl@731950c
07:39:26.732 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.732 [XNIO-29 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-7', selector sun.nio.ch.EPollSelectorImpl@75865a0e
07:39:26.733 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.732 [XNIO-29 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 Accept', selector sun.nio.ch.EPollSelectorImpl@4a654966
07:39:26.732 [XNIO-29 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6a14991d
07:39:26.737 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.737 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.737 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33861
07:39:26.737 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33861
07:39:26.737 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33861
07:39:26.737 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38872&lt;-&gt;127.0.0.1:33861
07:39:26.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
07:39:26.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; GET /charlie HTTP/1.1
07:39:26.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; hat: fedora
07:39:26.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:33861
07:39:26.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
07:39:26.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
07:39:26.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
07:39:26.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:33861[\r][\n]&quot;
07:39:26.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.738 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:33861]}, cookies=[:]): &lt;empty&gt; }
07:39:26.751 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
07:39:26.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
07:39:26.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
07:39:26.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/plain
07:39:26.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 27
07:39:26.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.752 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38872&lt;-&gt;127.0.0.1:33861
07:39:26.752 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.753 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.753 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.753 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33861
07:39:26.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
07:39:26.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; GET /charlie HTTP/1.1
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; hat: fedora
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:33861
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:33861[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.755 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:33861]}, cookies=[:]): &lt;empty&gt; }
07:39:26.755 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
07:39:26.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
07:39:26.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
07:39:26.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/plain
07:39:26.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 27
07:39:26.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.756 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.757 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38872&lt;-&gt;127.0.0.1:33861
07:39:26.757 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.757 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2625274f
07:39:26.762 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5a1710ff
07:39:26.767 [XNIO-30 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2f22b59
07:39:26.768 [XNIO-30 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6635e943
07:39:26.767 [XNIO-30 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5aba4a38
07:39:26.789 [XNIO-30 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-7', selector sun.nio.ch.EPollSelectorImpl@79e5b740
07:39:26.793 [XNIO-30 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-8', selector sun.nio.ch.EPollSelectorImpl@278f56c9
07:39:26.767 [XNIO-30 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4bf4944d
07:39:26.796 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.796 [XNIO-30 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 Accept', selector sun.nio.ch.EPollSelectorImpl@1bc85abc
07:39:26.767 [XNIO-30 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-5', selector sun.nio.ch.EPollSelectorImpl@59928e18
07:39:26.801 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.803 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.803 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.803 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42351
07:39:26.803 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42351
07:39:26.803 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42351
07:39:26.803 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42386&lt;-&gt;127.0.0.1:42351
07:39:26.803 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
07:39:26.803 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.803 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; GET /charlie HTTP/1.1
07:39:26.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; coat: overcoat something
07:39:26.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:42351
07:39:26.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
07:39:26.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
07:39:26.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;coat: overcoat something[\r][\n]&quot;
07:39:26.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:42351[\r][\n]&quot;
07:39:26.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.788 [XNIO-30 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2de94c6e
07:39:26.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.806 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], coat=[overcoat something], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42351]}, cookies=[:]): &lt;empty&gt; }
07:39:26.807 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
07:39:26.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
07:39:26.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
07:39:26.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/plain
07:39:26.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 27
07:39:26.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.807 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.808 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42386&lt;-&gt;127.0.0.1:42351
07:39:26.808 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.808 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.808 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.808 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42351
07:39:26.808 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
07:39:26.808 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.808 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; GET /charlie HTTP/1.1
07:39:26.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; coat: overcoat something
07:39:26.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:42351
07:39:26.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
07:39:26.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
07:39:26.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;coat: overcoat something[\r][\n]&quot;
07:39:26.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:42351[\r][\n]&quot;
07:39:26.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.832 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], coat=[overcoat something], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42351]}, cookies=[:]): &lt;empty&gt; }
07:39:26.834 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:26.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:26.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:26.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:26.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
07:39:26.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
07:39:26.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
07:39:26.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/plain
07:39:26.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 27
07:39:26.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.837 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.837 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42386&lt;-&gt;127.0.0.1:42351
07:39:26.837 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.837 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5a1710ff
07:39:26.863 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5aff4948
07:39:26.864 [XNIO-31 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-2', selector sun.nio.ch.EPollSelectorImpl@69ee1daa
07:39:26.864 [XNIO-31 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-1', selector sun.nio.ch.EPollSelectorImpl@11717457
07:39:26.865 [XNIO-31 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2d990bb2
07:39:26.865 [XNIO-31 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1b231594
07:39:26.865 [XNIO-31 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5563384b
07:39:26.865 [XNIO-31 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1fd26de6
07:39:26.865 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.865 [XNIO-31 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-7', selector sun.nio.ch.EPollSelectorImpl@ac8f8ad
07:39:26.865 [XNIO-31 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-8', selector sun.nio.ch.EPollSelectorImpl@277ee207
07:39:26.866 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.866 [XNIO-31 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 Accept', selector sun.nio.ch.EPollSelectorImpl@2795d46f
07:39:26.882 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.882 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.882 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42251
07:39:26.882 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42251
07:39:26.882 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42251
07:39:26.882 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54460&lt;-&gt;127.0.0.1:42251
07:39:26.882 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:26.882 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.882 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; GET /delta HTTP/1.1
07:39:26.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:42251
07:39:26.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
07:39:26.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:26.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:42251[\r][\n]&quot;
07:39:26.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.884 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42251]}, cookies=[:]): &lt;empty&gt; }
07:39:26.889 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:26.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:26.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:26.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:26.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
07:39:26.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
07:39:26.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
07:39:26.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/date
07:39:26.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 36
07:39:26.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.890 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54460&lt;-&gt;127.0.0.1:42251
07:39:26.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.911 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.911 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.911 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42251
07:39:26.911 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:26.911 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.911 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; GET /delta HTTP/1.1
07:39:26.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:42251
07:39:26.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
07:39:26.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.912 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:26.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:42251[\r][\n]&quot;
07:39:26.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.912 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42251]}, cookies=[:]): &lt;empty&gt; }
07:39:26.913 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:26.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:26.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:26.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:26.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
07:39:26.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
07:39:26.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
07:39:26.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/date
07:39:26.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 36
07:39:26.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.914 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54460&lt;-&gt;127.0.0.1:42251
07:39:26.914 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.915 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5aff4948
07:39:26.916 [XNIO-31 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ GET /delta request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42251]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/date], Content-Length=[36], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:26.926 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@69673d6c
07:39:26.928 [XNIO-32 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-1', selector sun.nio.ch.EPollSelectorImpl@59af40f4
07:39:26.928 [XNIO-32 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7a920519
07:39:26.930 [XNIO-32 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4b97be14
07:39:26.931 [XNIO-32 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-5', selector sun.nio.ch.EPollSelectorImpl@8a5b4da
07:39:26.928 [XNIO-32 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7af4bb18
07:39:26.933 [XNIO-32 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5c349daf
07:39:26.940 [XNIO-32 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6c73efcd
07:39:26.934 [XNIO-32 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-7', selector sun.nio.ch.EPollSelectorImpl@63d665a1
07:39:26.944 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.945 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.946 [XNIO-32 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 Accept', selector sun.nio.ch.EPollSelectorImpl@31fcc799
07:39:26.950 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.950 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.950 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32787
07:39:26.950 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32787
07:39:26.950 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32787
07:39:26.950 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35794&lt;-&gt;127.0.0.1:32787
07:39:26.950 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:26.950 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.950 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; GET /delta HTTP/1.1
07:39:26.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:32787
07:39:26.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
07:39:26.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:26.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:32787[\r][\n]&quot;
07:39:26.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.951 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32787]}, cookies=[:]): &lt;empty&gt; }
07:39:26.952 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:26.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:26.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:26.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:26.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
07:39:26.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
07:39:26.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
07:39:26.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/date
07:39:26.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 36
07:39:26.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.953 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35794&lt;-&gt;127.0.0.1:32787
07:39:26.953 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.954 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.954 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.954 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32787
07:39:26.954 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:26.954 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.954 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; GET /delta HTTP/1.1
07:39:26.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:32787
07:39:26.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
07:39:26.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.955 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:26.955 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:32787[\r][\n]&quot;
07:39:26.955 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.955 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.955 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.955 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.960 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32787]}, cookies=[:]): &lt;empty&gt; }
07:39:26.961 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:26.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
07:39:26.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
07:39:26.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
07:39:26.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/date
07:39:26.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 36
07:39:26.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.962 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.962 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35794&lt;-&gt;127.0.0.1:32787
07:39:26.962 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.963 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@69673d6c
07:39:26.974 [XNIO-32 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:26.992 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@410a0e0b
07:39:26.996 [XNIO-33 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-1', selector sun.nio.ch.EPollSelectorImpl@485ad201
07:39:27.000 [XNIO-33 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-2', selector sun.nio.ch.EPollSelectorImpl@538559d
07:39:27.004 [XNIO-33 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2962552e
07:39:27.009 [XNIO-33 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-4', selector sun.nio.ch.EPollSelectorImpl@d105920
07:39:27.009 [XNIO-33 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-5', selector sun.nio.ch.EPollSelectorImpl@68b02b3a
07:39:27.010 [XNIO-33 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-6', selector sun.nio.ch.EPollSelectorImpl@44be3680
07:39:27.010 [XNIO-33 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-7', selector sun.nio.ch.EPollSelectorImpl@bdaa75f
07:39:27.010 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.010 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.011 [XNIO-33 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1060f5ec
07:39:27.012 [XNIO-33 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 Accept', selector sun.nio.ch.EPollSelectorImpl@39d1437d
07:39:27.020 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.020 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.020 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45417
07:39:27.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45417
07:39:27.021 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45417
07:39:27.021 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59830&lt;-&gt;127.0.0.1:45417
07:39:27.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; GET /delta HTTP/1.1
07:39:27.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Cookie: flavor=chocolate-chip
07:39:27.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:45417
07:39:27.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
07:39:27.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
07:39:27.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:45417[\r][\n]&quot;
07:39:27.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.024 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45417]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@4ab471c3]): &lt;empty&gt; }
07:39:27.045 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
07:39:27.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
07:39:27.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
07:39:27.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/date
07:39:27.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 36
07:39:27.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.046 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59830&lt;-&gt;127.0.0.1:45417
07:39:27.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.048 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.048 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.048 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45417
07:39:27.048 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.048 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.048 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; GET /delta HTTP/1.1
07:39:27.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Cookie: flavor=chocolate-chip
07:39:27.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:45417
07:39:27.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
07:39:27.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.048 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
07:39:27.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:45417[\r][\n]&quot;
07:39:27.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.049 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45417]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@3e03bcb5]): &lt;empty&gt; }
07:39:27.051 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
07:39:27.052 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
07:39:27.052 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
07:39:27.052 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/date
07:39:27.052 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 36
07:39:27.052 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.052 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.052 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59830&lt;-&gt;127.0.0.1:45417
07:39:27.052 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.053 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@410a0e0b
07:39:27.059 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7b460bca
07:39:27.064 [XNIO-34 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-1', selector sun.nio.ch.EPollSelectorImpl@113063a7
07:39:27.064 [XNIO-34 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-2', selector sun.nio.ch.EPollSelectorImpl@64020831
07:39:27.067 [XNIO-34 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-3', selector sun.nio.ch.EPollSelectorImpl@141f0f81
07:39:27.068 [XNIO-34 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4de4000e
07:39:27.068 [XNIO-34 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-6', selector sun.nio.ch.EPollSelectorImpl@fb6294f
07:39:27.069 [XNIO-34 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6baa416d
07:39:27.069 [XNIO-34 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5139fd5b
07:39:27.068 [XNIO-34 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-4', selector sun.nio.ch.EPollSelectorImpl@111694e2
07:39:27.072 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.072 [XNIO-34 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 Accept', selector sun.nio.ch.EPollSelectorImpl@3c4fd784
07:39:27.074 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.076 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.076 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.076 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34315
07:39:27.076 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34315
07:39:27.076 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34315
07:39:27.077 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60458&lt;-&gt;127.0.0.1:34315
07:39:27.077 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.077 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.077 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; GET /delta HTTP/1.1
07:39:27.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
07:39:27.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:34315
07:39:27.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
07:39:27.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
07:39:27.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:34315[\r][\n]&quot;
07:39:27.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.084 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34315]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@12cf9d86, flavor:ersatz.undertow.server.handlers.CookieImpl@1c0861af]): &lt;empty&gt; }
07:39:27.085 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 200 OK
07:39:27.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Encoding: gzip
07:39:27.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
07:39:27.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Type: text/date
07:39:27.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 36
07:39:27.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.086 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.086 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60458&lt;-&gt;127.0.0.1:34315
07:39:27.086 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.087 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.087 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.087 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34315
07:39:27.087 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.087 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.087 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; GET /delta HTTP/1.1
07:39:27.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
07:39:27.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:34315
07:39:27.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
07:39:27.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
07:39:27.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:34315[\r][\n]&quot;
07:39:27.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.089 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34315]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@74b3dbcb, flavor:ersatz.undertow.server.handlers.CookieImpl@7a743b2d]): &lt;empty&gt; }
07:39:27.090 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.090 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 200 OK
07:39:27.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Encoding: gzip
07:39:27.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
07:39:27.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Type: text/date
07:39:27.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 36
07:39:27.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.092 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.092 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60458&lt;-&gt;127.0.0.1:34315
07:39:27.093 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.093 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7b460bca
07:39:27.102 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@c702ae
07:39:27.107 [XNIO-35 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-1', selector sun.nio.ch.EPollSelectorImpl@35718916
07:39:27.108 [XNIO-35 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4ca56704
07:39:27.112 [XNIO-35 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3454a7d5
07:39:27.113 [XNIO-35 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-4', selector sun.nio.ch.EPollSelectorImpl@382435aa
07:39:27.113 [XNIO-35 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4e26a26d
07:39:27.114 [XNIO-35 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-7', selector sun.nio.ch.EPollSelectorImpl@96c6a65
07:39:27.114 [XNIO-35 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-6', selector sun.nio.ch.EPollSelectorImpl@396b18d8
07:39:27.117 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.117 [XNIO-35 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-8', selector sun.nio.ch.EPollSelectorImpl@78ccae2d
07:39:27.117 [XNIO-35 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 Accept', selector sun.nio.ch.EPollSelectorImpl@91b822f
07:39:27.118 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.144 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.145 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.145 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46427
07:39:27.145 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46427
07:39:27.145 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46427
07:39:27.145 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53744&lt;-&gt;127.0.0.1:46427
07:39:27.145 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /multicookie1 HTTP/1.1
07:39:27.145 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.145 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; GET /multicookie1 HTTP/1.1
07:39:27.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Cookie: foo=bar
07:39:27.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:46427
07:39:27.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
07:39:27.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;GET /multicookie1 HTTP/1.1[\r][\n]&quot;
07:39:27.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Cookie: foo=bar[\r][\n]&quot;
07:39:27.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:46427[\r][\n]&quot;
07:39:27.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.163 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /multicookie1 (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[foo=bar], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46427]}, cookies=[foo:ersatz.undertow.server.handlers.CookieImpl@6fe7e29b]): &lt;empty&gt; }
07:39:27.164 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:27.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:27.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:27.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:27.164 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
07:39:27.164 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
07:39:27.164 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
07:39:27.164 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/plain
07:39:27.164 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 27
07:39:27.164 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.164 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.165 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53744&lt;-&gt;127.0.0.1:46427
07:39:27.165 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.169 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.169 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.169 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46427
07:39:27.169 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /multicookie2 HTTP/1.1
07:39:27.169 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.169 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; GET /multicookie2 HTTP/1.1
07:39:27.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Cookie: foo=bar
07:39:27.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:46427
07:39:27.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
07:39:27.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;GET /multicookie2 HTTP/1.1[\r][\n]&quot;
07:39:27.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Cookie: foo=bar[\r][\n]&quot;
07:39:27.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:46427[\r][\n]&quot;
07:39:27.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.169 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /multicookie2 (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[foo=bar], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46427]}, cookies=[foo:ersatz.undertow.server.handlers.CookieImpl@5792825d]): &lt;empty&gt; }
07:39:27.170 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:27.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:27.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:27.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:27.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
07:39:27.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
07:39:27.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
07:39:27.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/plain
07:39:27.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 27
07:39:27.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.171 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.171 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53744&lt;-&gt;127.0.0.1:46427
07:39:27.171 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.174 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.174 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.175 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46427
07:39:27.175 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /lots/of/path/elements/multicookie3 HTTP/1.1
07:39:27.175 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.175 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; GET /lots/of/path/elements/multicookie3 HTTP/1.1
07:39:27.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Cookie: foo=bar
07:39:27.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:46427
07:39:27.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
07:39:27.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;GET /lots/of/path/elements/multicookie3 HTTP/1.1[\r][\n]&quot;
07:39:27.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Cookie: foo=bar[\r][\n]&quot;
07:39:27.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:46427[\r][\n]&quot;
07:39:27.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.187 [XNIO-35 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /lots/of/path/elements/multicookie3 (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[foo=bar], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46427]}, cookies=[foo:ersatz.undertow.server.handlers.CookieImpl@483df3ae]): &lt;empty&gt; }
07:39:27.188 [XNIO-35 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:27.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:27.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:27.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:27.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
07:39:27.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
07:39:27.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
07:39:27.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/plain
07:39:27.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 27
07:39:27.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.189 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.189 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53744&lt;-&gt;127.0.0.1:46427
07:39:27.189 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.221 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@c702ae
07:39:27.253 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3e432095
07:39:27.260 [XNIO-36 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-1', selector sun.nio.ch.EPollSelectorImpl@226b731a
07:39:27.276 [XNIO-36 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6d1d3f3e
07:39:27.277 [XNIO-36 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1374ff9e
07:39:27.279 [XNIO-36 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-4', selector sun.nio.ch.EPollSelectorImpl@497b5ddc
07:39:27.288 [XNIO-36 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-5', selector sun.nio.ch.EPollSelectorImpl@c7e8294
07:39:27.291 [XNIO-36 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-6', selector sun.nio.ch.EPollSelectorImpl@52ef9289
07:39:27.292 [XNIO-36 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6c2c989d
07:39:27.300 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.300 [XNIO-36 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2eeafe4
07:39:27.301 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.302 [XNIO-36 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 Accept', selector sun.nio.ch.EPollSelectorImpl@3c52a748
07:39:27.309 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.309 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.309 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44053
07:39:27.309 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44053
07:39:27.309 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44053
07:39:27.309 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59328&lt;-&gt;127.0.0.1:44053
07:39:27.309 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /setkermit HTTP/1.1
07:39:27.309 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.309 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /setkermit HTTP/1.1
07:39:27.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:44053
07:39:27.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
07:39:27.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /setkermit HTTP/1.1[\r][\n]&quot;
07:39:27.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:44053[\r][\n]&quot;
07:39:27.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.312 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /setkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44053]}, cookies=[:]): &lt;empty&gt; }
07:39:27.313 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:27.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Set-Cookie: kermit=frog; path=/showkermit[\r][\n]&quot;
07:39:27.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:27.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:27.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:27.314 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
07:39:27.314 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
07:39:27.314 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
07:39:27.314 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Set-Cookie: kermit=frog; path=/showkermit
07:39:27.314 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
07:39:27.314 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
07:39:27.314 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.314 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.318 [Test worker] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected [kermit=&quot;frog&quot;, version:0, domain:localhost, path:/showkermit, expiry:null] Illegal 'path' attribute &quot;/showkermit&quot;. Path of origin: &quot;/setkermit&quot;
07:39:27.319 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59328&lt;-&gt;127.0.0.1:44053
07:39:27.319 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.321 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.322 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.322 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44053
07:39:27.322 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /showkermit HTTP/1.1
07:39:27.322 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.322 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /showkermit HTTP/1.1
07:39:27.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: kermit=frog
07:39:27.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:44053
07:39:27.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
07:39:27.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /showkermit HTTP/1.1[\r][\n]&quot;
07:39:27.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: kermit=frog[\r][\n]&quot;
07:39:27.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:44053[\r][\n]&quot;
07:39:27.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.325 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /showkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[kermit=frog], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44053]}, cookies=[kermit:ersatz.undertow.server.handlers.CookieImpl@17d14d64]): &lt;empty&gt; }
07:39:27.326 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:27.326 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.326 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.326 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Set-Cookie: fozzy=bear; path=/some/deep/path[\r][\n]&quot;
07:39:27.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Set-Cookie: miss=piggy; path=/[\r][\n]&quot;
07:39:27.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:27.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:27.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:27.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
07:39:27.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
07:39:27.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
07:39:27.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Set-Cookie: fozzy=bear; path=/some/deep/path
07:39:27.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Set-Cookie: miss=piggy; path=/
07:39:27.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
07:39:27.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
07:39:27.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.327 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.327 [Test worker] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected [fozzy=&quot;bear&quot;, version:0, domain:localhost, path:/some/deep/path, expiry:null] Illegal 'path' attribute &quot;/some/deep/path&quot;. Path of origin: &quot;/showkermit&quot;
07:39:27.327 [Test worker] DEBUG org.apache.http.client.protocol.ResponseProcessCookies - Cookie accepted [miss=&quot;piggy&quot;, version:0, domain:localhost, path:/, expiry:null]
07:39:27.328 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59328&lt;-&gt;127.0.0.1:44053
07:39:27.328 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.331 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.331 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - Cookie [version: 0][name: miss][value: piggy][domain: localhost][path: /][expiry: null] match [localhost:44053/some/deep/path]
07:39:27.332 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.332 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44053
07:39:27.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /some/deep/path HTTP/1.1
07:39:27.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /some/deep/path HTTP/1.1
07:39:27.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: fozzy=bear; miss=piggy
07:39:27.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:44053
07:39:27.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
07:39:27.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: miss=piggy
07:39:27.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /some/deep/path HTTP/1.1[\r][\n]&quot;
07:39:27.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: fozzy=bear; miss=piggy[\r][\n]&quot;
07:39:27.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:44053[\r][\n]&quot;
07:39:27.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: miss=piggy[\r][\n]&quot;
07:39:27.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.346 [XNIO-36 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /some/deep/path (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[fozzy=bear; miss=piggy, miss=piggy], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44053]}, cookies=[fozzy:ersatz.undertow.server.handlers.CookieImpl@7e14ee95, miss:ersatz.undertow.server.handlers.CookieImpl@70d30f27]): &lt;empty&gt; }
07:39:27.347 [XNIO-36 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:27.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:27.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:27.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:27.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
07:39:27.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
07:39:27.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
07:39:27.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
07:39:27.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
07:39:27.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.348 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.348 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59328&lt;-&gt;127.0.0.1:44053
07:39:27.348 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - Cookie [version: 0][name: miss][value: piggy][domain: localhost][path: /][expiry: null] match [localhost:44053/setkermit]
07:39:27.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.351 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44053
07:39:27.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /setkermit HTTP/1.1
07:39:27.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /setkermit HTTP/1.1
07:39:27.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: miss=piggy
07:39:27.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:44053
07:39:27.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
07:39:27.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: miss=piggy
07:39:27.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /setkermit HTTP/1.1[\r][\n]&quot;
07:39:27.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: miss=piggy[\r][\n]&quot;
07:39:27.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:44053[\r][\n]&quot;
07:39:27.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: miss=piggy[\r][\n]&quot;
07:39:27.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.361 [XNIO-36 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /setkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[miss=piggy, miss=piggy], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44053]}, cookies=[miss:ersatz.undertow.server.handlers.CookieImpl@10ca0c2d]): &lt;empty&gt; }
07:39:27.362 [XNIO-36 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:27.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Set-Cookie: kermit=frog; path=/showkermit[\r][\n]&quot;
07:39:27.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:27.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:27.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:27.363 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
07:39:27.363 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
07:39:27.363 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
07:39:27.363 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Set-Cookie: kermit=frog; path=/showkermit
07:39:27.363 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
07:39:27.363 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
07:39:27.363 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.363 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.363 [Test worker] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected [kermit=&quot;frog&quot;, version:0, domain:localhost, path:/showkermit, expiry:null] Illegal 'path' attribute &quot;/showkermit&quot;. Path of origin: &quot;/setkermit&quot;
07:39:27.363 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59328&lt;-&gt;127.0.0.1:44053
07:39:27.363 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.364 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3e432095
07:39:27.368 [XNIO-36 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:27.394 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5b0a7e67
07:39:27.419 [XNIO-37 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5655ec82
07:39:27.428 [XNIO-37 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2526b2b
07:39:27.436 [XNIO-37 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1a1f708f
07:39:27.447 [XNIO-37 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1b0d0407
07:39:27.448 [XNIO-37 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-5', selector sun.nio.ch.EPollSelectorImpl@21ab5619
07:39:27.449 [XNIO-37 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4c1094f
07:39:27.452 [XNIO-37 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6214e170
07:39:27.462 [XNIO-37 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-8', selector sun.nio.ch.EPollSelectorImpl@14105adc
07:39:27.464 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.465 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.466 [XNIO-37 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 Accept', selector sun.nio.ch.EPollSelectorImpl@2b61e7af
07:39:27.483 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.483 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.483 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37297
07:39:27.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37297
07:39:27.483 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37297
07:39:27.483 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50386&lt;-&gt;127.0.0.1:37297
07:39:27.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /showkermit HTTP/1.1
07:39:27.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.484 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; GET /showkermit HTTP/1.1
07:39:27.484 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:37297
07:39:27.484 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
07:39:27.484 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.484 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.484 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;GET /showkermit HTTP/1.1[\r][\n]&quot;
07:39:27.484 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:37297[\r][\n]&quot;
07:39:27.484 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.484 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.484 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.484 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.490 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /showkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37297]}, cookies=[:]): &lt;empty&gt; }
07:39:27.491 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Set-Cookie: fozzy=&quot;bear; path=/some/deep/path&quot;; Version=1[\r][\n]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Set-Cookie: miss=&quot;piggy; path=/&quot;; Version=1[\r][\n]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:27.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 200 OK
07:39:27.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Encoding: gzip
07:39:27.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
07:39:27.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Set-Cookie: fozzy=&quot;bear; path=/some/deep/path&quot;; Version=1
07:39:27.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Set-Cookie: miss=&quot;piggy; path=/&quot;; Version=1
07:39:27.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Type: text/plain
07:39:27.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 27
07:39:27.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.492 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.492 [Test worker] DEBUG org.apache.http.client.protocol.ResponseProcessCookies - Cookie accepted [fozzy=&quot;bear; path=/some/deep/path&quot;, version:1, domain:localhost, path:/, expiry:null]
07:39:27.492 [Test worker] DEBUG org.apache.http.client.protocol.ResponseProcessCookies - Cookie accepted [miss=&quot;piggy; path=/&quot;, version:1, domain:localhost, path:/, expiry:null]
07:39:27.493 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50386&lt;-&gt;127.0.0.1:37297
07:39:27.493 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.505 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5b0a7e67
07:39:27.515 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5cf32c00
07:39:27.520 [XNIO-38 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4952a60d
07:39:27.521 [XNIO-38 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4fd2e523
07:39:27.525 [XNIO-38 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7554d22d
07:39:27.537 [XNIO-38 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2d179c5e
07:39:27.537 [XNIO-38 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-5', selector sun.nio.ch.EPollSelectorImpl@35e34054
07:39:27.530 [XNIO-38 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-4', selector sun.nio.ch.EPollSelectorImpl@69b53876
07:39:27.544 [XNIO-38 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-8', selector sun.nio.ch.EPollSelectorImpl@55c9909a
07:39:27.545 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.545 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.553 [XNIO-38 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 Accept', selector sun.nio.ch.EPollSelectorImpl@1d382e95
07:39:27.552 [XNIO-38 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-7', selector sun.nio.ch.EPollSelectorImpl@660a85fd
07:39:27.574 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.574 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.574 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36235
07:39:27.575 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36235
07:39:27.575 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36235
07:39:27.575 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49748&lt;-&gt;127.0.0.1:36235
07:39:27.575 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.575 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.575 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; GET /delta HTTP/1.1
07:39:27.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:36235
07:39:27.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
07:39:27.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:36235[\r][\n]&quot;
07:39:27.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.576 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36235]}, cookies=[:]): &lt;empty&gt; }
07:39:27.577 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.578 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.578 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.578 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 200 OK
07:39:27.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Encoding: gzip
07:39:27.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
07:39:27.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Type: text/date
07:39:27.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 36
07:39:27.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.578 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.578 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49748&lt;-&gt;127.0.0.1:36235
07:39:27.578 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.580 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.580 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.580 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36235
07:39:27.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; GET /delta HTTP/1.1
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:36235
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:36235[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.596 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36235]}, cookies=[:]): &lt;empty&gt; }
07:39:27.598 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 200 OK
07:39:27.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Encoding: gzip
07:39:27.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
07:39:27.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Type: text/date
07:39:27.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 36
07:39:27.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.599 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.599 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49748&lt;-&gt;127.0.0.1:36235
07:39:27.599 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.601 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5cf32c00
07:39:27.604 [XNIO-38 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ GET /delta request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36235]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/date], Content-Length=[36], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:27.612 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3f052ee0
07:39:27.614 [XNIO-39 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4e98a421
07:39:27.616 [XNIO-39 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4c7795b3
07:39:27.624 [XNIO-39 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3e5616c2
07:39:27.628 [XNIO-39 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6ae72a32
07:39:27.636 [XNIO-39 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2ca268ba
07:39:27.642 [XNIO-39 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7f6f6ba8
07:39:27.652 [XNIO-39 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-7', selector sun.nio.ch.EPollSelectorImpl@75f95116
07:39:27.669 [XNIO-39 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1801b481
07:39:27.680 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.681 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.680 [XNIO-39 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 Accept', selector sun.nio.ch.EPollSelectorImpl@36b544ad
07:39:27.684 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.684 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.684 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35647
07:39:27.684 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35647
07:39:27.684 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35647
07:39:27.684 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53804&lt;-&gt;127.0.0.1:35647
07:39:27.684 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.684 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.684 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; GET /delta HTTP/1.1
07:39:27.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:35647
07:39:27.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
07:39:27.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:35647[\r][\n]&quot;
07:39:27.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.700 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35647]}, cookies=[:]): &lt;empty&gt; }
07:39:27.701 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
07:39:27.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Encoding: gzip
07:39:27.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
07:39:27.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Type: text/date
07:39:27.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 36
07:39:27.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.702 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.702 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53804&lt;-&gt;127.0.0.1:35647
07:39:27.702 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.703 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.703 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.703 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35647
07:39:27.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; GET /delta HTTP/1.1
07:39:27.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:35647
07:39:27.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
07:39:27.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:35647[\r][\n]&quot;
07:39:27.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.720 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35647]}, cookies=[:]): &lt;empty&gt; }
07:39:27.721 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
07:39:27.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Encoding: gzip
07:39:27.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
07:39:27.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Type: text/date
07:39:27.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 36
07:39:27.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.722 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53804&lt;-&gt;127.0.0.1:35647
07:39:27.722 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.723 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3f052ee0
07:39:27.729 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@486c0762
07:39:27.736 [XNIO-40 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-1', selector sun.nio.ch.EPollSelectorImpl@21c59253
07:39:27.737 [XNIO-40 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-2', selector sun.nio.ch.EPollSelectorImpl@456c64f
07:39:27.748 [XNIO-40 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1b5d9399
07:39:27.748 [XNIO-40 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2994ddd4
07:39:27.748 [XNIO-40 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-5', selector sun.nio.ch.EPollSelectorImpl@407d5d65
07:39:27.755 [XNIO-40 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7f152d9a
07:39:27.768 [XNIO-40 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1d2f685e
07:39:27.769 [XNIO-40 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1f7e6979
07:39:27.777 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.777 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.780 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.780 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.780 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34295
07:39:27.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34295
07:39:27.780 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34295
07:39:27.780 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33004&lt;-&gt;127.0.0.1:34295
07:39:27.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; GET /delta HTTP/1.1
07:39:27.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Cookie: flavor=peanut-butter
07:39:27.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:34295
07:39:27.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
07:39:27.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
07:39:27.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:34295[\r][\n]&quot;
07:39:27.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.778 [XNIO-40 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 Accept', selector sun.nio.ch.EPollSelectorImpl@74705690
07:39:27.782 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=peanut-butter], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34295]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@7420d16e]): &lt;empty&gt; }
07:39:27.783 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 200 OK
07:39:27.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Encoding: gzip
07:39:27.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
07:39:27.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Type: text/date
07:39:27.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 36
07:39:27.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.783 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.784 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33004&lt;-&gt;127.0.0.1:34295
07:39:27.784 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.785 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.785 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.785 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34295
07:39:27.785 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.785 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.785 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; GET /delta HTTP/1.1
07:39:27.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Cookie: flavor=peanut-butter
07:39:27.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:34295
07:39:27.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
07:39:27.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
07:39:27.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:34295[\r][\n]&quot;
07:39:27.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.788 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=peanut-butter], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34295]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@dee444a]): &lt;empty&gt; }
07:39:27.790 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 200 OK
07:39:27.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Encoding: gzip
07:39:27.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
07:39:27.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Type: text/date
07:39:27.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 36
07:39:27.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.790 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.791 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33004&lt;-&gt;127.0.0.1:34295
07:39:27.791 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.791 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@486c0762
07:39:27.796 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3ec126a2
07:39:27.798 [XNIO-41 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6efb9881
07:39:27.801 [XNIO-41 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2a75e67f
07:39:27.807 [XNIO-41 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-3', selector sun.nio.ch.EPollSelectorImpl@20511c02
07:39:27.808 [XNIO-41 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6dd15adb
07:39:27.821 [XNIO-41 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-5', selector sun.nio.ch.EPollSelectorImpl@36878cf0
07:39:27.828 [XNIO-41 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-6', selector sun.nio.ch.EPollSelectorImpl@48c0d807
07:39:27.828 [XNIO-41 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4ae69480
07:39:27.829 [XNIO-41 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-8', selector sun.nio.ch.EPollSelectorImpl@35c4d7df
07:39:27.840 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.841 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.845 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.845 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.845 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41125
07:39:27.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41125
07:39:27.846 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41125
07:39:27.846 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41872&lt;-&gt;127.0.0.1:41125
07:39:27.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; GET /delta HTTP/1.1
07:39:27.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
07:39:27.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:41125
07:39:27.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
07:39:27.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
07:39:27.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:41125[\r][\n]&quot;
07:39:27.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.846 [XNIO-41 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 Accept', selector sun.nio.ch.EPollSelectorImpl@6cab5ede
07:39:27.869 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=oatmeal; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41125]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@6333d826, flavor:ersatz.undertow.server.handlers.CookieImpl@6df42a30]): &lt;empty&gt; }
07:39:27.874 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 200 OK
07:39:27.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Encoding: gzip
07:39:27.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
07:39:27.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Type: text/date
07:39:27.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 36
07:39:27.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.875 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.875 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41872&lt;-&gt;127.0.0.1:41125
07:39:27.875 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.877 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.877 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.877 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41125
07:39:27.877 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
07:39:27.877 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.877 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; GET /delta HTTP/1.1
07:39:27.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
07:39:27.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:41125
07:39:27.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
07:39:27.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
07:39:27.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
07:39:27.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:41125[\r][\n]&quot;
07:39:27.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.878 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=oatmeal; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41125]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@1e24af22, flavor:ersatz.undertow.server.handlers.CookieImpl@10e35296]): &lt;empty&gt; }
07:39:27.879 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:27.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:27.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:27.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:27.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:27.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 200 OK
07:39:27.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Encoding: gzip
07:39:27.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
07:39:27.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Type: text/date
07:39:27.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 36
07:39:27.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.880 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41872&lt;-&gt;127.0.0.1:41125
07:39:27.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.881 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3ec126a2
07:39:27.934 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@160fc5c9
07:39:27.941 [XNIO-42 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7dd55ff2
07:39:27.964 [XNIO-42 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1c79ee5d
07:39:27.965 [XNIO-42 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4f98790f
07:39:27.985 [XNIO-42 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1bdfbd1
07:39:27.986 [XNIO-42 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4b50e48e
07:39:27.989 [XNIO-42 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6dcd6e2e
07:39:27.989 [XNIO-42 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-7', selector sun.nio.ch.EPollSelectorImpl@398cbf7b
07:39:27.993 [XNIO-42 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1f5b43b6
07:39:27.993 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.994 [XNIO-42 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 Accept', selector sun.nio.ch.EPollSelectorImpl@b47479f
07:39:27.995 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.013 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.013 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.013 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34041
07:39:28.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34041
07:39:28.013 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34041
07:39:28.014 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44862&lt;-&gt;127.0.0.1:34041
07:39:28.014 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.014 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.014 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /basic HTTP/1.1
07:39:28.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:34041
07:39:28.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
07:39:28.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:34041[\r][\n]&quot;
07:39:28.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.024 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {}}
07:39:28.024 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.028 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@7036d067 for /basic
07:39:28.028 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {}}
07:39:28.030 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.031 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
07:39:28.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
07:39:28.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.032 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.032 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.032 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34041 requested authentication
07:39:28.032 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.032 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.032 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.032 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.032 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:28.040 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:28.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.044 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.044 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:28.070 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /basic HTTP/1.1
07:39:28.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:34041
07:39:28.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
07:39:28.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:28.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:34041[\r][\n]&quot;
07:39:28.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:28.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.081 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {}}
07:39:28.081 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.086 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {}}
07:39:28.111 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:28.126 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@7036d067 for /basic
07:39:28.127 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:28.127 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]}, cookies=[:]): &lt;empty&gt; }
07:39:28.128 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.128 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.128 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.128 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.128 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.128 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.128 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.128 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 200 OK
07:39:28.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Encoding: gzip
07:39:28.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
07:39:28.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Type: text/plain
07:39:28.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 27
07:39:28.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.129 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.129 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:28.130 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:34041
07:39:28.140 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44862&lt;-&gt;127.0.0.1:34041
07:39:28.140 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.141 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.141 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.141 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34041
07:39:28.141 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.141 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.141 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /basic HTTP/1.1
07:39:28.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:34041
07:39:28.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
07:39:28.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:34041[\r][\n]&quot;
07:39:28.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.142 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {}}
07:39:28.142 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.142 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@7036d067 for /basic
07:39:28.142 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {}}
07:39:28.142 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.142 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
07:39:28.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
07:39:28.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.143 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.143 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34041 requested authentication
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:28.144 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /basic HTTP/1.1
07:39:28.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:34041
07:39:28.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
07:39:28.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:28.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:34041[\r][\n]&quot;
07:39:28.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:28.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.144 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {}}
07:39:28.144 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.144 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]} response {}}
07:39:28.145 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:28.145 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@7036d067 for /basic
07:39:28.145 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:28.145 [XNIO-42 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34041]}, cookies=[:]): &lt;empty&gt; }
07:39:28.145 [XNIO-42 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 200 OK
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Encoding: gzip
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Type: text/plain
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 27
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.146 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:28.146 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:34041
07:39:28.146 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44862&lt;-&gt;127.0.0.1:34041
07:39:28.147 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.147 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@160fc5c9
07:39:28.152 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4c8dd7e2
07:39:28.155 [XNIO-43 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-1', selector sun.nio.ch.EPollSelectorImpl@790f78da
07:39:28.156 [XNIO-43 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-2', selector sun.nio.ch.EPollSelectorImpl@367d7e10
07:39:28.166 [XNIO-43 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6f2940da
07:39:28.173 [XNIO-43 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-4', selector sun.nio.ch.EPollSelectorImpl@54f79ee6
07:39:28.173 [XNIO-43 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-7', selector sun.nio.ch.EPollSelectorImpl@c6e85df
07:39:28.174 [XNIO-43 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1c6665c9
07:39:28.176 [XNIO-43 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-8', selector sun.nio.ch.EPollSelectorImpl@24fa131e
07:39:28.177 [XNIO-43 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-6', selector sun.nio.ch.EPollSelectorImpl@55cea1e6
07:39:28.177 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.178 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.180 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.180 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.180 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44049
07:39:28.180 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:44049
07:39:28.181 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44049
07:39:28.181 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:44049 with timeout 0
07:39:28.181 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:28.181 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:28.181 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:28.186 [XNIO-43 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 Accept', selector sun.nio.ch.EPollSelectorImpl@645f90d0
07:39:28.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:28.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:28.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:28.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.222 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56420&lt;-&gt;127.0.0.1:44049
07:39:28.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /basic HTTP/1.1
07:39:28.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:44049
07:39:28.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
07:39:28.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:44049[\r][\n]&quot;
07:39:28.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.225 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {}}
07:39:28.225 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.225 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@f487556 for /basic
07:39:28.225 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {}}
07:39:28.225 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.225 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
07:39:28.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
07:39:28.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44049 requested authentication
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:28.226 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /basic HTTP/1.1
07:39:28.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:44049
07:39:28.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
07:39:28.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:28.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:44049[\r][\n]&quot;
07:39:28.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:28.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.233 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {}}
07:39:28.233 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.233 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {}}
07:39:28.233 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:28.233 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@f487556 for /basic
07:39:28.233 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:28.235 [XNIO-43 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]}, cookies=[:]): &lt;empty&gt; }
07:39:28.236 [XNIO-43 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
07:39:28.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Encoding: gzip
07:39:28.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
07:39:28.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Type: text/plain
07:39:28.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 27
07:39:28.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.237 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:28.237 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:44049
07:39:28.237 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56420&lt;-&gt;127.0.0.1:44049
07:39:28.237 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.238 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.238 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.238 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44049
07:39:28.238 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.238 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.238 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.238 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /basic HTTP/1.1
07:39:28.238 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:44049
07:39:28.238 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
07:39:28.238 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.238 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.238 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.238 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:44049[\r][\n]&quot;
07:39:28.238 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.238 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.238 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.238 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.244 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {}}
07:39:28.245 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.245 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@f487556 for /basic
07:39:28.245 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {}}
07:39:28.245 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.245 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.245 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
07:39:28.245 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
07:39:28.245 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.245 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44049 requested authentication
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:28.246 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /basic HTTP/1.1
07:39:28.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:44049
07:39:28.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
07:39:28.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:28.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:44049[\r][\n]&quot;
07:39:28.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:28.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.253 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {}}
07:39:28.253 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.253 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]} response {}}
07:39:28.253 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:28.253 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@f487556 for /basic
07:39:28.253 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:28.253 [XNIO-43 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44049]}, cookies=[:]): &lt;empty&gt; }
07:39:28.254 [XNIO-43 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
07:39:28.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Encoding: gzip
07:39:28.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
07:39:28.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Type: text/plain
07:39:28.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 27
07:39:28.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.254 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.254 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:28.254 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:44049
07:39:28.255 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56420&lt;-&gt;127.0.0.1:44049
07:39:28.255 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.255 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4c8dd7e2
07:39:28.262 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@226eb3f9
07:39:28.274 [XNIO-44 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-1', selector sun.nio.ch.EPollSelectorImpl@677f9825
07:39:28.277 [XNIO-44 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3c79daa4
07:39:28.277 [XNIO-44 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-3', selector sun.nio.ch.EPollSelectorImpl@67b6e20a
07:39:28.278 [XNIO-44 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-4', selector sun.nio.ch.EPollSelectorImpl@423c4648
07:39:28.280 [XNIO-44 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-5', selector sun.nio.ch.EPollSelectorImpl@47af60b6
07:39:28.285 [XNIO-44 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-6', selector sun.nio.ch.EPollSelectorImpl@70349e89
07:39:28.296 [XNIO-44 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5708689f
07:39:28.300 [XNIO-44 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-8', selector sun.nio.ch.EPollSelectorImpl@45620bd3
07:39:28.302 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.302 [XNIO-44 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 Accept', selector sun.nio.ch.EPollSelectorImpl@36afb8d8
07:39:28.303 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.310 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.310 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.310 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33557
07:39:28.310 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33557
07:39:28.311 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33557
07:39:28.311 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35650&lt;-&gt;127.0.0.1:33557
07:39:28.311 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.311 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.311 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.311 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /basic HTTP/1.1
07:39:28.311 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:33557
07:39:28.311 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
07:39:28.311 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.311 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:33557[\r][\n]&quot;
07:39:28.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.317 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.317 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.317 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@111c4f52 for /basic
07:39:28.317 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.317 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.317 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33557 requested authentication
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:28.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /basic HTTP/1.1
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:33557
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:33557[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:28.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.321 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.321 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.322 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.322 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.322 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@111c4f52 for /basic
07:39:28.322 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.322 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.322 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
07:39:28.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
07:39:28.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.322 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.322 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.322 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33557 requested authentication
07:39:28.322 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:28.322 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:28.322 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35650&lt;-&gt;127.0.0.1:33557
07:39:28.322 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.346 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33557
07:39:28.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /basic HTTP/1.1
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:33557
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:33557[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.347 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.347 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.347 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@111c4f52 for /basic
07:39:28.347 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.347 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.347 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
07:39:28.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
07:39:28.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.347 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33557 requested authentication
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:28.348 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /basic HTTP/1.1
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:33557
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:33557[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.353 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.353 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.353 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.353 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.353 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@111c4f52 for /basic
07:39:28.353 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {}}
07:39:28.353 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33557]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.353 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
07:39:28.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
07:39:28.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.354 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.354 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33557 requested authentication
07:39:28.354 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:28.354 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:28.354 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35650&lt;-&gt;127.0.0.1:33557
07:39:28.354 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.360 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@226eb3f9
07:39:28.365 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1f240ba
07:39:28.367 [XNIO-45 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-1', selector sun.nio.ch.EPollSelectorImpl@24e52297
07:39:28.368 [XNIO-45 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7e8c152f
07:39:28.368 [XNIO-45 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-3', selector sun.nio.ch.EPollSelectorImpl@17e358ed
07:39:28.368 [XNIO-45 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-4', selector sun.nio.ch.EPollSelectorImpl@24751272
07:39:28.370 [XNIO-45 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-5', selector sun.nio.ch.EPollSelectorImpl@72bc270b
07:39:28.371 [XNIO-45 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6f373487
07:39:28.371 [XNIO-45 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-7', selector sun.nio.ch.EPollSelectorImpl@372e82a0
07:39:28.372 [XNIO-45 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7816ad26
07:39:28.372 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.373 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.374 [XNIO-45 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 Accept', selector sun.nio.ch.EPollSelectorImpl@2e3d910f
07:39:28.376 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.376 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.376 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34709
07:39:28.376 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:34709
07:39:28.376 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34709
07:39:28.376 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:34709 with timeout 0
07:39:28.376 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:28.376 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:28.376 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:28.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:28.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:28.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:28.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.416 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50766&lt;-&gt;127.0.0.1:34709
07:39:28.416 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /basic HTTP/1.1
07:39:28.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:34709
07:39:28.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
07:39:28.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:34709[\r][\n]&quot;
07:39:28.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.418 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.418 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.418 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e663155 for /basic
07:39:28.418 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.418 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.418 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34709 requested authentication
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:28.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /basic HTTP/1.1
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:34709
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:34709[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:28.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.420 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.420 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.420 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.420 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.420 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e663155 for /basic
07:39:28.420 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.420 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.421 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
07:39:28.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
07:39:28.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.422 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.422 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.422 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34709 requested authentication
07:39:28.422 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:28.422 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:28.422 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50766&lt;-&gt;127.0.0.1:34709
07:39:28.422 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.423 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.423 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.423 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34709
07:39:28.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /basic HTTP/1.1
07:39:28.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:34709
07:39:28.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
07:39:28.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:34709[\r][\n]&quot;
07:39:28.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.429 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.429 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.429 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e663155 for /basic
07:39:28.429 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.429 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.429 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34709 requested authentication
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:28.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /basic HTTP/1.1
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:34709
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:34709[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:28.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.437 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.437 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:28.437 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.437 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.437 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e663155 for /basic
07:39:28.437 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {}}
07:39:28.437 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34709]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:28.437 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:28.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:28.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
07:39:28.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:28.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
07:39:28.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34709 requested authentication
07:39:28.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:28.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:28.438 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50766&lt;-&gt;127.0.0.1:34709
07:39:28.438 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.439 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1f240ba
07:39:28.468 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1915e728
07:39:28.469 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.469 [XNIO-46 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2e78f8e4
07:39:28.470 [XNIO-46 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1e985415
07:39:28.470 [XNIO-46 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3de1c550
07:39:28.470 [XNIO-46 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1670f58b
07:39:28.470 [XNIO-46 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5fef4464
07:39:28.469 [XNIO-46 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-1', selector sun.nio.ch.EPollSelectorImpl@311076
07:39:28.470 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.470 [XNIO-46 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-6', selector sun.nio.ch.EPollSelectorImpl@71fabbda
07:39:28.470 [XNIO-46 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 Accept', selector sun.nio.ch.EPollSelectorImpl@4d4e156d
07:39:28.470 [XNIO-46 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7c3db5ad
07:39:28.481 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.481 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.482 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34805
07:39:28.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34805
07:39:28.482 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34805
07:39:28.482 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45082&lt;-&gt;127.0.0.1:34805
07:39:28.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /digest HTTP/1.1
07:39:28.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:34805
07:39:28.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
07:39:28.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:34805[\r][\n]&quot;
07:39:28.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.484 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]} response {}}
07:39:28.511 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.511 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@7901b29d for /digest
07:39:28.511 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]} response {}}
07:39:28.512 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.512 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-29: Shutdown connection
07:39:28.514 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.514 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-28: Shutdown connection
07:39:28.514 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.514 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-27: Shutdown connection
07:39:28.515 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.515 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-26: Shutdown connection
07:39:28.516 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.516 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-25: Shutdown connection
07:39:28.516 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.516 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-32: Shutdown connection
07:39:28.517 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.517 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-31: Shutdown connection
07:39:28.517 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.517 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-30: Shutdown connection
07:39:28.518 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.518 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-36: Shutdown connection
07:39:28.519 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.519 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-35: Shutdown connection
07:39:28.519 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.519 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-34: Shutdown connection
07:39:28.520 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.520 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-33: Shutdown connection
07:39:28.520 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.520 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-40: Shutdown connection
07:39:28.521 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.521 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.521 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-39: Shutdown connection
07:39:28.521 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.522 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-38: Shutdown connection
07:39:28.522 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.522 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-37: Shutdown connection
07:39:28.522 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.522 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.522 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.522 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.522 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
07:39:28.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
07:39:28.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.522 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.522 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.522 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34805 requested authentication
07:39:28.522 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.522 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.522 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.522 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.523 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.523 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-41: Shutdown connection
07:39:28.524 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.524 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-44: Shutdown connection
07:39:28.524 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.524 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-43: Shutdown connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-42: Shutdown connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-20: Shutdown connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-21: Shutdown connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-22: Shutdown connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-23: Shutdown connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:28.531 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-24: Shutdown connection
07:39:28.544 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:28.544 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:28.544 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.544 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.544 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:28.551 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /digest HTTP/1.1
07:39:28.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:34805
07:39:28.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
07:39:28.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;, uri=&quot;/digest&quot;, response=&quot;8973b4dd7c0c50e2e8cc1067ee8dd06e&quot;, qop=auth, nc=00000001, cnonce=&quot;12b2e0d7a1c19dc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:28.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:34805[\r][\n]&quot;
07:39:28.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;, uri=&quot;/digest&quot;, response=&quot;8973b4dd7c0c50e2e8cc1067ee8dd06e&quot;, qop=auth, nc=00000001, cnonce=&quot;12b2e0d7a1c19dc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:28.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.564 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;, uri=&quot;/digest&quot;, response=&quot;8973b4dd7c0c50e2e8cc1067ee8dd06e&quot;, qop=auth, nc=00000001, cnonce=&quot;12b2e0d7a1c19dc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]} response {}}
07:39:28.565 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.567 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;, uri=&quot;/digest&quot;, response=&quot;8973b4dd7c0c50e2e8cc1067ee8dd06e&quot;, qop=auth, nc=00000001, cnonce=&quot;12b2e0d7a1c19dc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;, uri=&quot;/digest&quot;, response=&quot;8973b4dd7c0c50e2e8cc1067ee8dd06e&quot;, qop=auth, nc=00000001, cnonce=&quot;12b2e0d7a1c19dc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]} response {}}
07:39:28.574 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:28.575 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@7901b29d for /digest
07:39:28.575 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:28.575 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;, uri=&quot;/digest&quot;, response=&quot;8973b4dd7c0c50e2e8cc1067ee8dd06e&quot;, qop=auth, nc=00000001, cnonce=&quot;12b2e0d7a1c19dc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]}, cookies=[:]): &lt;empty&gt; }
07:39:28.575 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;,qop=&quot;auth&quot;,rspauth=&quot;8acc535012dbd1f59d5dc0167f8acb5e&quot;,cnonce=&quot;12b2e0d7a1c19dc5&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
07:39:28.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;,qop=&quot;auth&quot;,rspauth=&quot;8acc535012dbd1f59d5dc0167f8acb5e&quot;,cnonce=&quot;12b2e0d7a1c19dc5&quot;,nc=00000001[\r][\n]&quot;
07:39:28.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 200 OK
07:39:28.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Encoding: gzip
07:39:28.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
07:39:28.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Authentication-Info: nextnonce=&quot;+Yy+iRSCQf0NMTUwNzg5ODM2ODUxNgaRcphwUwrsPRhTNQP8wIM=&quot;,qop=&quot;auth&quot;,rspauth=&quot;8acc535012dbd1f59d5dc0167f8acb5e&quot;,cnonce=&quot;12b2e0d7a1c19dc5&quot;,nc=00000001
07:39:28.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Type: text/plain
07:39:28.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 27
07:39:28.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.576 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.576 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:28.576 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:34805
07:39:28.578 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45082&lt;-&gt;127.0.0.1:34805
07:39:28.578 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.579 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.579 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.579 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34805
07:39:28.579 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.579 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.579 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /digest HTTP/1.1
07:39:28.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:34805
07:39:28.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
07:39:28.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:34805[\r][\n]&quot;
07:39:28.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.579 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]} response {}}
07:39:28.579 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.579 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@7901b29d for /digest
07:39:28.580 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]} response {}}
07:39:28.580 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
07:39:28.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
07:39:28.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34805 requested authentication
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.580 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:28.581 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /digest HTTP/1.1
07:39:28.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:34805
07:39:28.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
07:39:28.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;, uri=&quot;/digest&quot;, response=&quot;1191e7290ac12cd8a4c3847cb1a42256&quot;, qop=auth, nc=00000001, cnonce=&quot;0999888dbc7d1c79&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:28.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:34805[\r][\n]&quot;
07:39:28.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;, uri=&quot;/digest&quot;, response=&quot;1191e7290ac12cd8a4c3847cb1a42256&quot;, qop=auth, nc=00000001, cnonce=&quot;0999888dbc7d1c79&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:28.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.585 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;, uri=&quot;/digest&quot;, response=&quot;1191e7290ac12cd8a4c3847cb1a42256&quot;, qop=auth, nc=00000001, cnonce=&quot;0999888dbc7d1c79&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]} response {}}
07:39:28.585 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.585 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;, uri=&quot;/digest&quot;, response=&quot;1191e7290ac12cd8a4c3847cb1a42256&quot;, qop=auth, nc=00000001, cnonce=&quot;0999888dbc7d1c79&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;, uri=&quot;/digest&quot;, response=&quot;1191e7290ac12cd8a4c3847cb1a42256&quot;, qop=auth, nc=00000001, cnonce=&quot;0999888dbc7d1c79&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]} response {}}
07:39:28.586 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:28.586 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@7901b29d for /digest
07:39:28.586 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:28.586 [XNIO-46 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;, uri=&quot;/digest&quot;, response=&quot;1191e7290ac12cd8a4c3847cb1a42256&quot;, qop=auth, nc=00000001, cnonce=&quot;0999888dbc7d1c79&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]}, cookies=[:]): &lt;empty&gt; }
07:39:28.587 [XNIO-46 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f469d525a4dfae90b48fa8c5eeed9324&quot;,cnonce=&quot;0999888dbc7d1c79&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
07:39:28.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f469d525a4dfae90b48fa8c5eeed9324&quot;,cnonce=&quot;0999888dbc7d1c79&quot;,nc=00000001[\r][\n]&quot;
07:39:28.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 200 OK
07:39:28.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Encoding: gzip
07:39:28.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
07:39:28.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Authentication-Info: nextnonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f469d525a4dfae90b48fa8c5eeed9324&quot;,cnonce=&quot;0999888dbc7d1c79&quot;,nc=00000001
07:39:28.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Type: text/plain
07:39:28.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 27
07:39:28.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.587 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.587 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:28.587 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:34805
07:39:28.588 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45082&lt;-&gt;127.0.0.1:34805
07:39:28.588 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.589 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1915e728
07:39:28.592 [XNIO-46 task-4] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;, uri=&quot;/digest&quot;, response=&quot;1191e7290ac12cd8a4c3847cb1a42256&quot;, qop=auth, nc=00000001, cnonce=&quot;0999888dbc7d1c79&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34805]} response {Content-Encoding=[gzip], Connection=[keep-alive], Authentication-Info=[nextnonce=&quot;LYIn14+3k24NMTUwNzg5ODM2ODU4MIt24aVkQU+t67KDGgUpYak=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f469d525a4dfae90b48fa8c5eeed9324&quot;,cnonce=&quot;0999888dbc7d1c79&quot;,nc=00000001], Content-Type=[text/plain], Content-Length=[27], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:28.595 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3ba37304
07:39:28.597 [XNIO-47 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1a5b4edc
07:39:28.612 [XNIO-47 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-2', selector sun.nio.ch.EPollSelectorImpl@629913f5
07:39:28.612 [XNIO-47 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2d3dff52
07:39:28.612 [XNIO-47 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-4', selector sun.nio.ch.EPollSelectorImpl@83b605d
07:39:28.612 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.613 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.614 [XNIO-47 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-7', selector sun.nio.ch.EPollSelectorImpl@50c47123
07:39:28.614 [XNIO-47 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 Accept', selector sun.nio.ch.EPollSelectorImpl@5f1a3baf
07:39:28.614 [XNIO-47 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-8', selector sun.nio.ch.EPollSelectorImpl@12e7db2d
07:39:28.614 [XNIO-47 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-6', selector sun.nio.ch.EPollSelectorImpl@125709a8
07:39:28.614 [XNIO-47 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1903adde
07:39:28.615 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.615 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.615 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46617
07:39:28.615 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:46617
07:39:28.615 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46617
07:39:28.615 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:46617 with timeout 0
07:39:28.615 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:28.615 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:28.615 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:28.651 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:28.652 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:28.652 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:28.652 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.652 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.652 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45668&lt;-&gt;127.0.0.1:46617
07:39:28.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /digest HTTP/1.1
07:39:28.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:46617
07:39:28.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
07:39:28.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:46617[\r][\n]&quot;
07:39:28.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.652 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]} response {}}
07:39:28.652 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.652 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@24957f6a for /digest
07:39:28.652 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]} response {}}
07:39:28.652 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.653 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
07:39:28.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
07:39:28.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:46617 requested authentication
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.653 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:28.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /digest HTTP/1.1
07:39:28.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:46617
07:39:28.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
07:39:28.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;18988b3704d6c39505c111d5621459bf&quot;, qop=auth, nc=00000001, cnonce=&quot;9054fe094fb4f707&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:28.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:46617[\r][\n]&quot;
07:39:28.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;18988b3704d6c39505c111d5621459bf&quot;, qop=auth, nc=00000001, cnonce=&quot;9054fe094fb4f707&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:28.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.661 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;18988b3704d6c39505c111d5621459bf&quot;, qop=auth, nc=00000001, cnonce=&quot;9054fe094fb4f707&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]} response {}}
07:39:28.662 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.662 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;18988b3704d6c39505c111d5621459bf&quot;, qop=auth, nc=00000001, cnonce=&quot;9054fe094fb4f707&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;18988b3704d6c39505c111d5621459bf&quot;, qop=auth, nc=00000001, cnonce=&quot;9054fe094fb4f707&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]} response {}}
07:39:28.663 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:28.663 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@24957f6a for /digest
07:39:28.663 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:28.663 [XNIO-47 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;18988b3704d6c39505c111d5621459bf&quot;, qop=auth, nc=00000001, cnonce=&quot;9054fe094fb4f707&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]}, cookies=[:]): &lt;empty&gt; }
07:39:28.664 [XNIO-47 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f9d7434cd358438d8c33f16a017dae64&quot;,cnonce=&quot;9054fe094fb4f707&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
07:39:28.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f9d7434cd358438d8c33f16a017dae64&quot;,cnonce=&quot;9054fe094fb4f707&quot;,nc=00000001[\r][\n]&quot;
07:39:28.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
07:39:28.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Encoding: gzip
07:39:28.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
07:39:28.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Authentication-Info: nextnonce=&quot;BogL17yP00ANMTUwNzg5ODM2ODY1MumJkH176lVbFLW2A9N1Q4Y=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f9d7434cd358438d8c33f16a017dae64&quot;,cnonce=&quot;9054fe094fb4f707&quot;,nc=00000001
07:39:28.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Type: text/plain
07:39:28.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 27
07:39:28.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.664 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.665 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:28.665 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:46617
07:39:28.666 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45668&lt;-&gt;127.0.0.1:46617
07:39:28.666 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.666 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.666 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.666 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46617
07:39:28.666 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.666 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.666 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /digest HTTP/1.1
07:39:28.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:46617
07:39:28.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
07:39:28.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.666 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.666 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:46617[\r][\n]&quot;
07:39:28.666 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.666 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.666 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.666 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.668 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]} response {}}
07:39:28.668 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.668 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@24957f6a for /digest
07:39:28.668 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]} response {}}
07:39:28.668 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.669 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.669 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.669 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.669 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.669 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.669 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.669 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.669 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
07:39:28.669 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.669 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
07:39:28.669 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:46617 requested authentication
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.669 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:28.670 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /digest HTTP/1.1
07:39:28.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:46617
07:39:28.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
07:39:28.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;, uri=&quot;/digest&quot;, response=&quot;ba9701c44f4d82befd311a591ef6ddaa&quot;, qop=auth, nc=00000001, cnonce=&quot;5d2ab4bba5bdca0d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:28.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:46617[\r][\n]&quot;
07:39:28.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;, uri=&quot;/digest&quot;, response=&quot;ba9701c44f4d82befd311a591ef6ddaa&quot;, qop=auth, nc=00000001, cnonce=&quot;5d2ab4bba5bdca0d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:28.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.671 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;, uri=&quot;/digest&quot;, response=&quot;ba9701c44f4d82befd311a591ef6ddaa&quot;, qop=auth, nc=00000001, cnonce=&quot;5d2ab4bba5bdca0d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]} response {}}
07:39:28.671 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.671 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;, uri=&quot;/digest&quot;, response=&quot;ba9701c44f4d82befd311a591ef6ddaa&quot;, qop=auth, nc=00000001, cnonce=&quot;5d2ab4bba5bdca0d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;, uri=&quot;/digest&quot;, response=&quot;ba9701c44f4d82befd311a591ef6ddaa&quot;, qop=auth, nc=00000001, cnonce=&quot;5d2ab4bba5bdca0d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]} response {}}
07:39:28.672 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:28.672 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@24957f6a for /digest
07:39:28.672 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:28.672 [XNIO-47 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;, uri=&quot;/digest&quot;, response=&quot;ba9701c44f4d82befd311a591ef6ddaa&quot;, qop=auth, nc=00000001, cnonce=&quot;5d2ab4bba5bdca0d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46617]}, cookies=[:]): &lt;empty&gt; }
07:39:28.672 [XNIO-47 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;51ecd1e58f2f83f99d15a1fca8c941a5&quot;,cnonce=&quot;5d2ab4bba5bdca0d&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
07:39:28.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;51ecd1e58f2f83f99d15a1fca8c941a5&quot;,cnonce=&quot;5d2ab4bba5bdca0d&quot;,nc=00000001[\r][\n]&quot;
07:39:28.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
07:39:28.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Encoding: gzip
07:39:28.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
07:39:28.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Authentication-Info: nextnonce=&quot;ldBb1W+OJjYNMTUwNzg5ODM2ODY2OMRQLB+dZ+AnjuVZNufHTiw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;51ecd1e58f2f83f99d15a1fca8c941a5&quot;,cnonce=&quot;5d2ab4bba5bdca0d&quot;,nc=00000001
07:39:28.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Type: text/plain
07:39:28.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 27
07:39:28.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.674 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.674 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:28.674 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:46617
07:39:28.674 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45668&lt;-&gt;127.0.0.1:46617
07:39:28.674 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.675 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3ba37304
07:39:28.682 [XNIO-47 task-6] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 31 common frames omitted
07:39:28.699 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1d658980
07:39:28.702 [XNIO-48 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-1', selector sun.nio.ch.EPollSelectorImpl@59d8801a
07:39:28.704 [XNIO-48 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7df3c30f
07:39:28.702 [XNIO-48 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-2', selector sun.nio.ch.EPollSelectorImpl@61a60f39
07:39:28.710 [XNIO-48 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-4', selector sun.nio.ch.EPollSelectorImpl@100d6d9e
07:39:28.710 [XNIO-48 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-5', selector sun.nio.ch.EPollSelectorImpl@13d83211
07:39:28.711 [XNIO-48 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3112fac6
07:39:28.711 [XNIO-48 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3eb6361c
07:39:28.712 [XNIO-48 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-8', selector sun.nio.ch.EPollSelectorImpl@21657521
07:39:28.712 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.713 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.717 [XNIO-48 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 Accept', selector sun.nio.ch.EPollSelectorImpl@e2625ab
07:39:28.722 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.722 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.722 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44995
07:39:28.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44995
07:39:28.722 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44995
07:39:28.722 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37526&lt;-&gt;127.0.0.1:44995
07:39:28.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /digest HTTP/1.1
07:39:28.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:44995
07:39:28.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
07:39:28.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:44995[\r][\n]&quot;
07:39:28.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.724 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.725 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.725 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@30d05185 for /digest
07:39:28.725 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.725 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;x1b6LX/f5SgNMTUwNzg5ODM2ODcyNRd70BHAMTWmmCy3V+VDfsM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
07:39:28.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;x1b6LX/f5SgNMTUwNzg5ODM2ODcyNRd70BHAMTWmmCy3V+VDfsM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
07:39:28.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44995 requested authentication
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.726 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:28.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /digest HTTP/1.1
07:39:28.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:44995
07:39:28.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
07:39:28.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x1b6LX/f5SgNMTUwNzg5ODM2ODcyNRd70BHAMTWmmCy3V+VDfsM=&quot;, uri=&quot;/digest&quot;, response=&quot;c67a258c7a0af0b2276c1def0abb46ff&quot;, qop=auth, nc=00000001, cnonce=&quot;717174cd7d9c42e5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:28.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:44995[\r][\n]&quot;
07:39:28.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x1b6LX/f5SgNMTUwNzg5ODM2ODcyNRd70BHAMTWmmCy3V+VDfsM=&quot;, uri=&quot;/digest&quot;, response=&quot;c67a258c7a0af0b2276c1def0abb46ff&quot;, qop=auth, nc=00000001, cnonce=&quot;717174cd7d9c42e5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:28.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.729 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x1b6LX/f5SgNMTUwNzg5ODM2ODcyNRd70BHAMTWmmCy3V+VDfsM=&quot;, uri=&quot;/digest&quot;, response=&quot;c67a258c7a0af0b2276c1def0abb46ff&quot;, qop=auth, nc=00000001, cnonce=&quot;717174cd7d9c42e5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.729 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.729 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x1b6LX/f5SgNMTUwNzg5ODM2ODcyNRd70BHAMTWmmCy3V+VDfsM=&quot;, uri=&quot;/digest&quot;, response=&quot;c67a258c7a0af0b2276c1def0abb46ff&quot;, qop=auth, nc=00000001, cnonce=&quot;717174cd7d9c42e5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x1b6LX/f5SgNMTUwNzg5ODM2ODcyNRd70BHAMTWmmCy3V+VDfsM=&quot;, uri=&quot;/digest&quot;, response=&quot;c67a258c7a0af0b2276c1def0abb46ff&quot;, qop=auth, nc=00000001, cnonce=&quot;717174cd7d9c42e5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.730 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x1b6LX/f5SgNMTUwNzg5ODM2ODcyNRd70BHAMTWmmCy3V+VDfsM=&quot;, uri=&quot;/digest&quot;, response=&quot;c67a258c7a0af0b2276c1def0abb46ff&quot;, qop=auth, nc=00000001, cnonce=&quot;717174cd7d9c42e5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.730 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@30d05185 for /digest
07:39:28.730 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x1b6LX/f5SgNMTUwNzg5ODM2ODcyNRd70BHAMTWmmCy3V+VDfsM=&quot;, uri=&quot;/digest&quot;, response=&quot;c67a258c7a0af0b2276c1def0abb46ff&quot;, qop=auth, nc=00000001, cnonce=&quot;717174cd7d9c42e5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.730 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Wm0tXX6/dxsNMTUwNzg5ODM2ODczMPKEWEo0tTkPX26+rDWr11M=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
07:39:28.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Wm0tXX6/dxsNMTUwNzg5ODM2ODczMPKEWEo0tTkPX26+rDWr11M=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
07:39:28.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.730 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.730 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.730 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44995 requested authentication
07:39:28.730 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:28.731 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:28.731 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37526&lt;-&gt;127.0.0.1:44995
07:39:28.731 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.732 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.732 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.732 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44995
07:39:28.732 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.732 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.732 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.732 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /digest HTTP/1.1
07:39:28.732 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:44995
07:39:28.732 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
07:39:28.732 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.732 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.732 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.732 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:44995[\r][\n]&quot;
07:39:28.732 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.732 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.732 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.732 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.737 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.737 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.737 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@30d05185 for /digest
07:39:28.737 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.737 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;q6KwHIgp/YANMTUwNzg5ODM2ODczN9es1MsDzA8iAnuOi5vQ/GU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
07:39:28.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;q6KwHIgp/YANMTUwNzg5ODM2ODczN9es1MsDzA8iAnuOi5vQ/GU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
07:39:28.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.737 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.737 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.737 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44995 requested authentication
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:28.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /digest HTTP/1.1
07:39:28.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:44995
07:39:28.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
07:39:28.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;q6KwHIgp/YANMTUwNzg5ODM2ODczN9es1MsDzA8iAnuOi5vQ/GU=&quot;, uri=&quot;/digest&quot;, response=&quot;f1ef2bc12b6376736b585200bad189be&quot;, qop=auth, nc=00000001, cnonce=&quot;4ae75dd79464a123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:28.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:44995[\r][\n]&quot;
07:39:28.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;q6KwHIgp/YANMTUwNzg5ODM2ODczN9es1MsDzA8iAnuOi5vQ/GU=&quot;, uri=&quot;/digest&quot;, response=&quot;f1ef2bc12b6376736b585200bad189be&quot;, qop=auth, nc=00000001, cnonce=&quot;4ae75dd79464a123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:28.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.739 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;q6KwHIgp/YANMTUwNzg5ODM2ODczN9es1MsDzA8iAnuOi5vQ/GU=&quot;, uri=&quot;/digest&quot;, response=&quot;f1ef2bc12b6376736b585200bad189be&quot;, qop=auth, nc=00000001, cnonce=&quot;4ae75dd79464a123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.739 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.739 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;q6KwHIgp/YANMTUwNzg5ODM2ODczN9es1MsDzA8iAnuOi5vQ/GU=&quot;, uri=&quot;/digest&quot;, response=&quot;f1ef2bc12b6376736b585200bad189be&quot;, qop=auth, nc=00000001, cnonce=&quot;4ae75dd79464a123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;q6KwHIgp/YANMTUwNzg5ODM2ODczN9es1MsDzA8iAnuOi5vQ/GU=&quot;, uri=&quot;/digest&quot;, response=&quot;f1ef2bc12b6376736b585200bad189be&quot;, qop=auth, nc=00000001, cnonce=&quot;4ae75dd79464a123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.740 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;q6KwHIgp/YANMTUwNzg5ODM2ODczN9es1MsDzA8iAnuOi5vQ/GU=&quot;, uri=&quot;/digest&quot;, response=&quot;f1ef2bc12b6376736b585200bad189be&quot;, qop=auth, nc=00000001, cnonce=&quot;4ae75dd79464a123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.740 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@30d05185 for /digest
07:39:28.740 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;q6KwHIgp/YANMTUwNzg5ODM2ODczN9es1MsDzA8iAnuOi5vQ/GU=&quot;, uri=&quot;/digest&quot;, response=&quot;f1ef2bc12b6376736b585200bad189be&quot;, qop=auth, nc=00000001, cnonce=&quot;4ae75dd79464a123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44995]} response {}}
07:39:28.740 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;zH1doJutDZ8NMTUwNzg5ODM2ODc0MCUdl9cKzExEhlEpch93ajo=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
07:39:28.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;zH1doJutDZ8NMTUwNzg5ODM2ODc0MCUdl9cKzExEhlEpch93ajo=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
07:39:28.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.740 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.740 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.740 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44995 requested authentication
07:39:28.740 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:28.740 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:28.740 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37526&lt;-&gt;127.0.0.1:44995
07:39:28.740 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.741 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1d658980
07:39:28.746 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3cc46524
07:39:28.750 [XNIO-49 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6ebe478d
07:39:28.751 [XNIO-49 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36454e7e
07:39:28.752 [XNIO-49 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-6', selector sun.nio.ch.EPollSelectorImpl@c9e3058
07:39:28.750 [XNIO-49 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-1', selector sun.nio.ch.EPollSelectorImpl@442fd308
07:39:28.756 [XNIO-49 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1384993a
07:39:28.760 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.761 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.751 [XNIO-49 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5248f2fe
07:39:28.751 [XNIO-49 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-4', selector sun.nio.ch.EPollSelectorImpl@405ec082
07:39:28.760 [XNIO-49 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6bac757a
07:39:28.762 [XNIO-49 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 Accept', selector sun.nio.ch.EPollSelectorImpl@4fa63676
07:39:28.764 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.764 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.764 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:38689
07:39:28.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:38689
07:39:28.764 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38689
07:39:28.764 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:38689 with timeout 0
07:39:28.764 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:28.764 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:28.764 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:28.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:28.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:28.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:28.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.799 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44586&lt;-&gt;127.0.0.1:38689
07:39:28.799 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.799 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.799 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /digest HTTP/1.1
07:39:28.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:38689
07:39:28.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
07:39:28.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:38689[\r][\n]&quot;
07:39:28.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.801 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.802 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.802 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2f06d237 for /digest
07:39:28.802 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.802 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;FvXiTJm115UNMTUwNzg5ODM2ODgwMpiA4CLzL1psSCDg20FV6mc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
07:39:28.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;FvXiTJm115UNMTUwNzg5ODM2ODgwMpiA4CLzL1psSCDg20FV6mc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
07:39:28.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.809 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.809 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.809 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38689 requested authentication
07:39:28.809 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.809 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.809 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.809 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.809 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:28.809 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:28.810 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.810 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.810 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:28.810 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /digest HTTP/1.1
07:39:28.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:38689
07:39:28.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
07:39:28.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FvXiTJm115UNMTUwNzg5ODM2ODgwMpiA4CLzL1psSCDg20FV6mc=&quot;, uri=&quot;/digest&quot;, response=&quot;02bd9839a554b657c52a2f869bf8d152&quot;, qop=auth, nc=00000001, cnonce=&quot;b56ca88db9a1460b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:28.810 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.810 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:38689[\r][\n]&quot;
07:39:28.810 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.810 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.810 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.810 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FvXiTJm115UNMTUwNzg5ODM2ODgwMpiA4CLzL1psSCDg20FV6mc=&quot;, uri=&quot;/digest&quot;, response=&quot;02bd9839a554b657c52a2f869bf8d152&quot;, qop=auth, nc=00000001, cnonce=&quot;b56ca88db9a1460b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:28.810 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.815 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FvXiTJm115UNMTUwNzg5ODM2ODgwMpiA4CLzL1psSCDg20FV6mc=&quot;, uri=&quot;/digest&quot;, response=&quot;02bd9839a554b657c52a2f869bf8d152&quot;, qop=auth, nc=00000001, cnonce=&quot;b56ca88db9a1460b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.815 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.815 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FvXiTJm115UNMTUwNzg5ODM2ODgwMpiA4CLzL1psSCDg20FV6mc=&quot;, uri=&quot;/digest&quot;, response=&quot;02bd9839a554b657c52a2f869bf8d152&quot;, qop=auth, nc=00000001, cnonce=&quot;b56ca88db9a1460b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FvXiTJm115UNMTUwNzg5ODM2ODgwMpiA4CLzL1psSCDg20FV6mc=&quot;, uri=&quot;/digest&quot;, response=&quot;02bd9839a554b657c52a2f869bf8d152&quot;, qop=auth, nc=00000001, cnonce=&quot;b56ca88db9a1460b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.815 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FvXiTJm115UNMTUwNzg5ODM2ODgwMpiA4CLzL1psSCDg20FV6mc=&quot;, uri=&quot;/digest&quot;, response=&quot;02bd9839a554b657c52a2f869bf8d152&quot;, qop=auth, nc=00000001, cnonce=&quot;b56ca88db9a1460b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.815 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2f06d237 for /digest
07:39:28.815 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FvXiTJm115UNMTUwNzg5ODM2ODgwMpiA4CLzL1psSCDg20FV6mc=&quot;, uri=&quot;/digest&quot;, response=&quot;02bd9839a554b657c52a2f869bf8d152&quot;, qop=auth, nc=00000001, cnonce=&quot;b56ca88db9a1460b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.815 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;qXo/8MQ7YecNMTUwNzg5ODM2ODgxNT3v7Ob71dYf14XKF6hQV9I=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
07:39:28.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;qXo/8MQ7YecNMTUwNzg5ODM2ODgxNT3v7Ob71dYf14XKF6hQV9I=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
07:39:28.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.817 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.817 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38689 requested authentication
07:39:28.817 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:28.818 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:28.818 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44586&lt;-&gt;127.0.0.1:38689
07:39:28.818 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.820 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.820 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.820 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:38689
07:39:28.820 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.820 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.820 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /digest HTTP/1.1
07:39:28.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:38689
07:39:28.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
07:39:28.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:38689[\r][\n]&quot;
07:39:28.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.820 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.820 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.820 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2f06d237 for /digest
07:39:28.821 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.821 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;+Em9THLfvxINMTUwNzg5ODM2ODgyMXaFoDCpGmA1FhHHpFh1YOI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.821 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.821 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
07:39:28.821 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;+Em9THLfvxINMTUwNzg5ODM2ODgyMXaFoDCpGmA1FhHHpFh1YOI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.821 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
07:39:28.821 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38689 requested authentication
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:28.822 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:28.823 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /digest HTTP/1.1
07:39:28.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:38689
07:39:28.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
07:39:28.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Em9THLfvxINMTUwNzg5ODM2ODgyMXaFoDCpGmA1FhHHpFh1YOI=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8a24110aa3a02edf1344fb6ff92a65&quot;, qop=auth, nc=00000001, cnonce=&quot;fd27507929c04091&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:28.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
07:39:28.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:38689[\r][\n]&quot;
07:39:28.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Em9THLfvxINMTUwNzg5ODM2ODgyMXaFoDCpGmA1FhHHpFh1YOI=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8a24110aa3a02edf1344fb6ff92a65&quot;, qop=auth, nc=00000001, cnonce=&quot;fd27507929c04091&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:28.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.824 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Em9THLfvxINMTUwNzg5ODM2ODgyMXaFoDCpGmA1FhHHpFh1YOI=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8a24110aa3a02edf1344fb6ff92a65&quot;, qop=auth, nc=00000001, cnonce=&quot;fd27507929c04091&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.824 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:28.825 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Em9THLfvxINMTUwNzg5ODM2ODgyMXaFoDCpGmA1FhHHpFh1YOI=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8a24110aa3a02edf1344fb6ff92a65&quot;, qop=auth, nc=00000001, cnonce=&quot;fd27507929c04091&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Em9THLfvxINMTUwNzg5ODM2ODgyMXaFoDCpGmA1FhHHpFh1YOI=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8a24110aa3a02edf1344fb6ff92a65&quot;, qop=auth, nc=00000001, cnonce=&quot;fd27507929c04091&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.825 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Em9THLfvxINMTUwNzg5ODM2ODgyMXaFoDCpGmA1FhHHpFh1YOI=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8a24110aa3a02edf1344fb6ff92a65&quot;, qop=auth, nc=00000001, cnonce=&quot;fd27507929c04091&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.825 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2f06d237 for /digest
07:39:28.825 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;+Em9THLfvxINMTUwNzg5ODM2ODgyMXaFoDCpGmA1FhHHpFh1YOI=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8a24110aa3a02edf1344fb6ff92a65&quot;, qop=auth, nc=00000001, cnonce=&quot;fd27507929c04091&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38689]} response {}}
07:39:28.825 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:28.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:28.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;XSd7H/3vz4UNMTUwNzg5ODM2ODgyNVUrfT4VpCFGrGbF3FclcQs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:28.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:28.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
07:39:28.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;XSd7H/3vz4UNMTUwNzg5ODM2ODgyNVUrfT4VpCFGrGbF3FclcQs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:28.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
07:39:28.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.826 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.826 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:28.826 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38689 requested authentication
07:39:28.826 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:28.826 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:28.826 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44586&lt;-&gt;127.0.0.1:38689
07:39:28.826 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.827 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3cc46524
07:39:28.834 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@47e0631
07:39:28.835 [XNIO-49 task-6] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:371)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.server.HttpServerExchange$DefaultBlockingHttpExchange.close(HttpServerExchange.java:1890)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1599)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:55)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 21 common frames omitted
07:39:28.837 [XNIO-50 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1727f300
07:39:28.837 [XNIO-50 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-2', selector sun.nio.ch.EPollSelectorImpl@68f6945d
07:39:28.838 [XNIO-50 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-3', selector sun.nio.ch.EPollSelectorImpl@731fbbe5
07:39:28.839 [XNIO-50 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-6', selector sun.nio.ch.EPollSelectorImpl@62816288
07:39:28.839 [XNIO-50 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-7', selector sun.nio.ch.EPollSelectorImpl@220f56cf
07:39:28.839 [XNIO-50 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-8', selector sun.nio.ch.EPollSelectorImpl@9b73e66
07:39:28.839 [XNIO-50 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2d22b1fd
07:39:28.839 [XNIO-50 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3f944e2c
07:39:28.840 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.840 [XNIO-50 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 Accept', selector sun.nio.ch.EPollSelectorImpl@6ff09159
07:39:28.842 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.859 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.859 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33021
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33021
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33021
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55862&lt;-&gt;127.0.0.1:33021
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /pass HTTP/1.1
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; GET /pass HTTP/1.1
07:39:28.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:33021
07:39:28.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
07:39:28.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;GET /pass HTTP/1.1[\r][\n]&quot;
07:39:28.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:33021[\r][\n]&quot;
07:39:28.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.860 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33021]}, cookies=[:]): &lt;empty&gt; }
07:39:28.860 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 200 OK
07:39:28.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Encoding: gzip
07:39:28.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
07:39:28.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Type: text/plain
07:39:28.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 27
07:39:28.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.861 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.861 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55862&lt;-&gt;127.0.0.1:33021
07:39:28.861 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.862 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.862 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.862 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33021
07:39:28.862 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /pass HTTP/1.1
07:39:28.862 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.862 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.862 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; GET /pass HTTP/1.1
07:39:28.862 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:33021
07:39:28.862 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
07:39:28.862 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.862 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;GET /pass HTTP/1.1[\r][\n]&quot;
07:39:28.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:33021[\r][\n]&quot;
07:39:28.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.862 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33021]}, cookies=[:]): &lt;empty&gt; }
07:39:28.863 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 200 OK
07:39:28.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Encoding: gzip
07:39:28.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
07:39:28.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Type: text/plain
07:39:28.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 27
07:39:28.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.863 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.864 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55862&lt;-&gt;127.0.0.1:33021
07:39:28.864 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.864 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@47e0631
07:39:28.865 [XNIO-50 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ GET /pass request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33021]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:28.873 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@17f0c300
07:39:28.876 [XNIO-51 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-1', selector sun.nio.ch.EPollSelectorImpl@50bcf591
07:39:28.885 [XNIO-51 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-2', selector sun.nio.ch.EPollSelectorImpl@e9fe8db
07:39:28.885 [XNIO-51 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5a72c4d
07:39:28.885 [XNIO-51 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-5', selector sun.nio.ch.EPollSelectorImpl@50d51353
07:39:28.885 [XNIO-51 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-3', selector sun.nio.ch.EPollSelectorImpl@72181ed5
07:39:28.887 [XNIO-51 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-7', selector sun.nio.ch.EPollSelectorImpl@d70f003
07:39:28.885 [XNIO-51 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5f7973a7
07:39:28.887 [XNIO-51 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2e875aac
07:39:28.888 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.888 [XNIO-51 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 Accept', selector sun.nio.ch.EPollSelectorImpl@5ee2211d
07:39:28.888 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.896 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.896 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.896 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35515
07:39:28.896 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35515
07:39:28.896 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35515
07:39:28.897 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52060&lt;-&gt;127.0.0.1:35515
07:39:28.897 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:28.897 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.897 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; GET /handling HTTP/1.1
07:39:28.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:35515
07:39:28.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
07:39:28.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:28.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:35515[\r][\n]&quot;
07:39:28.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.899 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35515]}, cookies=[:]): &lt;empty&gt; }
07:39:28.899 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:28.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:28.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
07:39:28.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
07:39:28.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.899 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.899 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52060&lt;-&gt;127.0.0.1:35515
07:39:28.899 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.900 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.900 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.900 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35515
07:39:28.900 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:28.900 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.900 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; GET /handling HTTP/1.1
07:39:28.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:35515
07:39:28.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
07:39:28.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:28.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:35515[\r][\n]&quot;
07:39:28.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.904 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35515]}, cookies=[:]): &lt;empty&gt; }
07:39:28.905 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:28.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.905 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:28.905 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
07:39:28.905 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
07:39:28.905 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.905 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.905 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52060&lt;-&gt;127.0.0.1:35515
07:39:28.905 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.906 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@17f0c300
07:39:28.909 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5a687b29
07:39:28.911 [XNIO-52 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-1', selector sun.nio.ch.EPollSelectorImpl@15b4c38a
07:39:28.912 [XNIO-52 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-2', selector sun.nio.ch.EPollSelectorImpl@57966a05
07:39:28.916 [XNIO-52 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1d21358f
07:39:28.928 [XNIO-52 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3251d847
07:39:28.929 [XNIO-52 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-7', selector sun.nio.ch.EPollSelectorImpl@28ed9d97
07:39:28.916 [XNIO-52 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-5', selector sun.nio.ch.EPollSelectorImpl@fc2d060
07:39:28.941 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.941 [XNIO-52 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 Accept', selector sun.nio.ch.EPollSelectorImpl@77dbd5e7
07:39:28.916 [XNIO-52 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-4', selector sun.nio.ch.EPollSelectorImpl@51915951
07:39:28.941 [XNIO-52 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-8', selector sun.nio.ch.EPollSelectorImpl@696502cf
07:39:28.941 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.944 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.944 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.944 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35759
07:39:28.944 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35759
07:39:28.944 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35759
07:39:28.944 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40120&lt;-&gt;127.0.0.1:35759
07:39:28.944 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:28.944 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.944 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; GET /handling HTTP/1.1
07:39:28.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:35759
07:39:28.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
07:39:28.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:28.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:35759[\r][\n]&quot;
07:39:28.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.946 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35759]}, cookies=[:]): &lt;empty&gt; }
07:39:28.946 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:28.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 210 Unknown
07:39:28.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
07:39:28.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 0
07:39:28.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.947 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.947 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40120&lt;-&gt;127.0.0.1:35759
07:39:28.947 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.947 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.947 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.947 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35759
07:39:28.947 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:28.947 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.947 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; GET /handling HTTP/1.1
07:39:28.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:35759
07:39:28.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
07:39:28.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:28.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:35759[\r][\n]&quot;
07:39:28.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.948 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35759]}, cookies=[:]): &lt;empty&gt; }
07:39:28.949 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:28.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 210 Unknown
07:39:28.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
07:39:28.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 0
07:39:28.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.949 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40120&lt;-&gt;127.0.0.1:35759
07:39:28.949 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.949 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5a687b29
07:39:28.953 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7792e293
07:39:28.954 [XNIO-53 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3333e44e
07:39:28.957 [XNIO-53 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-2', selector sun.nio.ch.EPollSelectorImpl@38dd1986
07:39:28.957 [XNIO-53 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4f41f90c
07:39:28.958 [XNIO-53 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2562ceec
07:39:28.958 [XNIO-53 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-6', selector sun.nio.ch.EPollSelectorImpl@398e1fc3
07:39:28.958 [XNIO-53 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-7', selector sun.nio.ch.EPollSelectorImpl@29b0af36
07:39:28.958 [XNIO-53 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2b2ab9e4
07:39:28.958 [XNIO-53 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 Accept', selector sun.nio.ch.EPollSelectorImpl@519d2abe
07:39:28.958 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.958 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.962 [XNIO-53 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-5', selector sun.nio.ch.EPollSelectorImpl@45e57a14
07:39:28.977 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.978 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.978 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43921
07:39:28.978 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43921
07:39:28.978 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43921
07:39:28.978 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54122&lt;-&gt;127.0.0.1:43921
07:39:28.978 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:28.978 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.978 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; GET /handling HTTP/1.1
07:39:28.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:43921
07:39:28.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
07:39:28.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:28.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:43921[\r][\n]&quot;
07:39:28.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.979 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43921]}, cookies=[:]): &lt;empty&gt; }
07:39:28.979 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:28.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 211 Unknown
07:39:28.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
07:39:28.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 0
07:39:28.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.980 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.980 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54122&lt;-&gt;127.0.0.1:43921
07:39:28.980 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.981 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.981 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.981 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43921
07:39:28.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:28.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.982 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; GET /handling HTTP/1.1
07:39:28.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:43921
07:39:28.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
07:39:28.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:28.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:43921[\r][\n]&quot;
07:39:28.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.982 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43921]}, cookies=[:]): &lt;empty&gt; }
07:39:28.982 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:28.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 211 Unknown
07:39:28.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
07:39:28.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 0
07:39:28.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.983 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.983 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54122&lt;-&gt;127.0.0.1:43921
07:39:28.983 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.983 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7792e293
07:39:28.990 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6cbd4a9c
07:39:28.992 [XNIO-54 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6f77657e
07:39:28.992 [XNIO-54 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1f994b6c
07:39:28.992 [XNIO-54 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-5', selector sun.nio.ch.EPollSelectorImpl@40b29650
07:39:28.996 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.997 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.992 [XNIO-54 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-2', selector sun.nio.ch.EPollSelectorImpl@233b960d
07:39:28.992 [XNIO-54 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6fa0b9e6
07:39:28.997 [XNIO-54 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6fb64424
07:39:28.997 [XNIO-54 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 Accept', selector sun.nio.ch.EPollSelectorImpl@63b83e7b
07:39:28.997 [XNIO-54 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4d634f3e
07:39:28.997 [XNIO-54 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2af8cd19
07:39:29.009 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.009 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.010 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39979
07:39:29.010 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39979
07:39:29.010 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39979
07:39:29.010 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37222&lt;-&gt;127.0.0.1:39979
07:39:29.010 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.010 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.010 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; GET /handling HTTP/1.1
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:39979
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.010 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.010 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:39979[\r][\n]&quot;
07:39:29.010 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.010 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.010 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.010 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.032 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39979]}, cookies=[:]): &lt;empty&gt; }
07:39:29.033 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:29.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:29.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:29.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:29.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
07:39:29.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 0
07:39:29.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.033 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.033 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37222&lt;-&gt;127.0.0.1:39979
07:39:29.033 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.034 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.034 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.034 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39979
07:39:29.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; GET /handling HTTP/1.1
07:39:29.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:39979
07:39:29.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
07:39:29.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:39979[\r][\n]&quot;
07:39:29.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.035 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39979]}, cookies=[:]): &lt;empty&gt; }
07:39:29.035 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:29.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:29.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:29.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:29.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
07:39:29.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 0
07:39:29.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.035 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37222&lt;-&gt;127.0.0.1:39979
07:39:29.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.036 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6cbd4a9c
07:39:29.040 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@a210e93
07:39:29.045 [XNIO-55 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-1', selector sun.nio.ch.EPollSelectorImpl@61cb4dc5
07:39:29.046 [XNIO-55 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-2', selector sun.nio.ch.EPollSelectorImpl@614fc398
07:39:29.056 [XNIO-55 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1f829875
07:39:29.056 [XNIO-55 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-3', selector sun.nio.ch.EPollSelectorImpl@406d5ecb
07:39:29.064 [XNIO-55 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-5', selector sun.nio.ch.EPollSelectorImpl@a7c2bd2
07:39:29.072 [XNIO-55 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-6', selector sun.nio.ch.EPollSelectorImpl@41675215
07:39:29.072 [XNIO-55 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-7', selector sun.nio.ch.EPollSelectorImpl@569217ab
07:39:29.076 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.076 [XNIO-55 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 Accept', selector sun.nio.ch.EPollSelectorImpl@51993359
07:39:29.077 [XNIO-55 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-8', selector sun.nio.ch.EPollSelectorImpl@21770cbe
07:39:29.077 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.079 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.080 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.080 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44135
07:39:29.080 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44135
07:39:29.080 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44135
07:39:29.080 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48598&lt;-&gt;127.0.0.1:44135
07:39:29.080 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.080 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.080 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; GET /handling HTTP/1.1
07:39:29.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:44135
07:39:29.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
07:39:29.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:44135[\r][\n]&quot;
07:39:29.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.081 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44135]}, cookies=[:]): &lt;empty&gt; }
07:39:29.081 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:29.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:29.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:29.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 210 Unknown
07:39:29.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
07:39:29.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 0
07:39:29.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.082 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48598&lt;-&gt;127.0.0.1:44135
07:39:29.082 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.082 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.082 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.082 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44135
07:39:29.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; GET /handling HTTP/1.1
07:39:29.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:44135
07:39:29.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
07:39:29.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:44135[\r][\n]&quot;
07:39:29.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.093 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44135]}, cookies=[:]): &lt;empty&gt; }
07:39:29.093 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:29.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:29.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:29.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 210 Unknown
07:39:29.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
07:39:29.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 0
07:39:29.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.094 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.094 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48598&lt;-&gt;127.0.0.1:44135
07:39:29.094 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.094 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@a210e93
07:39:29.101 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@557c9a
07:39:29.109 [XNIO-56 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-2', selector sun.nio.ch.EPollSelectorImpl@31ea221c
07:39:29.109 [XNIO-56 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-1', selector sun.nio.ch.EPollSelectorImpl@307fef7c
07:39:29.109 [XNIO-56 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4f02df2c
07:39:29.110 [XNIO-56 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-4', selector sun.nio.ch.EPollSelectorImpl@50af74e1
07:39:29.110 [XNIO-56 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-5', selector sun.nio.ch.EPollSelectorImpl@50df26
07:39:29.110 [XNIO-56 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-6', selector sun.nio.ch.EPollSelectorImpl@229c50c1
07:39:29.112 [XNIO-56 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-7', selector sun.nio.ch.EPollSelectorImpl@58dff949
07:39:29.112 [XNIO-56 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-8', selector sun.nio.ch.EPollSelectorImpl@44518437
07:39:29.113 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.113 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.115 [XNIO-56 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 Accept', selector sun.nio.ch.EPollSelectorImpl@47f811af
07:39:29.116 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.116 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.116 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35125
07:39:29.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35125
07:39:29.116 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35125
07:39:29.116 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42522&lt;-&gt;127.0.0.1:35125
07:39:29.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; GET /handling HTTP/1.1
07:39:29.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:35125
07:39:29.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
07:39:29.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:35125[\r][\n]&quot;
07:39:29.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.121 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35125]}, cookies=[:]): &lt;empty&gt; }
07:39:29.121 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:29.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:29.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:29.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 211 Unknown
07:39:29.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
07:39:29.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 0
07:39:29.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.122 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.122 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42522&lt;-&gt;127.0.0.1:35125
07:39:29.122 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.123 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.123 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.123 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35125
07:39:29.123 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.123 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.123 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; GET /handling HTTP/1.1
07:39:29.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:35125
07:39:29.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
07:39:29.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:35125[\r][\n]&quot;
07:39:29.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.133 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35125]}, cookies=[:]): &lt;empty&gt; }
07:39:29.133 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:29.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:29.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:29.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.133 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 211 Unknown
07:39:29.133 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
07:39:29.133 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 0
07:39:29.133 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.133 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.133 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42522&lt;-&gt;127.0.0.1:35125
07:39:29.133 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.134 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@557c9a
07:39:29.144 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@75dc9453
07:39:29.152 [XNIO-57 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-1', selector sun.nio.ch.EPollSelectorImpl@61e2ffc3
07:39:29.152 [XNIO-57 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1ca597d9
07:39:29.152 [XNIO-57 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6e96a4c5
07:39:29.153 [XNIO-57 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7f247e01
07:39:29.153 [XNIO-57 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-5', selector sun.nio.ch.EPollSelectorImpl@b149bbc
07:39:29.154 [XNIO-57 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4ab95acc
07:39:29.154 [XNIO-57 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-8', selector sun.nio.ch.EPollSelectorImpl@17ea9c4f
07:39:29.154 [XNIO-57 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4b5acbf8
07:39:29.155 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.155 [XNIO-57 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 Accept', selector sun.nio.ch.EPollSelectorImpl@5c0d6abc
07:39:29.155 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.169 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.169 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.169 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44179
07:39:29.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44179
07:39:29.170 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44179
07:39:29.170 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43704&lt;-&gt;127.0.0.1:44179
07:39:29.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; GET /handling HTTP/1.1
07:39:29.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:44179
07:39:29.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
07:39:29.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:44179[\r][\n]&quot;
07:39:29.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.176 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44179]}, cookies=[:]): &lt;empty&gt; }
07:39:29.177 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.178 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
07:39:29.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
07:39:29.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
07:39:29.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
07:39:29.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
07:39:29.178 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.178 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.178 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43704&lt;-&gt;127.0.0.1:44179
07:39:29.178 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.179 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.179 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.179 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44179
07:39:29.179 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.179 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.179 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.179 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; GET /handling HTTP/1.1
07:39:29.179 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:44179
07:39:29.179 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
07:39:29.179 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.179 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:44179[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.185 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44179]}, cookies=[:]): &lt;empty&gt; }
07:39:29.185 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.186 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.186 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43704&lt;-&gt;127.0.0.1:44179
07:39:29.186 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.186 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@75dc9453
07:39:29.196 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@25212628
07:39:29.200 [XNIO-58 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1e95cec7
07:39:29.201 [XNIO-58 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3a0ac0c4
07:39:29.204 [XNIO-58 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2a55330b
07:39:29.208 [XNIO-58 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-4', selector sun.nio.ch.EPollSelectorImpl@139d80db
07:39:29.209 [XNIO-58 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5fc2a9bc
07:39:29.209 [XNIO-58 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3eea9ee
07:39:29.213 [XNIO-58 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1594bc58
07:39:29.216 [XNIO-58 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-8', selector sun.nio.ch.EPollSelectorImpl@65b5dfec
07:39:29.220 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.220 [XNIO-58 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 Accept', selector sun.nio.ch.EPollSelectorImpl@41ddc099
07:39:29.221 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.222 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.222 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.222 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36639
07:39:29.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36639
07:39:29.223 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36639
07:39:29.223 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50570&lt;-&gt;127.0.0.1:36639
07:39:29.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; GET /handling HTTP/1.1
07:39:29.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:36639
07:39:29.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
07:39:29.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:36639[\r][\n]&quot;
07:39:29.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.223 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36639]}, cookies=[:]): &lt;empty&gt; }
07:39:29.224 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:29.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:29.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
07:39:29.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
07:39:29.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
07:39:29.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
07:39:29.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.225 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50570&lt;-&gt;127.0.0.1:36639
07:39:29.225 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.225 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.225 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.225 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36639
07:39:29.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; GET /handling HTTP/1.1
07:39:29.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:36639
07:39:29.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
07:39:29.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:36639[\r][\n]&quot;
07:39:29.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.225 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36639]}, cookies=[:]): &lt;empty&gt; }
07:39:29.226 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:29.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.227 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:29.227 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
07:39:29.227 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
07:39:29.227 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
07:39:29.227 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
07:39:29.227 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.227 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.227 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50570&lt;-&gt;127.0.0.1:36639
07:39:29.227 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.228 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@25212628
07:39:29.231 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@bd92857
07:39:29.236 [XNIO-59 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2a04b8da
07:39:29.237 [XNIO-59 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-3', selector sun.nio.ch.EPollSelectorImpl@42a926e1
07:39:29.236 [XNIO-59 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1c4518af
07:39:29.249 [XNIO-59 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4f85f68d
07:39:29.249 [XNIO-59 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2b219bea
07:39:29.249 [XNIO-59 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-6', selector sun.nio.ch.EPollSelectorImpl@49799ceb
07:39:29.249 [XNIO-59 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4d3c60ab
07:39:29.260 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.249 [XNIO-59 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5e181a17
07:39:29.260 [XNIO-59 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 Accept', selector sun.nio.ch.EPollSelectorImpl@66996a84
07:39:29.261 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.264 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.264 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.265 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41115
07:39:29.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41115
07:39:29.265 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41115
07:39:29.265 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39890&lt;-&gt;127.0.0.1:41115
07:39:29.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; GET /handling HTTP/1.1
07:39:29.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:41115
07:39:29.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
07:39:29.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:41115[\r][\n]&quot;
07:39:29.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.275 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41115]}, cookies=[:]): &lt;empty&gt; }
07:39:29.275 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:29.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:29.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
07:39:29.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
07:39:29.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
07:39:29.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
07:39:29.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.276 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.277 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39890&lt;-&gt;127.0.0.1:41115
07:39:29.277 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.277 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.277 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.277 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41115
07:39:29.277 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.277 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.277 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; GET /handling HTTP/1.1
07:39:29.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:41115
07:39:29.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
07:39:29.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:41115[\r][\n]&quot;
07:39:29.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.278 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41115]}, cookies=[:]): &lt;empty&gt; }
07:39:29.278 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:29.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:29.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
07:39:29.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
07:39:29.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
07:39:29.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
07:39:29.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.279 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.279 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39890&lt;-&gt;127.0.0.1:41115
07:39:29.279 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.279 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@bd92857
07:39:29.284 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3833bad4
07:39:29.285 [XNIO-60 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2ea6f13e
07:39:29.286 [XNIO-60 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1642ef98
07:39:29.287 [XNIO-60 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-3', selector sun.nio.ch.EPollSelectorImpl@78126115
07:39:29.287 [XNIO-60 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-4', selector sun.nio.ch.EPollSelectorImpl@37df5fe1
07:39:29.287 [XNIO-60 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-5', selector sun.nio.ch.EPollSelectorImpl@533f4597
07:39:29.288 [XNIO-60 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-7', selector sun.nio.ch.EPollSelectorImpl@fcc51d0
07:39:29.289 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.289 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.288 [XNIO-60 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6adcb6b0
07:39:29.288 [XNIO-60 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5367ec7d
07:39:29.293 [XNIO-60 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 Accept', selector sun.nio.ch.EPollSelectorImpl@6ab5897e
07:39:29.294 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.294 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.294 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45381
07:39:29.294 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45381
07:39:29.294 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45381
07:39:29.294 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39092&lt;-&gt;127.0.0.1:45381
07:39:29.294 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.294 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.294 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; GET /handling HTTP/1.1
07:39:29.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:45381
07:39:29.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
07:39:29.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.295 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.295 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:45381[\r][\n]&quot;
07:39:29.295 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.295 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.295 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.295 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.301 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45381]}, cookies=[:]): &lt;empty&gt; }
07:39:29.301 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:29.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:29.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
07:39:29.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
07:39:29.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
07:39:29.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 27
07:39:29.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.302 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.303 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39092&lt;-&gt;127.0.0.1:45381
07:39:29.303 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.303 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.303 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.303 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45381
07:39:29.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; GET /handling HTTP/1.1
07:39:29.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:45381
07:39:29.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
07:39:29.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:45381[\r][\n]&quot;
07:39:29.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.306 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45381]}, cookies=[:]): &lt;empty&gt; }
07:39:29.306 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:29.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:29.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
07:39:29.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
07:39:29.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
07:39:29.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 27
07:39:29.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.308 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.308 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39092&lt;-&gt;127.0.0.1:45381
07:39:29.308 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.309 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3833bad4
07:39:29.311 [XNIO-60 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:29.317 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@28bb3a25
07:39:29.319 [XNIO-61 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1a99e25b
07:39:29.319 [XNIO-61 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6a8dbc55
07:39:29.320 [XNIO-61 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-3', selector sun.nio.ch.EPollSelectorImpl@621d62b7
07:39:29.320 [XNIO-61 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-4', selector sun.nio.ch.EPollSelectorImpl@44152de0
07:39:29.321 [XNIO-61 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5f524eb1
07:39:29.321 [XNIO-61 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2e74ac8c
07:39:29.327 [XNIO-61 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-8', selector sun.nio.ch.EPollSelectorImpl@61a7ab41
07:39:29.327 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.327 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.321 [XNIO-61 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4a09f549
07:39:29.328 [XNIO-61 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 Accept', selector sun.nio.ch.EPollSelectorImpl@147cd8a1
07:39:29.344 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.344 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.344 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39115
07:39:29.344 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39115
07:39:29.344 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39115
07:39:29.344 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43320&lt;-&gt;127.0.0.1:39115
07:39:29.344 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.344 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.344 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.344 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; GET /handling HTTP/1.1
07:39:29.344 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:39115
07:39:29.344 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
07:39:29.344 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.344 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:39115[\r][\n]&quot;
07:39:29.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.347 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39115]}, cookies=[:]): &lt;empty&gt; }
07:39:29.348 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
07:39:29.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
07:39:29.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
07:39:29.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/plain
07:39:29.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 27
07:39:29.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.350 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43320&lt;-&gt;127.0.0.1:39115
07:39:29.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.350 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.350 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39115
07:39:29.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; GET /handling HTTP/1.1
07:39:29.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:39115
07:39:29.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
07:39:29.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:39115[\r][\n]&quot;
07:39:29.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.358 [XNIO-61 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39115]}, cookies=[:]): &lt;empty&gt; }
07:39:29.359 [XNIO-61 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
07:39:29.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
07:39:29.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
07:39:29.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/plain
07:39:29.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 27
07:39:29.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.359 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.359 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43320&lt;-&gt;127.0.0.1:39115
07:39:29.359 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.360 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@28bb3a25
07:39:29.364 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1ec9fb35
07:39:29.368 [XNIO-62 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1f3f6cff
07:39:29.370 [XNIO-62 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-2', selector sun.nio.ch.EPollSelectorImpl@57f588ca
07:39:29.372 [XNIO-62 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-3', selector sun.nio.ch.EPollSelectorImpl@77b6dd08
07:39:29.377 [XNIO-62 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-4', selector sun.nio.ch.EPollSelectorImpl@77c62717
07:39:29.383 [XNIO-62 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-5', selector sun.nio.ch.EPollSelectorImpl@65f72a1e
07:39:29.383 [XNIO-62 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-6', selector sun.nio.ch.EPollSelectorImpl@70bdf755
07:39:29.383 [XNIO-62 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3a9fdc44
07:39:29.404 [XNIO-62 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-8', selector sun.nio.ch.EPollSelectorImpl@71ef176f
07:39:29.416 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.416 [XNIO-62 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 Accept', selector sun.nio.ch.EPollSelectorImpl@42510ee4
07:39:29.417 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.419 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.419 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.419 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38053
07:39:29.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38053
07:39:29.419 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38053
07:39:29.419 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56182&lt;-&gt;127.0.0.1:38053
07:39:29.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; GET /handling HTTP/1.1
07:39:29.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:38053
07:39:29.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
07:39:29.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:38053[\r][\n]&quot;
07:39:29.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.420 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38053]}, cookies=[:]): &lt;empty&gt; }
07:39:29.421 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:29.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.421 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:29.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
07:39:29.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
07:39:29.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
07:39:29.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
07:39:29.421 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.421 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.422 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56182&lt;-&gt;127.0.0.1:38053
07:39:29.422 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.422 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.422 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.422 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38053
07:39:29.422 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.422 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.422 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; GET /handling HTTP/1.1
07:39:29.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:38053
07:39:29.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
07:39:29.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:38053[\r][\n]&quot;
07:39:29.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.432 [XNIO-62 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38053]}, cookies=[:]): &lt;empty&gt; }
07:39:29.433 [XNIO-62 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:29.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:29.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
07:39:29.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
07:39:29.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
07:39:29.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
07:39:29.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.433 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.434 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56182&lt;-&gt;127.0.0.1:38053
07:39:29.434 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.434 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1ec9fb35
07:39:29.438 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6a8886cd
07:39:29.440 [XNIO-63 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6075189b
07:39:29.444 [XNIO-63 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-2', selector sun.nio.ch.EPollSelectorImpl@10538055
07:39:29.444 [XNIO-63 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-3', selector sun.nio.ch.EPollSelectorImpl@46673c4b
07:39:29.444 [XNIO-63 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-4', selector sun.nio.ch.EPollSelectorImpl@442f335d
07:39:29.448 [XNIO-63 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-5', selector sun.nio.ch.EPollSelectorImpl@70bcb77e
07:39:29.451 [XNIO-63 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-6', selector sun.nio.ch.EPollSelectorImpl@17de59c8
07:39:29.460 [XNIO-63 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5156261f
07:39:29.468 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.469 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.470 [XNIO-63 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 Accept', selector sun.nio.ch.EPollSelectorImpl@4bb6c1b9
07:39:29.471 [XNIO-63 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1d176afe
07:39:29.471 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.471 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.471 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41665
07:39:29.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41665
07:39:29.472 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41665
07:39:29.472 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60128&lt;-&gt;127.0.0.1:41665
07:39:29.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; GET /handling HTTP/1.1
07:39:29.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Host: localhost:41665
07:39:29.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Connection: Keep-Alive
07:39:29.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Host: localhost:41665[\r][\n]&quot;
07:39:29.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.496 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41665]}, cookies=[:]): &lt;empty&gt; }
07:39:29.497 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:29.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:29.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Encoding: gzip
07:39:29.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Connection: keep-alive
07:39:29.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Type: text/plain
07:39:29.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Length: 27
07:39:29.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.498 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.498 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60128&lt;-&gt;127.0.0.1:41665
07:39:29.498 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.500 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.500 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.500 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41665
07:39:29.500 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.500 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.500 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; GET /handling HTTP/1.1
07:39:29.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Host: localhost:41665
07:39:29.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Connection: Keep-Alive
07:39:29.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Host: localhost:41665[\r][\n]&quot;
07:39:29.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.504 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41665]}, cookies=[:]): &lt;empty&gt; }
07:39:29.505 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:29.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:29.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Encoding: gzip
07:39:29.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Connection: keep-alive
07:39:29.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Type: text/plain
07:39:29.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Length: 27
07:39:29.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.506 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.506 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60128&lt;-&gt;127.0.0.1:41665
07:39:29.506 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.506 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6a8886cd
07:39:29.510 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@63f2693a
07:39:29.511 [XNIO-63 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:29.516 [XNIO-64 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-1', selector sun.nio.ch.EPollSelectorImpl@24c5708d
07:39:29.517 [XNIO-64 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-2', selector sun.nio.ch.EPollSelectorImpl@61b3ea25
07:39:29.518 [XNIO-64 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-3', selector sun.nio.ch.EPollSelectorImpl@45eced4e
07:39:29.521 [XNIO-64 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4a732b62
07:39:29.528 [XNIO-64 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1bf6f64
07:39:29.528 [XNIO-64 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1c1c4554
07:39:29.528 [XNIO-64 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-7', selector sun.nio.ch.EPollSelectorImpl@286e4247
07:39:29.535 [XNIO-64 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4809bff0
07:39:29.544 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.545 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.547 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.547 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.547 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37973
07:39:29.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37973
07:39:29.547 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37973
07:39:29.548 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49498&lt;-&gt;127.0.0.1:37973
07:39:29.548 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.548 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.548 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; GET /handling HTTP/1.1
07:39:29.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Host: localhost:37973
07:39:29.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Connection: Keep-Alive
07:39:29.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Host: localhost:37973[\r][\n]&quot;
07:39:29.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.556 [XNIO-64 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 Accept', selector sun.nio.ch.EPollSelectorImpl@21b53057
07:39:29.560 [XNIO-64 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37973]}, cookies=[:]): &lt;empty&gt; }
07:39:29.561 [XNIO-64 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:29.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.562 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:29.562 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Encoding: gzip
07:39:29.562 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Connection: keep-alive
07:39:29.562 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Type: text/plain
07:39:29.562 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Length: 27
07:39:29.562 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.562 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.562 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49498&lt;-&gt;127.0.0.1:37973
07:39:29.562 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.562 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.563 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.563 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37973
07:39:29.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
07:39:29.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; GET /handling HTTP/1.1
07:39:29.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Host: localhost:37973
07:39:29.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Connection: Keep-Alive
07:39:29.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
07:39:29.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Host: localhost:37973[\r][\n]&quot;
07:39:29.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.564 [XNIO-64 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37973]}, cookies=[:]): &lt;empty&gt; }
07:39:29.565 [XNIO-64 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:29.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:29.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Encoding: gzip
07:39:29.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Connection: keep-alive
07:39:29.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Type: text/plain
07:39:29.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Length: 27
07:39:29.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.566 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.566 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49498&lt;-&gt;127.0.0.1:37973
07:39:29.566 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.566 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@63f2693a
07:39:29.569 [XNIO-64 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:29.574 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4eea9c04
07:39:29.576 [XNIO-65 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1c2b049e
07:39:29.584 [XNIO-65 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-3', selector sun.nio.ch.EPollSelectorImpl@787cb156
07:39:29.585 [XNIO-65 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3e72f6ad
07:39:29.585 [XNIO-65 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6a4a26d4
07:39:29.585 [XNIO-65 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-6', selector sun.nio.ch.EPollSelectorImpl@71b705f
07:39:29.586 [XNIO-65 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-7', selector sun.nio.ch.EPollSelectorImpl@68f700c4
07:39:29.586 [XNIO-65 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-8', selector sun.nio.ch.EPollSelectorImpl@367457a3
07:39:29.586 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.586 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.584 [XNIO-65 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-2', selector sun.nio.ch.EPollSelectorImpl@76801937
07:39:29.587 [XNIO-65 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 Accept', selector sun.nio.ch.EPollSelectorImpl@63275b4d
07:39:29.597 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.597 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.597 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35169
07:39:29.597 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35169
07:39:29.597 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35169
07:39:29.597 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34232&lt;-&gt;127.0.0.1:35169
07:39:29.597 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /gzip HTTP/1.1
07:39:29.597 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.597 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; GET /gzip HTTP/1.1
07:39:29.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Accept-Encoding: gzip
07:39:29.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Host: localhost:35169
07:39:29.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Connection: Keep-Alive
07:39:29.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;GET /gzip HTTP/1.1[\r][\n]&quot;
07:39:29.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
07:39:29.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Host: localhost:35169[\r][\n]&quot;
07:39:29.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.608 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35169]}, cookies=[:]): &lt;empty&gt; }
07:39:29.609 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
07:39:29.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
07:39:29.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
07:39:29.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; HTTP/1.1 200 OK
07:39:29.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Encoding: gzip
07:39:29.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Connection: keep-alive
07:39:29.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Type: text/plain
07:39:29.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Length: 29
07:39:29.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.610 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.613 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34232&lt;-&gt;127.0.0.1:35169
07:39:29.613 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.613 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.613 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.613 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35169
07:39:29.613 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /gzip HTTP/1.1
07:39:29.613 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.613 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; GET /gzip HTTP/1.1
07:39:29.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Accept-Encoding: gzip
07:39:29.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Host: localhost:35169
07:39:29.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Connection: Keep-Alive
07:39:29.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;GET /gzip HTTP/1.1[\r][\n]&quot;
07:39:29.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
07:39:29.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Host: localhost:35169[\r][\n]&quot;
07:39:29.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.624 [XNIO-65 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35169]}, cookies=[:]): &lt;empty&gt; }
07:39:29.625 [XNIO-65 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
07:39:29.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
07:39:29.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
07:39:29.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; HTTP/1.1 200 OK
07:39:29.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Encoding: gzip
07:39:29.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Connection: keep-alive
07:39:29.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Type: text/plain
07:39:29.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Length: 29
07:39:29.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.626 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.626 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34232&lt;-&gt;127.0.0.1:35169
07:39:29.626 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.626 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4eea9c04
07:39:29.629 [XNIO-65 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:29.634 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6ffede8a
07:39:29.652 [XNIO-66 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4ca58ff5
07:39:29.656 [XNIO-66 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-2', selector sun.nio.ch.EPollSelectorImpl@530c5127
07:39:29.660 [XNIO-66 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6471cb0c
07:39:29.688 [XNIO-66 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2150afd9
07:39:29.689 [XNIO-66 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1b9a5e14
07:39:29.689 [XNIO-66 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1336b3d7
07:39:29.689 [XNIO-66 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2e3588c
07:39:29.690 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.690 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.692 [XNIO-66 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 Accept', selector sun.nio.ch.EPollSelectorImpl@77419483
07:39:29.695 [XNIO-66 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3d9f0c6b
07:39:29.718 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.718 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.718 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39807
07:39:29.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39807
07:39:29.718 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39807
07:39:29.719 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38036&lt;-&gt;127.0.0.1:39807
07:39:29.719 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /exceptionally HTTP/1.1
07:39:29.719 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.719 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; GET /exceptionally HTTP/1.1
07:39:29.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Host: localhost:39807
07:39:29.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Connection: Keep-Alive
07:39:29.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;GET /exceptionally HTTP/1.1[\r][\n]&quot;
07:39:29.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Host: localhost:39807[\r][\n]&quot;
07:39:29.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.727 [XNIO-66 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /exceptionally (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39807]}, cookies=[:]): &lt;empty&gt; }
07:39:29.728 [XNIO-66 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; HTTP/1.1 200 OK
07:39:29.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Encoding: gzip
07:39:29.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Connection: keep-alive
07:39:29.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Type: text/plain
07:39:29.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Length: 27
07:39:29.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.728 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.734 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38036&lt;-&gt;127.0.0.1:39807
07:39:29.734 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.736 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6ffede8a
07:39:29.743 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@223a45ca
07:39:29.745 [XNIO-67 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2c2c1ae
07:39:29.749 [XNIO-67 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-2', selector sun.nio.ch.EPollSelectorImpl@77a715a7
07:39:29.760 [XNIO-67 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-3', selector sun.nio.ch.EPollSelectorImpl@22940640
07:39:29.768 [XNIO-67 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-4', selector sun.nio.ch.EPollSelectorImpl@79555ebe
07:39:29.782 [XNIO-67 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4d97a9a7
07:39:29.796 [XNIO-67 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-6', selector sun.nio.ch.EPollSelectorImpl@48a01480
07:39:29.797 [XNIO-67 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-7', selector sun.nio.ch.EPollSelectorImpl@379b722d
07:39:29.806 [XNIO-67 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3544e9
07:39:29.806 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.807 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.808 [XNIO-67 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 Accept', selector sun.nio.ch.EPollSelectorImpl@1cac7bd
07:39:29.849 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.849 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39343
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39343
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39343
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59628&lt;-&gt;127.0.0.1:39343
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /exceptionally HTTP/1.1
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; GET /exceptionally HTTP/1.1
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Host: localhost:39343
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Connection: Keep-Alive
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;GET /exceptionally HTTP/1.1[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Host: localhost:39343[\r][\n]&quot;
07:39:29.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.852 [XNIO-67 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /exceptionally (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39343]}, cookies=[:]): &lt;empty&gt; }
07:39:29.853 [XNIO-67 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; HTTP/1.1 200 OK
07:39:29.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Encoding: gzip
07:39:29.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Connection: keep-alive
07:39:29.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Type: text/plain
07:39:29.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Length: 27
07:39:29.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.854 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59628&lt;-&gt;127.0.0.1:39343
07:39:29.854 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.855 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@223a45ca
07:39:29.865 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@25bfd05f
07:39:29.868 [XNIO-68 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1bb71b88
07:39:29.868 [XNIO-68 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4bc09e15
07:39:29.894 [XNIO-68 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-3', selector sun.nio.ch.EPollSelectorImpl@58c0ff86
07:39:29.901 [XNIO-68 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3b09f101
07:39:29.905 [XNIO-68 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-5', selector sun.nio.ch.EPollSelectorImpl@508b0d98
07:39:29.905 [XNIO-68 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-6', selector sun.nio.ch.EPollSelectorImpl@893a328
07:39:29.908 [XNIO-68 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5c8a553
07:39:29.916 [XNIO-68 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-8', selector sun.nio.ch.EPollSelectorImpl@21d37d79
07:39:29.920 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.921 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.922 [XNIO-68 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 Accept', selector sun.nio.ch.EPollSelectorImpl@3d183418
07:39:29.934 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.934 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.934 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37577
07:39:29.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37577
07:39:29.934 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37577
07:39:29.934 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53360&lt;-&gt;127.0.0.1:37577
07:39:29.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /exceptionally HTTP/1.1
07:39:29.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; GET /exceptionally HTTP/1.1
07:39:29.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Host: localhost:37577
07:39:29.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Connection: Keep-Alive
07:39:29.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;GET /exceptionally HTTP/1.1[\r][\n]&quot;
07:39:29.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Host: localhost:37577[\r][\n]&quot;
07:39:29.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.940 [XNIO-68 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /exceptionally (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37577]}, cookies=[:]): &lt;empty&gt; }
07:39:29.941 [XNIO-68 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.941 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; HTTP/1.1 200 OK
07:39:29.941 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Encoding: gzip
07:39:29.941 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Connection: keep-alive
07:39:29.941 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Type: text/plain
07:39:29.942 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Length: 27
07:39:29.942 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.942 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.942 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53360&lt;-&gt;127.0.0.1:37577
07:39:29.942 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.942 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@25bfd05f
07:39:29.949 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5cfa9c84
07:39:29.957 [XNIO-69 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4c6f3090
07:39:29.958 [XNIO-69 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-2', selector sun.nio.ch.EPollSelectorImpl@13f8f5e1
07:39:29.968 [XNIO-69 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-3', selector sun.nio.ch.EPollSelectorImpl@31412e7c
07:39:29.968 [XNIO-69 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-4', selector sun.nio.ch.EPollSelectorImpl@79f620c4
07:39:29.968 [XNIO-69 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-5', selector sun.nio.ch.EPollSelectorImpl@35f4bb96
07:39:29.971 [XNIO-69 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-6', selector sun.nio.ch.EPollSelectorImpl@21b7fb91
07:39:29.978 [XNIO-69 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-7', selector sun.nio.ch.EPollSelectorImpl@74b5be1b
07:39:29.984 [XNIO-69 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6ce1a0a9
07:39:29.985 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.985 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.985 [XNIO-69 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 Accept', selector sun.nio.ch.EPollSelectorImpl@d7febb0
07:39:29.996 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.996 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.997 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://www.mkdfiwiejglejrligjsldkflwngunwfnkwemfiwefdsf.com:34599
07:39:29.997 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://www.mkdfiwiejglejrligjsldkflwngunwfnkwemfiwefdsf.com:34599
07:39:30.050 [Test worker] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-68: Shutdown connection
07:39:30.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection discarded
07:39:30.051 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection [Not bound]
07:39:30.059 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5cfa9c84
07:39:30.071 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1d8c34e
07:39:30.080 [XNIO-70 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-1', selector sun.nio.ch.EPollSelectorImpl@552ba604
07:39:30.088 [XNIO-70 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1c1df470
07:39:30.101 [XNIO-70 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-5', selector sun.nio.ch.EPollSelectorImpl@25719433
07:39:30.081 [XNIO-70 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2431f253
07:39:30.105 [XNIO-70 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-6', selector sun.nio.ch.EPollSelectorImpl@28dd22b5
07:39:30.108 [XNIO-70 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-7', selector sun.nio.ch.EPollSelectorImpl@d089e
07:39:30.109 [XNIO-70 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5187baf7
07:39:30.109 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.109 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.081 [XNIO-70 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-3', selector sun.nio.ch.EPollSelectorImpl@14200cab
07:39:30.110 [XNIO-70 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 Accept', selector sun.nio.ch.EPollSelectorImpl@1e59333a
07:39:30.192 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@724b586d
07:39:30.194 [XNIO-71 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-1', selector sun.nio.ch.EPollSelectorImpl@207baf63
07:39:30.194 [XNIO-71 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7292420
07:39:30.194 [XNIO-71 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-7', selector sun.nio.ch.EPollSelectorImpl@31254ca4
07:39:30.194 [XNIO-71 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-3', selector sun.nio.ch.EPollSelectorImpl@340c0cfc
07:39:30.196 [XNIO-71 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-8', selector sun.nio.ch.EPollSelectorImpl@29b837b4
07:39:30.194 [XNIO-71 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-2', selector sun.nio.ch.EPollSelectorImpl@cd99ba6
07:39:30.194 [XNIO-71 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-4', selector sun.nio.ch.EPollSelectorImpl@31abf6cb
07:39:30.194 [XNIO-71 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-5', selector sun.nio.ch.EPollSelectorImpl@730ba63e
07:39:30.200 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.200 [XNIO-71 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 Accept', selector sun.nio.ch.EPollSelectorImpl@48425a0a
07:39:30.213 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.213 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.213 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38859-&gt;http://localhost:40437
07:39:30.213 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38859-&gt;http://localhost:40437
07:39:30.213 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38859
07:39:30.214 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48446&lt;-&gt;127.0.0.1:38859
07:39:30.214 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET http://localhost:40437/proxied HTTP/1.1
07:39:30.214 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.214 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; GET http://localhost:40437/proxied HTTP/1.1
07:39:30.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Host: localhost:40437
07:39:30.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Proxy-Connection: Keep-Alive
07:39:30.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;GET http://localhost:40437/proxied HTTP/1.1[\r][\n]&quot;
07:39:30.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Host: localhost:40437[\r][\n]&quot;
07:39:30.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Proxy-Connection: Keep-Alive[\r][\n]&quot;
07:39:30.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.255 [XNIO-71 I/O-4] DEBUG ersatz.undertow.server.handlers.proxy - Sending request ClientRequest{path='/proxied', method=GET, protocol=HTTP/1.1} to target localhost/127.0.0.1:40437 for exchange HttpServerExchange{ GET http://localhost:40437/proxied request {Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40437]} response {}}
07:39:30.265 [XNIO-71 I/O-4] DEBUG ersatz.undertow.server.handlers.proxy - Sent request ClientRequest{path='/proxied', method=GET, protocol=HTTP/1.1} to target 127.0.0.1 for exchange HttpServerExchange{ GET http://localhost:40437/proxied request {Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40437]} response {}}
07:39:30.271 [XNIO-71 I/O-4] DEBUG ersatz.undertow.client.http.HttpClientExchange - request terminated for request to localhost/127.0.0.1:40437 /proxied
07:39:30.271 [XNIO-70 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /proxied (query=[:], headers={Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], X-Forwarded-Server=[localhost], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], X-Forwarded-Proto=[http], X-Forwarded-Port=[40437], X-Forwarded-For=[127.0.0.1], Host=[localhost:40437], X-Forwarded-Host=[localhost]}, cookies=[:]): &lt;empty&gt; }
07:39:30.271 [XNIO-70 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:30.285 [XNIO-71 I/O-4] DEBUG ersatz.undertow.server.handlers.proxy - Received response ClientResponse{responseHeaders={Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}, responseCode=200, status='OK', protocol=HTTP/1.1} for request ClientRequest{path='/proxied', method=GET, protocol=HTTP/1.1} for exchange HttpServerExchange{ GET http://localhost:40437/proxied request {Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40437]} response {}}
07:39:30.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.288 [XNIO-71 I/O-4] DEBUG ersatz.undertow.client.http.HttpClientExchange - response terminated for request to localhost/127.0.0.1:40437 /proxied
07:39:30.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.288 [XNIO-71 I/O-4] DEBUG ersatz.undertow.client.http.HttpClientConnection - exchange complete in connection to localhost/127.0.0.1:40437
07:39:30.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; HTTP/1.1 200 OK
07:39:30.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Encoding: gzip
07:39:30.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Connection: keep-alive
07:39:30.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Type: text/plain
07:39:30.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Length: 27
07:39:30.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.288 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48446&lt;-&gt;127.0.0.1:38859
07:39:30.288 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.291 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@724b586d
07:39:30.291 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1d8c34e
07:39:30.292 [XNIO-71 I/O-4] DEBUG ersatz.undertow.client.http.HttpClientConnection - connection to localhost/127.0.0.1:40437 closed
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.2.1</a> at Oct 13, 2017 7:40:46 AM</p>
</div>
</div>
</body>
</html>
