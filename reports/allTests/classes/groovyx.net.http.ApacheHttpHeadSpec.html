<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpHeadSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpHeadSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpHeadSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">41</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">3.715s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP HEAD with BASIC authentication (authorized)</td>
<td>0.234s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP HEAD with BASIC authentication (unauthorized)</td>
<td>0.082s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP HEAD with DIGEST authentication (authorized)</td>
<td>0.103s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP HEAD with DIGEST authentication (unauthorized)</td>
<td>0.107s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS HEAD with BASIC authentication (authorized)</td>
<td>0.117s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS HEAD with BASIC authentication (unauthorized)</td>
<td>0.080s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS HEAD with DIGEST authentication (authorized)</td>
<td>0.189s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS HEAD with DIGEST authentication (unauthorized)</td>
<td>0.157s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(): HTTP</td>
<td>0.417s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(): HTTPS</td>
<td>0.294s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Closure): [:]</td>
<td>0.074s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Closure): [hat:fedora]</td>
<td>0.036s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Closure): null</td>
<td>0.063s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Consumer): [:]</td>
<td>0.021s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Consumer): [hat:fedora]</td>
<td>0.040s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Consumer): null</td>
<td>0.071s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [:]</td>
<td>0.080s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [alpha:[one, two], bravo:three]</td>
<td>0.070s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [alpha:[one, two]]</td>
<td>0.056s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [alpha:[one]]</td>
<td>0.085s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [alpha:one]</td>
<td>0.077s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): null</td>
<td>0.080s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Consumer): [:]</td>
<td>0.051s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Consumer): [flavor:chocolate-chip, count:dozen]</td>
<td>0.040s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Consumer): [flavor:chocolate-chip]</td>
<td>0.087s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Consumer): null</td>
<td>0.097s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.093s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.059s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.038s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.040s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.046s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.046s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.052s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.058s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.044s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.110s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.073s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.076s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.062s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.056s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.054s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>07:39:24.388 [XNIO-5 task-1] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:24.821 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3a1a1c76
07:39:24.837 [XNIO-6 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4e9afd28
07:39:24.840 [XNIO-6 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-2', selector sun.nio.ch.EPollSelectorImpl@71d20226
07:39:24.846 [XNIO-6 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-3', selector sun.nio.ch.EPollSelectorImpl@49e2b85e
07:39:24.859 [XNIO-6 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-5', selector sun.nio.ch.EPollSelectorImpl@57261a8a
07:39:24.860 [XNIO-6 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-4', selector sun.nio.ch.EPollSelectorImpl@20962d97
07:39:24.860 [XNIO-6 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3753ec22
07:39:24.877 [XNIO-6 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-7', selector sun.nio.ch.EPollSelectorImpl@23853d0f
07:39:24.877 [XNIO-6 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7858adea
07:39:24.930 [XNIO-6 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 Accept', selector sun.nio.ch.EPollSelectorImpl@611bbb1c
07:39:24.930 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:24.931 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:24.931 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection
07:39:24.937 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:24.938 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-3: Shutdown connection
07:39:24.938 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:24.938 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:24.938 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-4: Shutdown connection
07:39:24.941 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:24.941 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-1: Shutdown connection
07:39:25.014 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.014 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.014 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33401
07:39:25.014 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33401
07:39:25.015 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33401
07:39:25.017 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57218&lt;-&gt;127.0.0.1:33401
07:39:25.017 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:25.017 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.017 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:25.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:33401
07:39:25.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
07:39:25.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:33401[\r][\n]&quot;
07:39:25.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.018 [XNIO-6 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33401]}, cookies=[:]): &lt;empty&gt; }
07:39:25.033 [XNIO-6 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.038 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
07:39:25.038 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
07:39:25.038 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; X-Something: Testing
07:39:25.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 0
07:39:25.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.039 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.039 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57218&lt;-&gt;127.0.0.1:33401
07:39:25.040 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.103 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.104 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.104 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33401
07:39:25.104 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:25.105 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.105 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:25.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:33401
07:39:25.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
07:39:25.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:33401[\r][\n]&quot;
07:39:25.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.113 [XNIO-6 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33401]}, cookies=[:]): &lt;empty&gt; }
07:39:25.145 [XNIO-6 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
07:39:25.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
07:39:25.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; X-Something: Testing
07:39:25.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 0
07:39:25.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.146 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57218&lt;-&gt;127.0.0.1:33401
07:39:25.146 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.153 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3a1a1c76
07:39:25.163 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7a0be2f4
07:39:25.171 [XNIO-7 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1700cfb2
07:39:25.172 [XNIO-7 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-3', selector sun.nio.ch.EPollSelectorImpl@16435322
07:39:25.174 [XNIO-7 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-4', selector sun.nio.ch.EPollSelectorImpl@12469b03
07:39:25.174 [XNIO-7 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3fca58f1
07:39:25.174 [XNIO-7 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1d906566
07:39:25.178 [XNIO-7 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-7', selector sun.nio.ch.EPollSelectorImpl@56a638fd
07:39:25.184 [XNIO-7 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3dfa5a7
07:39:25.188 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.189 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.192 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.192 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.192 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36763
07:39:25.193 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:36763
07:39:25.193 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36763
07:39:25.193 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:36763 with timeout 0
07:39:25.193 [XNIO-7 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 Accept', selector sun.nio.ch.EPollSelectorImpl@63321c3e
07:39:25.173 [XNIO-7 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-2', selector sun.nio.ch.EPollSelectorImpl@71ad1980
07:39:25.201 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:25.201 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:25.201 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:25.414 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:25.414 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:25.414 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:25.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:25.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:25.416 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36380&lt;-&gt;127.0.0.1:36763
07:39:25.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:25.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:25.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:36763
07:39:25.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
07:39:25.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:36763[\r][\n]&quot;
07:39:25.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.421 [XNIO-7 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36763]}, cookies=[:]): &lt;empty&gt; }
07:39:25.422 [XNIO-7 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
07:39:25.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
07:39:25.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; X-Something: Testing
07:39:25.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 0
07:39:25.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.427 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36380&lt;-&gt;127.0.0.1:36763
07:39:25.427 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.429 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.429 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.429 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36763
07:39:25.429 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:25.429 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.429 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:25.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:36763
07:39:25.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
07:39:25.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:36763[\r][\n]&quot;
07:39:25.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.445 [XNIO-7 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36763]}, cookies=[:]): &lt;empty&gt; }
07:39:25.446 [XNIO-7 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
07:39:25.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
07:39:25.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; X-Something: Testing
07:39:25.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 0
07:39:25.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.448 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36380&lt;-&gt;127.0.0.1:36763
07:39:25.448 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.449 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7a0be2f4
07:39:25.474 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@42b49c29
07:39:25.476 [XNIO-8 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1cea68c1
07:39:25.481 [XNIO-8 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-4', selector sun.nio.ch.EPollSelectorImpl@398629f8
07:39:25.481 [XNIO-8 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3cdb764f
07:39:25.484 [XNIO-8 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6cd0ea19
07:39:25.485 [XNIO-8 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-6', selector sun.nio.ch.EPollSelectorImpl@46f7778f
07:39:25.488 [XNIO-8 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-7', selector sun.nio.ch.EPollSelectorImpl@403245af
07:39:25.492 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.493 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.476 [XNIO-8 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1dfba85
07:39:25.492 [XNIO-8 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 Accept', selector sun.nio.ch.EPollSelectorImpl@544f9758
07:39:25.492 [XNIO-8 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1c9820a5
07:39:25.517 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.518 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.518 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37975
07:39:25.518 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37975
07:39:25.519 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37975
07:39:25.519 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34526&lt;-&gt;127.0.0.1:37975
07:39:25.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:25.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:25.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:37975
07:39:25.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
07:39:25.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:37975[\r][\n]&quot;
07:39:25.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.523 [XNIO-8 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37975]}, cookies=[:]): &lt;empty&gt; }
07:39:25.523 [XNIO-8 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
07:39:25.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
07:39:25.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; X-Something: Testing
07:39:25.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 0
07:39:25.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.524 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34526&lt;-&gt;127.0.0.1:37975
07:39:25.524 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.529 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.530 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.531 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37975
07:39:25.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:25.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:25.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:37975
07:39:25.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
07:39:25.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:37975[\r][\n]&quot;
07:39:25.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.532 [XNIO-8 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37975]}, cookies=[:]): &lt;empty&gt; }
07:39:25.533 [XNIO-8 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
07:39:25.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
07:39:25.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; X-Something: Testing
07:39:25.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 0
07:39:25.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.533 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.533 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34526&lt;-&gt;127.0.0.1:37975
07:39:25.534 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.534 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@42b49c29
07:39:25.547 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@645bc87a
07:39:25.572 [XNIO-9 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2f526a14
07:39:25.574 [XNIO-9 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-2', selector sun.nio.ch.EPollSelectorImpl@b9dd4bb
07:39:25.580 [XNIO-9 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-4', selector sun.nio.ch.EPollSelectorImpl@732691cb
07:39:25.581 [XNIO-9 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-6', selector sun.nio.ch.EPollSelectorImpl@367b0566
07:39:25.584 [XNIO-9 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5be1d804
07:39:25.585 [XNIO-9 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1a947216
07:39:25.586 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.586 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.587 [XNIO-9 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 Accept', selector sun.nio.ch.EPollSelectorImpl@7c90c4fc
07:39:25.590 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.590 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.590 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46217
07:39:25.590 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46217
07:39:25.590 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46217
07:39:25.590 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38604&lt;-&gt;127.0.0.1:46217
07:39:25.591 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:25.591 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.591 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:25.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:46217
07:39:25.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
07:39:25.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:46217[\r][\n]&quot;
07:39:25.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.580 [XNIO-9 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-3', selector sun.nio.ch.EPollSelectorImpl@55b0662f
07:39:25.595 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46217]}, cookies=[:]): &lt;empty&gt; }
07:39:25.581 [XNIO-9 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-5', selector sun.nio.ch.EPollSelectorImpl@558c3285
07:39:25.603 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
07:39:25.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
07:39:25.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; X-Something: Testing
07:39:25.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 0
07:39:25.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.607 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.607 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38604&lt;-&gt;127.0.0.1:46217
07:39:25.607 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.608 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.608 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.609 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46217
07:39:25.609 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:25.609 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.609 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:25.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:46217
07:39:25.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
07:39:25.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:46217[\r][\n]&quot;
07:39:25.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.615 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46217]}, cookies=[:]): &lt;empty&gt; }
07:39:25.616 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.616 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.616 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.616 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.616 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.616 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.616 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
07:39:25.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
07:39:25.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; X-Something: Testing
07:39:25.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 0
07:39:25.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.617 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.617 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38604&lt;-&gt;127.0.0.1:46217
07:39:25.617 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.618 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@645bc87a
07:39:25.629 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@57752770
07:39:25.632 [XNIO-10 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1e69a350
07:39:25.632 [XNIO-10 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3e118cb7
07:39:25.637 [XNIO-10 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7aaa5eb3
07:39:25.638 [XNIO-10 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-3', selector sun.nio.ch.EPollSelectorImpl@29a288
07:39:25.639 [XNIO-10 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-5', selector sun.nio.ch.EPollSelectorImpl@18510efb
07:39:25.641 [XNIO-10 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1c8d6d91
07:39:25.644 [XNIO-10 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1fab4a30
07:39:25.645 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.646 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.644 [XNIO-10 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-8', selector sun.nio.ch.EPollSelectorImpl@19d9908f
07:39:25.645 [XNIO-10 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 Accept', selector sun.nio.ch.EPollSelectorImpl@64da305a
07:39:25.653 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.653 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.653 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44513
07:39:25.653 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44513
07:39:25.653 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44513
07:39:25.653 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35528&lt;-&gt;127.0.0.1:44513
07:39:25.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one HTTP/1.1
07:39:25.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; HEAD /alpha?alpha=one HTTP/1.1
07:39:25.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:44513
07:39:25.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
07:39:25.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;HEAD /alpha?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:25.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:44513[\r][\n]&quot;
07:39:25.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.657 [XNIO-10 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44513]}, cookies=[:]): &lt;empty&gt; }
07:39:25.692 [XNIO-10 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.692 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.692 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.692 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.692 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.692 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.692 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
07:39:25.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
07:39:25.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; X-Something: Testing
07:39:25.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 0
07:39:25.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.693 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35528&lt;-&gt;127.0.0.1:44513
07:39:25.693 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.694 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.694 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.694 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44513
07:39:25.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one HTTP/1.1
07:39:25.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; HEAD /alpha?alpha=one HTTP/1.1
07:39:25.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:44513
07:39:25.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
07:39:25.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;HEAD /alpha?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:25.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:44513[\r][\n]&quot;
07:39:25.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.695 [XNIO-10 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44513]}, cookies=[:]): &lt;empty&gt; }
07:39:25.696 [XNIO-10 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; X-Something: Testing
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 0
07:39:25.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.696 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.696 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35528&lt;-&gt;127.0.0.1:44513
07:39:25.696 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.697 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@57752770
07:39:25.699 [XNIO-10 I/O-8] DEBUG ersatz.undertow - Failed to schedule task ersatz.undertow.server.protocol.ParseTimeoutUpdater@32bc85c as worker is shutting down
java.util.concurrent.RejectedExecutionException: XNIO007007: Thread is terminating
	at ersatz.xnio.nio.WorkerThread.executeAfter(WorkerThread.java:617)
	at ersatz.undertow.util.WorkerUtils.executeAfter(WorkerUtils.java:46)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.handleSchedule(ParseTimeoutUpdater.java:107)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.connectionIdle(ParseTimeoutUpdater.java:85)
	at ersatz.undertow.server.protocol.http.HttpReadListener.newRequest(HttpReadListener.java:118)
	at ersatz.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:310)
	at ersatz.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:232)
	at ersatz.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1261)
	at ersatz.undertow.server.HttpServerExchange.closeAndFlushResponse(HttpServerExchange.java:1675)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1665)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:316)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:296)
	at ersatz.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at ersatz.xnio.StreamConnection.invokeCloseListener(StreamConnection.java:80)
	at ersatz.xnio.Connection.writeClosed(Connection.java:117)
	at ersatz.xnio.nio.AbstractNioStreamConnection.writeClosed(AbstractNioStreamConnection.java:47)
	at ersatz.xnio.nio.NioSocketConduit.terminateWrites(NioSocketConduit.java:214)
	at ersatz.xnio.nio.NioSocketConduit.truncateWrites(NioSocketConduit.java:228)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.truncateWrites(HttpResponseConduit.java:774)
	at ersatz.xnio.conduits.AbstractSinkConduit.truncateWrites(AbstractSinkConduit.java:82)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.close(ConduitStreamSinkChannel.java:186)
	at ersatz.xnio.IoUtils.safeClose(IoUtils.java:134)
	at ersatz.xnio.conduits.WriteReadyHandler$ChannelListenerHandler.forceTermination(WriteReadyHandler.java:57)
	at ersatz.xnio.nio.NioSocketConduit.forceTermination(NioSocketConduit.java:107)
	at ersatz.xnio.nio.WorkerThread.run(WorkerThread.java:494)
07:39:25.741 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@232b4c2d
07:39:25.756 [XNIO-11 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4ea6d1c6
07:39:25.756 [XNIO-11 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-2', selector sun.nio.ch.EPollSelectorImpl@588bf195
07:39:25.757 [XNIO-11 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3e449acf
07:39:25.757 [XNIO-11 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-5', selector sun.nio.ch.EPollSelectorImpl@715daca7
07:39:25.758 [XNIO-11 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4e2a117
07:39:25.758 [XNIO-11 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-6', selector sun.nio.ch.EPollSelectorImpl@133c6e65
07:39:25.758 [XNIO-11 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-7', selector sun.nio.ch.EPollSelectorImpl@459a335d
07:39:25.758 [XNIO-11 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-8', selector sun.nio.ch.EPollSelectorImpl@435ad48d
07:39:25.758 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.758 [XNIO-11 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 Accept', selector sun.nio.ch.EPollSelectorImpl@105f45ea
07:39:25.759 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.761 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.761 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.761 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36617
07:39:25.761 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36617
07:39:25.761 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36617
07:39:25.761 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41796&lt;-&gt;127.0.0.1:36617
07:39:25.762 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one HTTP/1.1
07:39:25.762 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.762 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; HEAD /alpha?alpha=one HTTP/1.1
07:39:25.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:36617
07:39:25.763 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
07:39:25.763 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.763 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;HEAD /alpha?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:25.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:36617[\r][\n]&quot;
07:39:25.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.763 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36617]}, cookies=[:]): &lt;empty&gt; }
07:39:25.779 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
07:39:25.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
07:39:25.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; X-Something: Testing
07:39:25.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 0
07:39:25.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.780 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41796&lt;-&gt;127.0.0.1:36617
07:39:25.780 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.782 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.782 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.782 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36617
07:39:25.782 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one HTTP/1.1
07:39:25.782 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.782 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; HEAD /alpha?alpha=one HTTP/1.1
07:39:25.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:36617
07:39:25.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
07:39:25.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;HEAD /alpha?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:25.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:36617[\r][\n]&quot;
07:39:25.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.782 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36617]}, cookies=[:]): &lt;empty&gt; }
07:39:25.783 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
07:39:25.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
07:39:25.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; X-Something: Testing
07:39:25.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 0
07:39:25.783 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.783 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.784 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41796&lt;-&gt;127.0.0.1:36617
07:39:25.784 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.784 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@232b4c2d
07:39:25.801 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1d52da19
07:39:25.805 [XNIO-12 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-1', selector sun.nio.ch.EPollSelectorImpl@37bdc601
07:39:25.805 [XNIO-12 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6d593694
07:39:25.806 [XNIO-12 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7a9d0eae
07:39:25.806 [XNIO-12 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6dea6d2c
07:39:25.807 [XNIO-12 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1e3419cd
07:39:25.808 [XNIO-12 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2deb0f4f
07:39:25.808 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.809 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.807 [XNIO-12 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-6', selector sun.nio.ch.EPollSelectorImpl@22592c05
07:39:25.811 [XNIO-12 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 Accept', selector sun.nio.ch.EPollSelectorImpl@12fb5bc6
07:39:25.808 [XNIO-12 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7ea259ec
07:39:25.812 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.812 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.812 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44875
07:39:25.812 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44875
07:39:25.812 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44875
07:39:25.813 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42280&lt;-&gt;127.0.0.1:44875
07:39:25.813 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1
07:39:25.813 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.813 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1
07:39:25.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:44875
07:39:25.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
07:39:25.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
07:39:25.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:44875[\r][\n]&quot;
07:39:25.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.818 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44875]}, cookies=[:]): &lt;empty&gt; }
07:39:25.819 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
07:39:25.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
07:39:25.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; X-Something: Testing
07:39:25.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 0
07:39:25.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.819 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.819 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42280&lt;-&gt;127.0.0.1:44875
07:39:25.819 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.835 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.836 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.836 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44875
07:39:25.836 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1
07:39:25.836 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.836 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1
07:39:25.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:44875
07:39:25.837 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
07:39:25.837 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.837 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
07:39:25.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:44875[\r][\n]&quot;
07:39:25.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.846 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44875]}, cookies=[:]): &lt;empty&gt; }
07:39:25.848 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
07:39:25.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
07:39:25.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; X-Something: Testing
07:39:25.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 0
07:39:25.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.849 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42280&lt;-&gt;127.0.0.1:44875
07:39:25.849 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.850 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1d52da19
07:39:25.856 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@360a367a
07:39:25.859 [XNIO-13 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-1', selector sun.nio.ch.EPollSelectorImpl@75fa162f
07:39:25.860 [XNIO-13 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6a042534
07:39:25.880 [XNIO-13 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4bb111d6
07:39:25.884 [XNIO-13 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-4', selector sun.nio.ch.EPollSelectorImpl@a71f783
07:39:25.892 [XNIO-13 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7b32fd81
07:39:25.896 [XNIO-13 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-6', selector sun.nio.ch.EPollSelectorImpl@59dfa5f5
07:39:25.898 [XNIO-13 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6dcaa267
07:39:25.898 [XNIO-13 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-7', selector sun.nio.ch.EPollSelectorImpl@65980e90
07:39:25.899 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.900 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.901 [XNIO-13 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 Accept', selector sun.nio.ch.EPollSelectorImpl@6b6a5d83
07:39:25.902 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.902 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.902 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42327
07:39:25.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42327
07:39:25.903 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42327
07:39:25.903 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48746&lt;-&gt;127.0.0.1:42327
07:39:25.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:25.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:25.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:42327
07:39:25.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
07:39:25.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
07:39:25.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:42327[\r][\n]&quot;
07:39:25.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.904 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]}, cookies=[:]): &lt;empty&gt; }
07:39:25.905 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.906 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
07:39:25.906 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
07:39:25.906 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; X-Something: Testing
07:39:25.906 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 0
07:39:25.906 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.906 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.906 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48746&lt;-&gt;127.0.0.1:42327
07:39:25.906 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.908 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.908 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.908 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42327
07:39:25.908 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:25.908 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.908 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:25.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:42327
07:39:25.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
07:39:25.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
07:39:25.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:42327[\r][\n]&quot;
07:39:25.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.917 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]}, cookies=[:]): &lt;empty&gt; }
07:39:25.918 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:25.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:25.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:25.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:25.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:25.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:25.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
07:39:25.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
07:39:25.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
07:39:25.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; X-Something: Testing
07:39:25.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 0
07:39:25.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:25.919 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:25.919 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48746&lt;-&gt;127.0.0.1:42327
07:39:25.919 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:25.920 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@360a367a
07:39:25.946 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2b6e50f2
07:39:25.947 [XNIO-14 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7a853820
07:39:25.948 [XNIO-14 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5690e6b0
07:39:25.947 [XNIO-14 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-2', selector sun.nio.ch.EPollSelectorImpl@50a1df81
07:39:25.956 [XNIO-14 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-6', selector sun.nio.ch.EPollSelectorImpl@193e2ba7
07:39:25.956 [XNIO-14 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-4', selector sun.nio.ch.EPollSelectorImpl@427a3a4e
07:39:25.956 [XNIO-14 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-8', selector sun.nio.ch.EPollSelectorImpl@18bd6d29
07:39:25.956 [XNIO-14 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 Accept', selector sun.nio.ch.EPollSelectorImpl@6bbd678e
07:39:25.957 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:25.956 [XNIO-14 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-7', selector sun.nio.ch.EPollSelectorImpl@52808d3a
07:39:25.961 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:25.956 [XNIO-14 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-5', selector sun.nio.ch.EPollSelectorImpl@67ab6221
07:39:25.982 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:25.982 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:25.982 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38501
07:39:25.982 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38501
07:39:25.982 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38501
07:39:25.983 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:46516&lt;-&gt;127.0.0.1:38501
07:39:25.983 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:25.983 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:25.983 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:25.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:25.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:38501
07:39:25.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
07:39:25.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:25.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:25.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:25.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:38501[\r][\n]&quot;
07:39:25.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:25.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:25.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:25.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
07:39:25.994 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38501]}, cookies=[:]): &lt;empty&gt; }
07:39:26.005 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
07:39:26.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
07:39:26.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; X-Something: Testing
07:39:26.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 0
07:39:26.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.006 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.006 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46516&lt;-&gt;127.0.0.1:38501
07:39:26.006 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.013 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.013 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.013 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38501
07:39:26.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:38501
07:39:26.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
07:39:26.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:38501[\r][\n]&quot;
07:39:26.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.015 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38501]}, cookies=[:]): &lt;empty&gt; }
07:39:26.016 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
07:39:26.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
07:39:26.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; X-Something: Testing
07:39:26.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 0
07:39:26.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.017 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.017 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46516&lt;-&gt;127.0.0.1:38501
07:39:26.017 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.022 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2b6e50f2
07:39:26.029 [XNIO-14 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:131)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
07:39:26.032 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@787078e9
07:39:26.034 [XNIO-15 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-2', selector sun.nio.ch.EPollSelectorImpl@37f3b232
07:39:26.038 [XNIO-15 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-3', selector sun.nio.ch.EPollSelectorImpl@699d8040
07:39:26.041 [XNIO-15 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4ad2ffc3
07:39:26.041 [XNIO-15 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7ffe35e9
07:39:26.044 [XNIO-15 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-7', selector sun.nio.ch.EPollSelectorImpl@139c0e74
07:39:26.034 [XNIO-15 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-1', selector sun.nio.ch.EPollSelectorImpl@bb80266
07:39:26.038 [XNIO-15 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3d1ae42
07:39:26.049 [XNIO-15 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4f3cdf10
07:39:26.055 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.055 [XNIO-15 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 Accept', selector sun.nio.ch.EPollSelectorImpl@6591187
07:39:26.055 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.059 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.059 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.059 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35545
07:39:26.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35545
07:39:26.060 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35545
07:39:26.060 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60280&lt;-&gt;127.0.0.1:35545
07:39:26.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:35545
07:39:26.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
07:39:26.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:35545[\r][\n]&quot;
07:39:26.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.062 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]}, cookies=[:]): &lt;empty&gt; }
07:39:26.063 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.064 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
07:39:26.064 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
07:39:26.064 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; X-Something: Testing
07:39:26.064 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 0
07:39:26.064 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.064 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.065 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60280&lt;-&gt;127.0.0.1:35545
07:39:26.065 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.067 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.067 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.068 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35545
07:39:26.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:35545
07:39:26.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
07:39:26.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:35545[\r][\n]&quot;
07:39:26.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.072 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]}, cookies=[:]): &lt;empty&gt; }
07:39:26.073 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
07:39:26.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
07:39:26.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; X-Something: Testing
07:39:26.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 0
07:39:26.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.073 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.073 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60280&lt;-&gt;127.0.0.1:35545
07:39:26.073 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.074 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@787078e9
07:39:26.096 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5f20c1f9
07:39:26.098 [XNIO-16 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-1', selector sun.nio.ch.EPollSelectorImpl@48fce56b
07:39:26.098 [XNIO-16 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-2', selector sun.nio.ch.EPollSelectorImpl@edff56c
07:39:26.098 [XNIO-16 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-3', selector sun.nio.ch.EPollSelectorImpl@17d4aae1
07:39:26.099 [XNIO-16 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-5', selector sun.nio.ch.EPollSelectorImpl@39ef0d38
07:39:26.101 [XNIO-16 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-6', selector sun.nio.ch.EPollSelectorImpl@9e89f03
07:39:26.103 [XNIO-16 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7a366700
07:39:26.103 [XNIO-16 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4e87944d
07:39:26.107 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.108 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.099 [XNIO-16 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-4', selector sun.nio.ch.EPollSelectorImpl@766f3c2
07:39:26.107 [XNIO-16 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 Accept', selector sun.nio.ch.EPollSelectorImpl@4209783d
07:39:26.129 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.129 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.129 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38523
07:39:26.129 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38523
07:39:26.130 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38523
07:39:26.130 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53104&lt;-&gt;127.0.0.1:38523
07:39:26.130 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.130 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.130 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Cookie: flavor=chocolate-chip
07:39:26.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:38523
07:39:26.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
07:39:26.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
07:39:26.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:38523[\r][\n]&quot;
07:39:26.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.137 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38523]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@5cab936a]): &lt;empty&gt; }
07:39:26.156 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
07:39:26.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
07:39:26.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; X-Something: Testing
07:39:26.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 0
07:39:26.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.156 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.157 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53104&lt;-&gt;127.0.0.1:38523
07:39:26.157 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.158 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.159 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.159 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38523
07:39:26.159 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.159 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.159 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Cookie: flavor=chocolate-chip
07:39:26.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:38523
07:39:26.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
07:39:26.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
07:39:26.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:38523[\r][\n]&quot;
07:39:26.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.160 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38523]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@58567b74]): &lt;empty&gt; }
07:39:26.161 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.161 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.161 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.161 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.161 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.161 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.161 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.161 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
07:39:26.161 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
07:39:26.161 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; X-Something: Testing
07:39:26.161 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 0
07:39:26.161 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.161 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.162 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53104&lt;-&gt;127.0.0.1:38523
07:39:26.162 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.163 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5f20c1f9
07:39:26.166 [XNIO-16 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:131)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
07:39:26.173 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@11a60a18
07:39:26.175 [XNIO-17 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5e77c0cf
07:39:26.176 [XNIO-17 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3c368da4
07:39:26.176 [XNIO-17 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7e138e5c
07:39:26.179 [XNIO-17 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7387ba10
07:39:26.180 [XNIO-17 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-7', selector sun.nio.ch.EPollSelectorImpl@54825397
07:39:26.177 [XNIO-17 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-4', selector sun.nio.ch.EPollSelectorImpl@26b68d4a
07:39:26.181 [XNIO-17 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7bf17aa3
07:39:26.179 [XNIO-17 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-6', selector sun.nio.ch.EPollSelectorImpl@a1d2a77
07:39:26.181 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.181 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.182 [XNIO-17 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 Accept', selector sun.nio.ch.EPollSelectorImpl@1a83508e
07:39:26.185 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.185 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.185 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45447
07:39:26.185 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45447
07:39:26.189 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45447
07:39:26.189 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52700&lt;-&gt;127.0.0.1:45447
07:39:26.189 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.189 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.189 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
07:39:26.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:45447
07:39:26.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
07:39:26.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
07:39:26.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:45447[\r][\n]&quot;
07:39:26.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.192 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45447]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@3d50f21e, flavor:ersatz.undertow.server.handlers.CookieImpl@33970bc4]): &lt;empty&gt; }
07:39:26.193 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
07:39:26.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
07:39:26.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; X-Something: Testing
07:39:26.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 0
07:39:26.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.194 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.194 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52700&lt;-&gt;127.0.0.1:45447
07:39:26.194 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.195 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.195 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.195 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45447
07:39:26.195 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.195 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.195 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.195 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.195 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
07:39:26.195 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:45447
07:39:26.195 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
07:39:26.195 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.195 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.195 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.195 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
07:39:26.195 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:45447[\r][\n]&quot;
07:39:26.195 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.206 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45447]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@1228c090, flavor:ersatz.undertow.server.handlers.CookieImpl@1cef2ca5]): &lt;empty&gt; }
07:39:26.207 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
07:39:26.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
07:39:26.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; X-Something: Testing
07:39:26.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 0
07:39:26.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.207 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.207 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52700&lt;-&gt;127.0.0.1:45447
07:39:26.207 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.208 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@11a60a18
07:39:26.227 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4a5d17bb
07:39:26.230 [XNIO-18 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6ddc0566
07:39:26.230 [XNIO-18 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6421aef8
07:39:26.233 [XNIO-18 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-3', selector sun.nio.ch.EPollSelectorImpl@30ac63ed
07:39:26.237 [XNIO-18 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-4', selector sun.nio.ch.EPollSelectorImpl@392943c
07:39:26.237 [XNIO-18 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-5', selector sun.nio.ch.EPollSelectorImpl@17f78551
07:39:26.238 [XNIO-18 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6aa8c6ee
07:39:26.241 [XNIO-18 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4a5a1179
07:39:26.242 [XNIO-18 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2932f3cc
07:39:26.242 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.242 [XNIO-18 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 Accept', selector sun.nio.ch.EPollSelectorImpl@1e9fed3
07:39:26.244 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.252 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.253 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.253 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33425
07:39:26.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33425
07:39:26.253 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33425
07:39:26.253 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41262&lt;-&gt;127.0.0.1:33425
07:39:26.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:33425
07:39:26.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
07:39:26.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:33425[\r][\n]&quot;
07:39:26.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.259 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33425]}, cookies=[:]): &lt;empty&gt; }
07:39:26.260 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
07:39:26.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
07:39:26.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; X-Something: Testing
07:39:26.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 0
07:39:26.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.261 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.261 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41262&lt;-&gt;127.0.0.1:33425
07:39:26.261 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.268 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.268 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.268 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33425
07:39:26.268 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.268 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.268 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:33425
07:39:26.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
07:39:26.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:33425[\r][\n]&quot;
07:39:26.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.272 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33425]}, cookies=[:]): &lt;empty&gt; }
07:39:26.273 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.273 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.273 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.273 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.273 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.273 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.273 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.273 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
07:39:26.273 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
07:39:26.273 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; X-Something: Testing
07:39:26.273 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 0
07:39:26.273 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.273 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.273 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41262&lt;-&gt;127.0.0.1:33425
07:39:26.273 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.274 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4a5d17bb
07:39:26.286 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5e040744
07:39:26.295 [XNIO-19 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-1', selector sun.nio.ch.EPollSelectorImpl@c5daec3
07:39:26.300 [XNIO-19 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-2', selector sun.nio.ch.EPollSelectorImpl@59950e4a
07:39:26.304 [XNIO-19 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3214449d
07:39:26.308 [XNIO-19 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3e309f1b
07:39:26.308 [XNIO-19 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-5', selector sun.nio.ch.EPollSelectorImpl@524ea32b
07:39:26.309 [XNIO-19 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-6', selector sun.nio.ch.EPollSelectorImpl@bc2df07
07:39:26.315 [XNIO-19 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-7', selector sun.nio.ch.EPollSelectorImpl@41b82ba4
07:39:26.333 [XNIO-19 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-8', selector sun.nio.ch.EPollSelectorImpl@298744db
07:39:26.335 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.336 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.338 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.338 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.338 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46753
07:39:26.338 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46753
07:39:26.335 [XNIO-19 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 Accept', selector sun.nio.ch.EPollSelectorImpl@25b18cc2
07:39:26.339 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46753
07:39:26.339 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51290&lt;-&gt;127.0.0.1:46753
07:39:26.339 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.339 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.339 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:46753
07:39:26.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
07:39:26.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:46753[\r][\n]&quot;
07:39:26.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.340 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46753]}, cookies=[:]): &lt;empty&gt; }
07:39:26.341 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
07:39:26.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
07:39:26.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; X-Something: Testing
07:39:26.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 0
07:39:26.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.342 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.342 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51290&lt;-&gt;127.0.0.1:46753
07:39:26.342 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.343 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.343 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.343 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46753
07:39:26.343 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.343 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.343 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:46753
07:39:26.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
07:39:26.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.343 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.343 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:46753[\r][\n]&quot;
07:39:26.343 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.343 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.343 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.349 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46753]}, cookies=[:]): &lt;empty&gt; }
07:39:26.349 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
07:39:26.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
07:39:26.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; X-Something: Testing
07:39:26.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 0
07:39:26.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.350 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51290&lt;-&gt;127.0.0.1:46753
07:39:26.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.351 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5e040744
07:39:26.365 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@417eefdf
07:39:26.367 [XNIO-20 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-1', selector sun.nio.ch.EPollSelectorImpl@30d7d48c
07:39:26.368 [XNIO-20 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3eb0e078
07:39:26.368 [XNIO-20 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-2', selector sun.nio.ch.EPollSelectorImpl@326192b6
07:39:26.368 [XNIO-20 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7715a1f7
07:39:26.373 [XNIO-20 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3a4eb2a2
07:39:26.373 [XNIO-20 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2678bef8
07:39:26.368 [XNIO-20 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-5', selector sun.nio.ch.EPollSelectorImpl@28c291bb
07:39:26.374 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.376 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.377 [XNIO-20 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 Accept', selector sun.nio.ch.EPollSelectorImpl@7e0df76f
07:39:26.381 [XNIO-20 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2cb11f85
07:39:26.382 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.382 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.382 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40381
07:39:26.382 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40381
07:39:26.382 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40381
07:39:26.382 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:46742&lt;-&gt;127.0.0.1:40381
07:39:26.382 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.382 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.382 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; hat: fedora
07:39:26.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:40381
07:39:26.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
07:39:26.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
07:39:26.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:40381[\r][\n]&quot;
07:39:26.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.384 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:40381]}, cookies=[:]): &lt;empty&gt; }
07:39:26.389 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
07:39:26.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
07:39:26.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; X-Something: Testing
07:39:26.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 0
07:39:26.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.390 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.390 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46742&lt;-&gt;127.0.0.1:40381
07:39:26.390 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.391 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.391 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.391 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40381
07:39:26.391 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.391 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.391 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; hat: fedora
07:39:26.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:40381
07:39:26.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
07:39:26.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
07:39:26.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:40381[\r][\n]&quot;
07:39:26.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.392 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:40381]}, cookies=[:]): &lt;empty&gt; }
07:39:26.392 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.392 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.392 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.392 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.392 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.392 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.392 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
07:39:26.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
07:39:26.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; X-Something: Testing
07:39:26.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 0
07:39:26.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.393 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.393 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46742&lt;-&gt;127.0.0.1:40381
07:39:26.393 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.393 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@417eefdf
07:39:26.418 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@12b4200c
07:39:26.420 [XNIO-21 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-1', selector sun.nio.ch.EPollSelectorImpl@621fb352
07:39:26.421 [XNIO-21 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-2', selector sun.nio.ch.EPollSelectorImpl@69a70b65
07:39:26.425 [XNIO-21 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-3', selector sun.nio.ch.EPollSelectorImpl@76cd8f2f
07:39:26.429 [XNIO-21 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5afe2633
07:39:26.429 [XNIO-21 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-5', selector sun.nio.ch.EPollSelectorImpl@195589c7
07:39:26.432 [XNIO-21 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3d0d63f9
07:39:26.433 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.433 [XNIO-21 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-7', selector sun.nio.ch.EPollSelectorImpl@13137537
07:39:26.433 [XNIO-21 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5b9cd83b
07:39:26.433 [XNIO-21 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 Accept', selector sun.nio.ch.EPollSelectorImpl@1224a7e4
07:39:26.434 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.446 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.447 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36387
07:39:26.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36387
07:39:26.447 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36387
07:39:26.447 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55856&lt;-&gt;127.0.0.1:36387
07:39:26.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:36387
07:39:26.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
07:39:26.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:36387[\r][\n]&quot;
07:39:26.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.453 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36387]}, cookies=[:]): &lt;empty&gt; }
07:39:26.453 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
07:39:26.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
07:39:26.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; X-Something: Testing
07:39:26.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 0
07:39:26.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.457 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.457 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55856&lt;-&gt;127.0.0.1:36387
07:39:26.457 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.461 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.461 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.461 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36387
07:39:26.461 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.461 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.461 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:36387
07:39:26.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
07:39:26.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:36387[\r][\n]&quot;
07:39:26.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.465 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36387]}, cookies=[:]): &lt;empty&gt; }
07:39:26.465 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
07:39:26.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
07:39:26.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; X-Something: Testing
07:39:26.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 0
07:39:26.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.466 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55856&lt;-&gt;127.0.0.1:36387
07:39:26.466 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.467 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@12b4200c
07:39:26.473 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6fe993dd
07:39:26.474 [XNIO-22 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-1', selector sun.nio.ch.EPollSelectorImpl@22af55de
07:39:26.474 [XNIO-22 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-2', selector sun.nio.ch.EPollSelectorImpl@21cd9a10
07:39:26.476 [XNIO-22 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-3', selector sun.nio.ch.EPollSelectorImpl@c3924b0
07:39:26.477 [XNIO-22 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6869bf4b
07:39:26.477 [XNIO-22 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-5', selector sun.nio.ch.EPollSelectorImpl@34b36505
07:39:26.477 [XNIO-22 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5ca9fede
07:39:26.478 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.478 [XNIO-22 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-7', selector sun.nio.ch.EPollSelectorImpl@656476e3
07:39:26.478 [XNIO-22 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7a94d3d0
07:39:26.478 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.481 [XNIO-22 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 Accept', selector sun.nio.ch.EPollSelectorImpl@7b534709
07:39:26.482 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.482 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.482 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36199
07:39:26.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36199
07:39:26.483 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36199
07:39:26.483 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49242&lt;-&gt;127.0.0.1:36199
07:39:26.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:36199
07:39:26.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
07:39:26.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:36199[\r][\n]&quot;
07:39:26.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.485 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36199]}, cookies=[:]): &lt;empty&gt; }
07:39:26.485 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
07:39:26.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
07:39:26.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; X-Something: Testing
07:39:26.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 0
07:39:26.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.486 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.486 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49242&lt;-&gt;127.0.0.1:36199
07:39:26.486 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.487 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.487 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.487 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36199
07:39:26.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:36199
07:39:26.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
07:39:26.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:36199[\r][\n]&quot;
07:39:26.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.489 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36199]}, cookies=[:]): &lt;empty&gt; }
07:39:26.489 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
07:39:26.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
07:39:26.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; X-Something: Testing
07:39:26.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 0
07:39:26.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.490 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.490 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49242&lt;-&gt;127.0.0.1:36199
07:39:26.490 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.490 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6fe993dd
07:39:26.505 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@312e6d5a
07:39:26.507 [XNIO-23 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-1', selector sun.nio.ch.EPollSelectorImpl@450ef460
07:39:26.507 [XNIO-23 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3aa06160
07:39:26.508 [XNIO-23 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-3', selector sun.nio.ch.EPollSelectorImpl@ff84c0
07:39:26.518 [XNIO-23 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6624cc07
07:39:26.519 [XNIO-23 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4f174786
07:39:26.519 [XNIO-23 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7f08da56
07:39:26.519 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.519 [XNIO-23 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7fd6bb9
07:39:26.521 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.521 [XNIO-23 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 Accept', selector sun.nio.ch.EPollSelectorImpl@740f9e67
07:39:26.524 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.524 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.524 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41243
07:39:26.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41243
07:39:26.524 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41243
07:39:26.524 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37168&lt;-&gt;127.0.0.1:41243
07:39:26.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; hat: fedora
07:39:26.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:41243
07:39:26.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
07:39:26.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
07:39:26.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:41243[\r][\n]&quot;
07:39:26.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.526 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:41243]}, cookies=[:]): &lt;empty&gt; }
07:39:26.519 [XNIO-23 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-7', selector sun.nio.ch.EPollSelectorImpl@653927cf
07:39:26.527 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
07:39:26.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
07:39:26.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; X-Something: Testing
07:39:26.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 0
07:39:26.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.528 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.528 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37168&lt;-&gt;127.0.0.1:41243
07:39:26.528 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.529 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.529 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.529 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41243
07:39:26.529 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
07:39:26.529 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.529 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; HEAD /alpha HTTP/1.1
07:39:26.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; hat: fedora
07:39:26.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:41243
07:39:26.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
07:39:26.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
07:39:26.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
07:39:26.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:41243[\r][\n]&quot;
07:39:26.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.530 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:41243]}, cookies=[:]): &lt;empty&gt; }
07:39:26.531 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
07:39:26.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
07:39:26.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
07:39:26.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
07:39:26.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; X-Something: Testing
07:39:26.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 0
07:39:26.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.531 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37168&lt;-&gt;127.0.0.1:41243
07:39:26.531 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.533 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@312e6d5a
07:39:26.600 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4bab21d3
07:39:26.602 [XNIO-24 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-1', selector sun.nio.ch.EPollSelectorImpl@fb22fb7
07:39:26.603 [XNIO-24 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5f73dab0
07:39:26.603 [XNIO-24 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-3', selector sun.nio.ch.EPollSelectorImpl@48c426b4
07:39:26.603 [XNIO-24 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-4', selector sun.nio.ch.EPollSelectorImpl@497f16c1
07:39:26.603 [XNIO-24 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-5', selector sun.nio.ch.EPollSelectorImpl@344c772d
07:39:26.613 [XNIO-24 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-6', selector sun.nio.ch.EPollSelectorImpl@140e684f
07:39:26.615 [XNIO-24 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1b7d1828
07:39:26.615 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.616 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.615 [XNIO-24 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3373eb50
07:39:26.617 [XNIO-24 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 Accept', selector sun.nio.ch.EPollSelectorImpl@67c3d0dd
07:39:26.640 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.640 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.640 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41021
07:39:26.640 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41021
07:39:26.640 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41021
07:39:26.640 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36842&lt;-&gt;127.0.0.1:41021
07:39:26.640 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.640 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.640 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:41021
07:39:26.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
07:39:26.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:41021[\r][\n]&quot;
07:39:26.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.641 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.641 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.641 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.649 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {}}
07:39:26.649 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.653 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1685200 for /basic
07:39:26.654 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {}}
07:39:26.656 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:26.657 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:26.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:26.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:26.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:26.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
07:39:26.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:26.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 0
07:39:26.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.658 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.658 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:26.658 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41021 requested authentication
07:39:26.658 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:26.658 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:26.658 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:26.658 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:26.658 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:26.671 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:26.671 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.671 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:26.671 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:26.689 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:41021
07:39:26.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
07:39:26.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:26.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:41021[\r][\n]&quot;
07:39:26.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:26.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.691 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {}}
07:39:26.691 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.702 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {}}
07:39:26.733 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:26.746 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1685200 for /basic
07:39:26.746 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:26.746 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]}, cookies=[:]): &lt;empty&gt; }
07:39:26.747 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:26.747 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.747 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.747 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.747 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.747 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.747 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
07:39:26.747 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
07:39:26.747 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 0
07:39:26.747 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.747 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.747 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:26.749 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:41021
07:39:26.751 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36842&lt;-&gt;127.0.0.1:41021
07:39:26.751 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.753 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.753 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.753 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41021
07:39:26.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:41021
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:41021[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.762 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {}}
07:39:26.762 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.762 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1685200 for /basic
07:39:26.763 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {}}
07:39:26.763 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:26.763 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:26.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:26.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:26.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 0
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41021 requested authentication
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:26.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:41021
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:26.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:41021[\r][\n]&quot;
07:39:26.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:26.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.765 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {}}
07:39:26.765 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.765 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]} response {}}
07:39:26.766 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:26.766 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1685200 for /basic
07:39:26.766 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:26.766 [XNIO-24 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41021]}, cookies=[:]): &lt;empty&gt; }
07:39:26.766 [XNIO-24 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:26.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
07:39:26.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
07:39:26.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 0
07:39:26.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.767 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.767 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:26.767 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:41021
07:39:26.767 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36842&lt;-&gt;127.0.0.1:41021
07:39:26.767 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.768 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4bab21d3
07:39:26.774 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6c2658ba
07:39:26.775 [XNIO-25 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2562ceec
07:39:26.775 [XNIO-25 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-3', selector sun.nio.ch.EPollSelectorImpl@45e57a14
07:39:26.775 [XNIO-25 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4f41f90c
07:39:26.792 [XNIO-25 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-4', selector sun.nio.ch.EPollSelectorImpl@398e1fc3
07:39:26.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Shutdown connection
07:39:26.792 [XNIO-25 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5bc233d4
07:39:26.793 [XNIO-25 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7a268c23
07:39:26.795 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.795 [XNIO-25 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2b2ab9e4
07:39:26.795 [XNIO-25 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-5', selector sun.nio.ch.EPollSelectorImpl@29b0af36
07:39:26.795 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.796 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.796 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-23: Shutdown connection
07:39:26.796 [XNIO-25 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 Accept', selector sun.nio.ch.EPollSelectorImpl@a74ab
07:39:26.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-21: Shutdown connection
07:39:26.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-22: Shutdown connection
07:39:26.797 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.797 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.797 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:38705
07:39:26.798 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:38705
07:39:26.798 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38705
07:39:26.798 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:38705 with timeout 0
07:39:26.798 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:26.798 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:26.798 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:26.805 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.805 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-17: Shutdown connection
07:39:26.824 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.824 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-18: Shutdown connection
07:39:26.826 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.826 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-19: Shutdown connection
07:39:26.832 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.833 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-20: Shutdown connection
07:39:26.835 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.835 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Shutdown connection
07:39:26.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-15: Shutdown connection
07:39:26.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-16: Shutdown connection
07:39:26.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-9: Shutdown connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-10: Shutdown connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-11: Shutdown connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Shutdown connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5: Shutdown connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.837 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-7: Shutdown connection
07:39:26.838 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.838 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-8: Shutdown connection
07:39:26.838 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:26.838 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-6: Shutdown connection
07:39:26.873 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:26.873 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:26.873 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:26.873 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:26.873 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:26.873 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60878&lt;-&gt;127.0.0.1:38705
07:39:26.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.873 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:38705
07:39:26.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
07:39:26.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:38705[\r][\n]&quot;
07:39:26.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.874 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {}}
07:39:26.875 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.875 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@db066c8 for /basic
07:39:26.875 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {}}
07:39:26.875 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:26.875 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:26.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:26.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:26.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:26.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
07:39:26.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:26.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 0
07:39:26.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38705 requested authentication
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:26.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:38705
07:39:26.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
07:39:26.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:26.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:38705[\r][\n]&quot;
07:39:26.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:26.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.878 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {}}
07:39:26.878 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.878 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {}}
07:39:26.878 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:26.878 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@db066c8 for /basic
07:39:26.878 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:26.878 [XNIO-25 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]}, cookies=[:]): &lt;empty&gt; }
07:39:26.879 [XNIO-25 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:26.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
07:39:26.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
07:39:26.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 0
07:39:26.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.880 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.880 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:26.880 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:38705
07:39:26.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60878&lt;-&gt;127.0.0.1:38705
07:39:26.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.881 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.881 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.881 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:38705
07:39:26.881 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.881 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.881 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:38705
07:39:26.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
07:39:26.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:38705[\r][\n]&quot;
07:39:26.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.882 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {}}
07:39:26.882 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.882 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@db066c8 for /basic
07:39:26.882 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {}}
07:39:26.882 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:26.882 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 0
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38705 requested authentication
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:26.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:38705
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:38705[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:26.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.884 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {}}
07:39:26.884 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.884 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]} response {}}
07:39:26.885 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:26.885 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@db066c8 for /basic
07:39:26.885 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:26.885 [XNIO-25 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38705]}, cookies=[:]): &lt;empty&gt; }
07:39:26.885 [XNIO-25 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:26.886 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:26.886 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.886 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.886 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.886 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.886 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
07:39:26.886 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
07:39:26.886 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 0
07:39:26.886 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.886 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.886 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:26.886 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:38705
07:39:26.886 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60878&lt;-&gt;127.0.0.1:38705
07:39:26.886 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.887 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6c2658ba
07:39:26.889 [XNIO-25 task-6] DEBUG ersatz.undertow - Failed to schedule task ersatz.undertow.server.protocol.ParseTimeoutUpdater@61e2ffc3 as worker is shutting down
java.util.concurrent.RejectedExecutionException: XNIO007007: Thread is terminating
	at ersatz.xnio.nio.WorkerThread.executeAfter(WorkerThread.java:617)
	at ersatz.undertow.util.WorkerUtils.executeAfter(WorkerUtils.java:46)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.handleSchedule(ParseTimeoutUpdater.java:107)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.connectionIdle(ParseTimeoutUpdater.java:85)
	at ersatz.undertow.server.protocol.http.HttpReadListener.newRequest(HttpReadListener.java:118)
	at ersatz.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:324)
	at ersatz.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:232)
	at ersatz.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1261)
	at ersatz.undertow.server.HttpServerExchange.terminateResponse(HttpServerExchange.java:1538)
	at ersatz.undertow.server.Connectors.terminateResponse(Connectors.java:143)
	at ersatz.undertow.server.protocol.http.HttpTransferEncoding$3.handleEvent(HttpTransferEncoding.java:197)
	at ersatz.undertow.server.protocol.http.HttpTransferEncoding$3.handleEvent(HttpTransferEncoding.java:195)
	at ersatz.undertow.conduits.HeadStreamSinkConduit.exitFlush(HeadStreamSinkConduit.java:192)
	at ersatz.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:133)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:26.898 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@394dfefd
07:39:26.907 [XNIO-26 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-2', selector sun.nio.ch.EPollSelectorImpl@24bfa82d
07:39:26.907 [XNIO-26 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-4', selector sun.nio.ch.EPollSelectorImpl@64912c3b
07:39:26.907 [XNIO-26 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1e80e87a
07:39:26.907 [XNIO-26 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5c0d6abc
07:39:26.908 [XNIO-26 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5b904711
07:39:26.908 [XNIO-26 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-7', selector sun.nio.ch.EPollSelectorImpl@54af8115
07:39:26.908 [XNIO-26 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-8', selector sun.nio.ch.EPollSelectorImpl@8092397
07:39:26.908 [XNIO-26 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3dbe2d91
07:39:26.912 [XNIO-26 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 Accept', selector sun.nio.ch.EPollSelectorImpl@b1dc46d
07:39:26.913 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.913 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.925 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.925 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.925 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34385
07:39:26.925 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34385
07:39:26.926 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34385
07:39:26.926 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50146&lt;-&gt;127.0.0.1:34385
07:39:26.926 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.926 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.926 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:34385
07:39:26.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
07:39:26.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:34385[\r][\n]&quot;
07:39:26.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.927 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.927 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.927 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e95cec7 for /basic
07:39:26.928 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.928 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:26.928 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:26.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:26.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:26.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 0
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34385 requested authentication
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:26.930 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:34385
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:26.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:34385[\r][\n]&quot;
07:39:26.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:26.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.931 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.931 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.931 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.931 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.931 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e95cec7 for /basic
07:39:26.931 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.932 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:26.932 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:26.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:26.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:26.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.932 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:26.932 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
07:39:26.932 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:26.932 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 0
07:39:26.932 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.932 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.932 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:26.932 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34385 requested authentication
07:39:26.932 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:26.932 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:26.932 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50146&lt;-&gt;127.0.0.1:34385
07:39:26.932 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.953 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.954 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.954 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34385
07:39:26.954 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.954 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:26.954 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:34385
07:39:26.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
07:39:26.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:34385[\r][\n]&quot;
07:39:26.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.955 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.955 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.955 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.956 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.956 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.956 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e95cec7 for /basic
07:39:26.956 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.956 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:26.956 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:26.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:26.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:26.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:26.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
07:39:26.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:26.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 0
07:39:26.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.956 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.956 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:26.956 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34385 requested authentication
07:39:26.956 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:26.956 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:26.957 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:26.957 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:26.957 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:26.957 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:26.957 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:26.957 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:26.957 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:26.957 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:26.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; HEAD /basic HTTP/1.1
07:39:26.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:34385
07:39:26.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
07:39:26.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:26.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:26.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:26.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:26.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:34385[\r][\n]&quot;
07:39:26.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:26.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:26.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:26.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:26.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
07:39:26.960 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.961 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:26.961 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.961 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.961 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e95cec7 for /basic
07:39:26.961 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {}}
07:39:26.961 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34385]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:26.961 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:26.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
07:39:26.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:26.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 0
07:39:26.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:26.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:26.961 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:26.962 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34385 requested authentication
07:39:26.962 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:26.962 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:26.962 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50146&lt;-&gt;127.0.0.1:34385
07:39:26.962 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:26.965 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@394dfefd
07:39:26.978 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1cff288d
07:39:26.982 [XNIO-27 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-2', selector sun.nio.ch.EPollSelectorImpl@b8e4998
07:39:26.988 [XNIO-27 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5eb7803
07:39:26.982 [XNIO-27 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6ab5897e
07:39:26.992 [XNIO-27 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-7', selector sun.nio.ch.EPollSelectorImpl@621d62b7
07:39:26.988 [XNIO-27 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2e855050
07:39:26.992 [XNIO-27 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-8', selector sun.nio.ch.EPollSelectorImpl@44152de0
07:39:26.992 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:26.992 [XNIO-27 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 Accept', selector sun.nio.ch.EPollSelectorImpl@2e74ac8c
07:39:26.992 [XNIO-27 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6a8dbc55
07:39:26.992 [XNIO-27 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1a99e25b
07:39:26.992 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:26.998 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:26.998 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:26.998 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40263
07:39:26.998 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40263
07:39:26.998 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40263
07:39:26.998 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40263 with timeout 0
07:39:26.999 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:26.999 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:26.999 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:27.029 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:27.029 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:27.029 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:27.029 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:27.029 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:27.029 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45492&lt;-&gt;127.0.0.1:40263
07:39:27.029 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:27.029 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.030 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.030 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; HEAD /basic HTTP/1.1
07:39:27.030 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:40263
07:39:27.030 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
07:39:27.030 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.030 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:27.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:40263[\r][\n]&quot;
07:39:27.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.030 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.030 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:27.030 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6931f9ad for /basic
07:39:27.030 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.031 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:27.031 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:27.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:27.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
07:39:27.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:27.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 0
07:39:27.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40263 requested authentication
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.031 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:27.032 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; HEAD /basic HTTP/1.1
07:39:27.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:40263
07:39:27.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
07:39:27.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:27.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:27.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:40263[\r][\n]&quot;
07:39:27.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:27.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.032 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.032 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:27.032 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.032 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.033 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6931f9ad for /basic
07:39:27.033 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.033 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:27.033 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:27.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:27.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
07:39:27.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:27.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 0
07:39:27.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40263 requested authentication
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45492&lt;-&gt;127.0.0.1:40263
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.034 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.034 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40263
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; HEAD /basic HTTP/1.1
07:39:27.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:40263
07:39:27.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
07:39:27.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:27.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:40263[\r][\n]&quot;
07:39:27.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.035 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.035 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:27.035 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6931f9ad for /basic
07:39:27.036 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.036 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:27.036 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:27.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:27.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
07:39:27.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:27.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 0
07:39:27.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40263 requested authentication
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.036 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:27.037 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; HEAD /basic HTTP/1.1
07:39:27.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:40263
07:39:27.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
07:39:27.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:27.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
07:39:27.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:40263[\r][\n]&quot;
07:39:27.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:27.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.049 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.049 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:27.050 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.050 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.050 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6931f9ad for /basic
07:39:27.050 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {}}
07:39:27.050 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40263]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:27.050 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:27.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:27.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
07:39:27.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:27.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 0
07:39:27.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.050 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.050 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.051 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40263 requested authentication
07:39:27.051 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:27.051 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:27.051 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45492&lt;-&gt;127.0.0.1:40263
07:39:27.051 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.051 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1cff288d
07:39:27.091 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7a6dc830
07:39:27.093 [XNIO-28 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4628781f
07:39:27.096 [XNIO-28 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5083d4b1
07:39:27.096 [XNIO-28 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1265555c
07:39:27.096 [XNIO-28 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-5', selector sun.nio.ch.EPollSelectorImpl@10ff6cc
07:39:27.097 [XNIO-28 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-6', selector sun.nio.ch.EPollSelectorImpl@44bd90e7
07:39:27.096 [XNIO-28 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-4', selector sun.nio.ch.EPollSelectorImpl@600764f1
07:39:27.100 [XNIO-28 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-7', selector sun.nio.ch.EPollSelectorImpl@45d9424
07:39:27.101 [XNIO-28 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6e696011
07:39:27.102 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.102 [XNIO-28 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 Accept', selector sun.nio.ch.EPollSelectorImpl@2cdc94ad
07:39:27.103 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.112 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.112 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.112 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44941
07:39:27.112 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44941
07:39:27.112 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44941
07:39:27.112 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56288&lt;-&gt;127.0.0.1:44941
07:39:27.112 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.113 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.113 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:44941
07:39:27.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
07:39:27.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:44941[\r][\n]&quot;
07:39:27.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.113 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]} response {}}
07:39:27.114 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.114 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@b374015 for /digest
07:39:27.114 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]} response {}}
07:39:27.116 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
07:39:27.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
07:39:27.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.117 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.117 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44941 requested authentication
07:39:27.117 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.117 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.117 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.117 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.120 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:27.120 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:27.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.120 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:27.121 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:44941
07:39:27.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
07:39:27.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;, uri=&quot;/digest&quot;, response=&quot;fc77cc46a0d135602a93b7832b2befa2&quot;, qop=auth, nc=00000001, cnonce=&quot;ece1877cfbd73cc9&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:27.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:44941[\r][\n]&quot;
07:39:27.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;, uri=&quot;/digest&quot;, response=&quot;fc77cc46a0d135602a93b7832b2befa2&quot;, qop=auth, nc=00000001, cnonce=&quot;ece1877cfbd73cc9&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:27.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.124 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;, uri=&quot;/digest&quot;, response=&quot;fc77cc46a0d135602a93b7832b2befa2&quot;, qop=auth, nc=00000001, cnonce=&quot;ece1877cfbd73cc9&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]} response {}}
07:39:27.125 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.126 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;, uri=&quot;/digest&quot;, response=&quot;fc77cc46a0d135602a93b7832b2befa2&quot;, qop=auth, nc=00000001, cnonce=&quot;ece1877cfbd73cc9&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;, uri=&quot;/digest&quot;, response=&quot;fc77cc46a0d135602a93b7832b2befa2&quot;, qop=auth, nc=00000001, cnonce=&quot;ece1877cfbd73cc9&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]} response {}}
07:39:27.137 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:27.137 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@b374015 for /digest
07:39:27.137 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:27.138 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;, uri=&quot;/digest&quot;, response=&quot;fc77cc46a0d135602a93b7832b2befa2&quot;, qop=auth, nc=00000001, cnonce=&quot;ece1877cfbd73cc9&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]}, cookies=[:]): &lt;empty&gt; }
07:39:27.138 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;,qop=&quot;auth&quot;,rspauth=&quot;3acd613799e0fb7806dd9c4a640483f4&quot;,cnonce=&quot;ece1877cfbd73cc9&quot;,nc=00000001]}): &lt;empty&gt;
07:39:27.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;,qop=&quot;auth&quot;,rspauth=&quot;3acd613799e0fb7806dd9c4a640483f4&quot;,cnonce=&quot;ece1877cfbd73cc9&quot;,nc=00000001[\r][\n]&quot;
07:39:27.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.138 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
07:39:27.138 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
07:39:27.138 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Authentication-Info: nextnonce=&quot;NMkW85Pzr1YNMTUwNzg5ODM2NzExNcmLPCmYAeG5/OXE7ezCCeI=&quot;,qop=&quot;auth&quot;,rspauth=&quot;3acd613799e0fb7806dd9c4a640483f4&quot;,cnonce=&quot;ece1877cfbd73cc9&quot;,nc=00000001
07:39:27.138 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
07:39:27.138 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.138 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.138 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:27.138 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:44941
07:39:27.140 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56288&lt;-&gt;127.0.0.1:44941
07:39:27.140 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.140 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.140 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.140 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44941
07:39:27.140 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.140 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.140 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:44941
07:39:27.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
07:39:27.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:44941[\r][\n]&quot;
07:39:27.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.149 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]} response {}}
07:39:27.149 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.149 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@b374015 for /digest
07:39:27.149 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]} response {}}
07:39:27.149 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
07:39:27.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
07:39:27.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44941 requested authentication
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.150 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:27.151 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:44941
07:39:27.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
07:39:27.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;, uri=&quot;/digest&quot;, response=&quot;c221de833f7df975745b6af426309238&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c49b9faec32ff2&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:27.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:44941[\r][\n]&quot;
07:39:27.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;, uri=&quot;/digest&quot;, response=&quot;c221de833f7df975745b6af426309238&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c49b9faec32ff2&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:27.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.152 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;, uri=&quot;/digest&quot;, response=&quot;c221de833f7df975745b6af426309238&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c49b9faec32ff2&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]} response {}}
07:39:27.152 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.153 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;, uri=&quot;/digest&quot;, response=&quot;c221de833f7df975745b6af426309238&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c49b9faec32ff2&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;, uri=&quot;/digest&quot;, response=&quot;c221de833f7df975745b6af426309238&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c49b9faec32ff2&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]} response {}}
07:39:27.154 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:27.154 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@b374015 for /digest
07:39:27.154 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:27.154 [XNIO-28 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;, uri=&quot;/digest&quot;, response=&quot;c221de833f7df975745b6af426309238&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c49b9faec32ff2&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44941]}, cookies=[:]): &lt;empty&gt; }
07:39:27.154 [XNIO-28 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;,qop=&quot;auth&quot;,rspauth=&quot;6ea93f298736ac5c57ac82aab026792c&quot;,cnonce=&quot;e6c49b9faec32ff2&quot;,nc=00000001]}): &lt;empty&gt;
07:39:27.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;,qop=&quot;auth&quot;,rspauth=&quot;6ea93f298736ac5c57ac82aab026792c&quot;,cnonce=&quot;e6c49b9faec32ff2&quot;,nc=00000001[\r][\n]&quot;
07:39:27.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
07:39:27.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
07:39:27.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Authentication-Info: nextnonce=&quot;EgNw5mNF+EQNMTUwNzg5ODM2NzE0OVy51htsjdMcona8OHhq1AQ=&quot;,qop=&quot;auth&quot;,rspauth=&quot;6ea93f298736ac5c57ac82aab026792c&quot;,cnonce=&quot;e6c49b9faec32ff2&quot;,nc=00000001
07:39:27.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
07:39:27.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.155 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.155 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:27.155 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:44941
07:39:27.155 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56288&lt;-&gt;127.0.0.1:44941
07:39:27.155 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.155 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7a6dc830
07:39:27.160 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3ae272ea
07:39:27.181 [XNIO-29 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5d5fbc18
07:39:27.181 [XNIO-29 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4c0b4e85
07:39:27.184 [XNIO-29 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-3', selector sun.nio.ch.EPollSelectorImpl@61d3d9be
07:39:27.197 [XNIO-29 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6e4b0126
07:39:27.200 [XNIO-29 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-5', selector sun.nio.ch.EPollSelectorImpl@509c3b4a
07:39:27.204 [XNIO-29 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2834994
07:39:27.208 [XNIO-29 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1c310868
07:39:27.216 [XNIO-29 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6e985c42
07:39:27.230 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.230 [XNIO-29 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 Accept', selector sun.nio.ch.EPollSelectorImpl@17248245
07:39:27.231 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.234 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.235 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.235 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36007
07:39:27.235 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:36007
07:39:27.235 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36007
07:39:27.235 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:36007 with timeout 0
07:39:27.235 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:27.235 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:27.235 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:27.285 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:27.285 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:27.285 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:27.285 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:27.285 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:27.285 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60630&lt;-&gt;127.0.0.1:36007
07:39:27.285 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.285 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.285 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:36007
07:39:27.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
07:39:27.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:36007[\r][\n]&quot;
07:39:27.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.287 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]} response {}}
07:39:27.287 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.287 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@62233d7b for /digest
07:39:27.287 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]} response {}}
07:39:27.288 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
07:39:27.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
07:39:27.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.289 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.289 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.289 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36007 requested authentication
07:39:27.289 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.289 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.289 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.289 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.289 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:27.289 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:27.290 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.290 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.290 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:27.291 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:36007
07:39:27.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
07:39:27.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;, uri=&quot;/digest&quot;, response=&quot;8c1ec30dae34ae73cdba50f2956432fc&quot;, qop=auth, nc=00000001, cnonce=&quot;778d4af1c0f3201c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:27.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:36007[\r][\n]&quot;
07:39:27.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;, uri=&quot;/digest&quot;, response=&quot;8c1ec30dae34ae73cdba50f2956432fc&quot;, qop=auth, nc=00000001, cnonce=&quot;778d4af1c0f3201c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:27.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.292 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;, uri=&quot;/digest&quot;, response=&quot;8c1ec30dae34ae73cdba50f2956432fc&quot;, qop=auth, nc=00000001, cnonce=&quot;778d4af1c0f3201c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]} response {}}
07:39:27.293 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.293 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;, uri=&quot;/digest&quot;, response=&quot;8c1ec30dae34ae73cdba50f2956432fc&quot;, qop=auth, nc=00000001, cnonce=&quot;778d4af1c0f3201c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;, uri=&quot;/digest&quot;, response=&quot;8c1ec30dae34ae73cdba50f2956432fc&quot;, qop=auth, nc=00000001, cnonce=&quot;778d4af1c0f3201c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]} response {}}
07:39:27.294 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:27.294 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@62233d7b for /digest
07:39:27.294 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:27.294 [XNIO-29 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;, uri=&quot;/digest&quot;, response=&quot;8c1ec30dae34ae73cdba50f2956432fc&quot;, qop=auth, nc=00000001, cnonce=&quot;778d4af1c0f3201c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]}, cookies=[:]): &lt;empty&gt; }
07:39:27.296 [XNIO-29 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;d0bec6162ec24f6e1076de84e34af188&quot;,cnonce=&quot;778d4af1c0f3201c&quot;,nc=00000001]}): &lt;empty&gt;
07:39:27.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;d0bec6162ec24f6e1076de84e34af188&quot;,cnonce=&quot;778d4af1c0f3201c&quot;,nc=00000001[\r][\n]&quot;
07:39:27.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
07:39:27.298 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
07:39:27.298 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Authentication-Info: nextnonce=&quot;oVV87lKDuQ0NMTUwNzg5ODM2NzI4N1tqX1hNt3zcTaMpFAYSve4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;d0bec6162ec24f6e1076de84e34af188&quot;,cnonce=&quot;778d4af1c0f3201c&quot;,nc=00000001
07:39:27.298 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
07:39:27.298 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.298 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.298 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:27.298 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:36007
07:39:27.299 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60630&lt;-&gt;127.0.0.1:36007
07:39:27.299 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.300 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.300 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.300 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36007
07:39:27.300 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.300 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.300 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:36007
07:39:27.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
07:39:27.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:36007[\r][\n]&quot;
07:39:27.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.314 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]} response {}}
07:39:27.315 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.315 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@62233d7b for /digest
07:39:27.315 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]} response {}}
07:39:27.315 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.316 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.316 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
07:39:27.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
07:39:27.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.317 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.317 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.317 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36007 requested authentication
07:39:27.317 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.317 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.317 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.317 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.318 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:27.318 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:27.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.318 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:27.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:36007
07:39:27.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
07:39:27.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;, uri=&quot;/digest&quot;, response=&quot;4755a91305044ba184e041766aa8b520&quot;, qop=auth, nc=00000001, cnonce=&quot;a3e4779ad3f7e158&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:27.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:36007[\r][\n]&quot;
07:39:27.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;, uri=&quot;/digest&quot;, response=&quot;4755a91305044ba184e041766aa8b520&quot;, qop=auth, nc=00000001, cnonce=&quot;a3e4779ad3f7e158&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:27.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.332 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;, uri=&quot;/digest&quot;, response=&quot;4755a91305044ba184e041766aa8b520&quot;, qop=auth, nc=00000001, cnonce=&quot;a3e4779ad3f7e158&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]} response {}}
07:39:27.332 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.332 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;, uri=&quot;/digest&quot;, response=&quot;4755a91305044ba184e041766aa8b520&quot;, qop=auth, nc=00000001, cnonce=&quot;a3e4779ad3f7e158&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;, uri=&quot;/digest&quot;, response=&quot;4755a91305044ba184e041766aa8b520&quot;, qop=auth, nc=00000001, cnonce=&quot;a3e4779ad3f7e158&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]} response {}}
07:39:27.341 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:27.341 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@62233d7b for /digest
07:39:27.341 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:27.341 [XNIO-29 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;, uri=&quot;/digest&quot;, response=&quot;4755a91305044ba184e041766aa8b520&quot;, qop=auth, nc=00000001, cnonce=&quot;a3e4779ad3f7e158&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36007]}, cookies=[:]): &lt;empty&gt; }
07:39:27.341 [XNIO-29 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f7eb571e9accfbb3d1b8431dd7c6b56e&quot;,cnonce=&quot;a3e4779ad3f7e158&quot;,nc=00000001]}): &lt;empty&gt;
07:39:27.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f7eb571e9accfbb3d1b8431dd7c6b56e&quot;,cnonce=&quot;a3e4779ad3f7e158&quot;,nc=00000001[\r][\n]&quot;
07:39:27.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
07:39:27.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
07:39:27.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Authentication-Info: nextnonce=&quot;zTpuowzy73kNMTUwNzg5ODM2NzMxNYwOa5p8URAKdGCiTARYVu8=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f7eb571e9accfbb3d1b8431dd7c6b56e&quot;,cnonce=&quot;a3e4779ad3f7e158&quot;,nc=00000001
07:39:27.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
07:39:27.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.343 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.343 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:27.343 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:36007
07:39:27.345 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60630&lt;-&gt;127.0.0.1:36007
07:39:27.345 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.345 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3ae272ea
07:39:27.356 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1a9bd76
07:39:27.360 [XNIO-30 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-1', selector sun.nio.ch.EPollSelectorImpl@63380374
07:39:27.363 [XNIO-30 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-2', selector sun.nio.ch.EPollSelectorImpl@14f2bc4a
07:39:27.364 [XNIO-30 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-3', selector sun.nio.ch.EPollSelectorImpl@34714a04
07:39:27.372 [XNIO-30 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4976b6e6
07:39:27.373 [XNIO-30 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-5', selector sun.nio.ch.EPollSelectorImpl@59a32075
07:39:27.373 [XNIO-30 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-6', selector sun.nio.ch.EPollSelectorImpl@162ddb4f
07:39:27.373 [XNIO-30 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-7', selector sun.nio.ch.EPollSelectorImpl@483b5313
07:39:27.373 [XNIO-30 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-8', selector sun.nio.ch.EPollSelectorImpl@14cc25d3
07:39:27.373 [XNIO-30 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 Accept', selector sun.nio.ch.EPollSelectorImpl@626c393b
07:39:27.373 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.381 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.386 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.386 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.387 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35085
07:39:27.387 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35085
07:39:27.387 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35085
07:39:27.387 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37520&lt;-&gt;127.0.0.1:35085
07:39:27.387 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.387 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.387 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:35085
07:39:27.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
07:39:27.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:35085[\r][\n]&quot;
07:39:27.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.423 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.423 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.423 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@f715efd for /digest
07:39:27.424 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.425 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;zvHLQMm1MawNMTUwNzg5ODM2NzQyNUItc6HaSlJ5QRpuSBT+tqw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
07:39:27.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;zvHLQMm1MawNMTUwNzg5ODM2NzQyNUItc6HaSlJ5QRpuSBT+tqw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
07:39:27.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.426 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.426 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.426 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35085 requested authentication
07:39:27.426 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.426 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.426 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.426 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.427 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:27.427 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:27.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.427 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:27.428 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:35085
07:39:27.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
07:39:27.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zvHLQMm1MawNMTUwNzg5ODM2NzQyNUItc6HaSlJ5QRpuSBT+tqw=&quot;, uri=&quot;/digest&quot;, response=&quot;5318d18cc9980528e9757aea7853a834&quot;, qop=auth, nc=00000001, cnonce=&quot;e2492fc93589daae&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:27.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:35085[\r][\n]&quot;
07:39:27.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zvHLQMm1MawNMTUwNzg5ODM2NzQyNUItc6HaSlJ5QRpuSBT+tqw=&quot;, uri=&quot;/digest&quot;, response=&quot;5318d18cc9980528e9757aea7853a834&quot;, qop=auth, nc=00000001, cnonce=&quot;e2492fc93589daae&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:27.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.437 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zvHLQMm1MawNMTUwNzg5ODM2NzQyNUItc6HaSlJ5QRpuSBT+tqw=&quot;, uri=&quot;/digest&quot;, response=&quot;5318d18cc9980528e9757aea7853a834&quot;, qop=auth, nc=00000001, cnonce=&quot;e2492fc93589daae&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.437 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.437 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zvHLQMm1MawNMTUwNzg5ODM2NzQyNUItc6HaSlJ5QRpuSBT+tqw=&quot;, uri=&quot;/digest&quot;, response=&quot;5318d18cc9980528e9757aea7853a834&quot;, qop=auth, nc=00000001, cnonce=&quot;e2492fc93589daae&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zvHLQMm1MawNMTUwNzg5ODM2NzQyNUItc6HaSlJ5QRpuSBT+tqw=&quot;, uri=&quot;/digest&quot;, response=&quot;5318d18cc9980528e9757aea7853a834&quot;, qop=auth, nc=00000001, cnonce=&quot;e2492fc93589daae&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.437 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zvHLQMm1MawNMTUwNzg5ODM2NzQyNUItc6HaSlJ5QRpuSBT+tqw=&quot;, uri=&quot;/digest&quot;, response=&quot;5318d18cc9980528e9757aea7853a834&quot;, qop=auth, nc=00000001, cnonce=&quot;e2492fc93589daae&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.437 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@f715efd for /digest
07:39:27.437 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zvHLQMm1MawNMTUwNzg5ODM2NzQyNUItc6HaSlJ5QRpuSBT+tqw=&quot;, uri=&quot;/digest&quot;, response=&quot;5318d18cc9980528e9757aea7853a834&quot;, qop=auth, nc=00000001, cnonce=&quot;e2492fc93589daae&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.437 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;UygeErvdpSINMTUwNzg5ODM2NzQzN9nvOa/odt+SypoN2ijHqj8=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
07:39:27.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;UygeErvdpSINMTUwNzg5ODM2NzQzN9nvOa/odt+SypoN2ijHqj8=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
07:39:27.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35085 requested authentication
07:39:27.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:27.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:27.438 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37520&lt;-&gt;127.0.0.1:35085
07:39:27.438 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.439 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.439 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.439 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35085
07:39:27.439 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.439 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.439 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:35085
07:39:27.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
07:39:27.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:35085[\r][\n]&quot;
07:39:27.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.447 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.447 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.447 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@f715efd for /digest
07:39:27.448 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.448 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;aOFacaVue6MNMTUwNzg5ODM2NzQ0OM53AV9MlLqo/9rwzzF/o+E=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
07:39:27.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;aOFacaVue6MNMTUwNzg5ODM2NzQ0OM53AV9MlLqo/9rwzzF/o+E=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
07:39:27.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.448 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35085 requested authentication
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:27.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:35085
07:39:27.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
07:39:27.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;aOFacaVue6MNMTUwNzg5ODM2NzQ0OM53AV9MlLqo/9rwzzF/o+E=&quot;, uri=&quot;/digest&quot;, response=&quot;f0cadfec4a91bb34be2fedae44ad963c&quot;, qop=auth, nc=00000001, cnonce=&quot;cf9a28df1dfb6d91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:27.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:35085[\r][\n]&quot;
07:39:27.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;aOFacaVue6MNMTUwNzg5ODM2NzQ0OM53AV9MlLqo/9rwzzF/o+E=&quot;, uri=&quot;/digest&quot;, response=&quot;f0cadfec4a91bb34be2fedae44ad963c&quot;, qop=auth, nc=00000001, cnonce=&quot;cf9a28df1dfb6d91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:27.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.452 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;aOFacaVue6MNMTUwNzg5ODM2NzQ0OM53AV9MlLqo/9rwzzF/o+E=&quot;, uri=&quot;/digest&quot;, response=&quot;f0cadfec4a91bb34be2fedae44ad963c&quot;, qop=auth, nc=00000001, cnonce=&quot;cf9a28df1dfb6d91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.453 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.453 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;aOFacaVue6MNMTUwNzg5ODM2NzQ0OM53AV9MlLqo/9rwzzF/o+E=&quot;, uri=&quot;/digest&quot;, response=&quot;f0cadfec4a91bb34be2fedae44ad963c&quot;, qop=auth, nc=00000001, cnonce=&quot;cf9a28df1dfb6d91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;aOFacaVue6MNMTUwNzg5ODM2NzQ0OM53AV9MlLqo/9rwzzF/o+E=&quot;, uri=&quot;/digest&quot;, response=&quot;f0cadfec4a91bb34be2fedae44ad963c&quot;, qop=auth, nc=00000001, cnonce=&quot;cf9a28df1dfb6d91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.453 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;aOFacaVue6MNMTUwNzg5ODM2NzQ0OM53AV9MlLqo/9rwzzF/o+E=&quot;, uri=&quot;/digest&quot;, response=&quot;f0cadfec4a91bb34be2fedae44ad963c&quot;, qop=auth, nc=00000001, cnonce=&quot;cf9a28df1dfb6d91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.453 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@f715efd for /digest
07:39:27.453 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;aOFacaVue6MNMTUwNzg5ODM2NzQ0OM53AV9MlLqo/9rwzzF/o+E=&quot;, uri=&quot;/digest&quot;, response=&quot;f0cadfec4a91bb34be2fedae44ad963c&quot;, qop=auth, nc=00000001, cnonce=&quot;cf9a28df1dfb6d91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35085]} response {}}
07:39:27.453 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;3a3V7nw3FZcNMTUwNzg5ODM2NzQ1M81U8x7OUfNW6COU5hdI7ow=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
07:39:27.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;3a3V7nw3FZcNMTUwNzg5ODM2NzQ1M81U8x7OUfNW6COU5hdI7ow=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
07:39:27.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.454 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.454 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.454 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35085 requested authentication
07:39:27.454 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:27.454 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:27.454 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37520&lt;-&gt;127.0.0.1:35085
07:39:27.454 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.455 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1a9bd76
07:39:27.460 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2fd81d8f
07:39:27.469 [XNIO-31 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-1', selector sun.nio.ch.EPollSelectorImpl@14fdd058
07:39:27.480 [XNIO-31 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7cab09e2
07:39:27.484 [XNIO-31 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7b9126
07:39:27.490 [XNIO-31 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-4', selector sun.nio.ch.EPollSelectorImpl@67eeee4d
07:39:27.500 [XNIO-31 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-5', selector sun.nio.ch.EPollSelectorImpl@972417e
07:39:27.501 [XNIO-31 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-6', selector sun.nio.ch.EPollSelectorImpl@939f749
07:39:27.501 [XNIO-31 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2447eae2
07:39:27.505 [XNIO-31 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-8', selector sun.nio.ch.EPollSelectorImpl@153a7fbb
07:39:27.508 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.508 [XNIO-31 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 Accept', selector sun.nio.ch.EPollSelectorImpl@37d30faf
07:39:27.509 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.512 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.512 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.512 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39895
07:39:27.512 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:39895
07:39:27.512 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39895
07:39:27.512 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:39895 with timeout 0
07:39:27.513 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:27.513 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:27.513 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:27.570 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:27.570 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:27.570 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:27.570 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:27.570 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:27.570 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37242&lt;-&gt;127.0.0.1:39895
07:39:27.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:39895
07:39:27.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
07:39:27.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:39895[\r][\n]&quot;
07:39:27.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.577 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.577 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.577 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@763c7363 for /digest
07:39:27.578 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.578 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;N3YhEo7g1o4NMTUwNzg5ODM2NzU3ODXWXF08rZC9rIVhVuwj+bQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
07:39:27.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;N3YhEo7g1o4NMTUwNzg5ODM2NzU3ODXWXF08rZC9rIVhVuwj+bQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
07:39:27.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39895 requested authentication
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.579 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:27.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:39895
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;N3YhEo7g1o4NMTUwNzg5ODM2NzU3ODXWXF08rZC9rIVhVuwj+bQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ea9cbc3e470105d415b6476624ad2dc0&quot;, qop=auth, nc=00000001, cnonce=&quot;b4301d1d1f818e54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:39895[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;N3YhEo7g1o4NMTUwNzg5ODM2NzU3ODXWXF08rZC9rIVhVuwj+bQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ea9cbc3e470105d415b6476624ad2dc0&quot;, qop=auth, nc=00000001, cnonce=&quot;b4301d1d1f818e54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:27.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.593 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;N3YhEo7g1o4NMTUwNzg5ODM2NzU3ODXWXF08rZC9rIVhVuwj+bQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ea9cbc3e470105d415b6476624ad2dc0&quot;, qop=auth, nc=00000001, cnonce=&quot;b4301d1d1f818e54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.593 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.593 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;N3YhEo7g1o4NMTUwNzg5ODM2NzU3ODXWXF08rZC9rIVhVuwj+bQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ea9cbc3e470105d415b6476624ad2dc0&quot;, qop=auth, nc=00000001, cnonce=&quot;b4301d1d1f818e54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;N3YhEo7g1o4NMTUwNzg5ODM2NzU3ODXWXF08rZC9rIVhVuwj+bQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ea9cbc3e470105d415b6476624ad2dc0&quot;, qop=auth, nc=00000001, cnonce=&quot;b4301d1d1f818e54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.594 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;N3YhEo7g1o4NMTUwNzg5ODM2NzU3ODXWXF08rZC9rIVhVuwj+bQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ea9cbc3e470105d415b6476624ad2dc0&quot;, qop=auth, nc=00000001, cnonce=&quot;b4301d1d1f818e54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.594 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@763c7363 for /digest
07:39:27.594 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;N3YhEo7g1o4NMTUwNzg5ODM2NzU3ODXWXF08rZC9rIVhVuwj+bQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ea9cbc3e470105d415b6476624ad2dc0&quot;, qop=auth, nc=00000001, cnonce=&quot;b4301d1d1f818e54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.594 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;aBLMZRtrXLENMTUwNzg5ODM2NzU5NGLO0LijmTUUhjexbgKLcF0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
07:39:27.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;aBLMZRtrXLENMTUwNzg5ODM2NzU5NGLO0LijmTUUhjexbgKLcF0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
07:39:27.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.595 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.595 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.595 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39895 requested authentication
07:39:27.595 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:27.595 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:27.595 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37242&lt;-&gt;127.0.0.1:39895
07:39:27.595 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.596 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.596 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.596 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39895
07:39:27.596 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.596 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.596 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:39895
07:39:27.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
07:39:27.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:39895[\r][\n]&quot;
07:39:27.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.600 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.601 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.601 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@763c7363 for /digest
07:39:27.601 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.601 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
07:39:27.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
07:39:27.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.602 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.602 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.602 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39895 requested authentication
07:39:27.602 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:27.602 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:27.602 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:27.602 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:27.602 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:27.602 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:27.603 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
07:39:27.603 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:27.603 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:27.603 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; HEAD /digest HTTP/1.1
07:39:27.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:39895
07:39:27.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
07:39:27.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;, uri=&quot;/digest&quot;, response=&quot;c966449ff9a17618733d1afae5757d37&quot;, qop=auth, nc=00000001, cnonce=&quot;bf34db815c75ab76&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:27.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
07:39:27.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:39895[\r][\n]&quot;
07:39:27.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;, uri=&quot;/digest&quot;, response=&quot;c966449ff9a17618733d1afae5757d37&quot;, qop=auth, nc=00000001, cnonce=&quot;bf34db815c75ab76&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:27.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.609 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;, uri=&quot;/digest&quot;, response=&quot;c966449ff9a17618733d1afae5757d37&quot;, qop=auth, nc=00000001, cnonce=&quot;bf34db815c75ab76&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.609 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:27.609 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;, uri=&quot;/digest&quot;, response=&quot;c966449ff9a17618733d1afae5757d37&quot;, qop=auth, nc=00000001, cnonce=&quot;bf34db815c75ab76&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;, uri=&quot;/digest&quot;, response=&quot;c966449ff9a17618733d1afae5757d37&quot;, qop=auth, nc=00000001, cnonce=&quot;bf34db815c75ab76&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.609 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;, uri=&quot;/digest&quot;, response=&quot;c966449ff9a17618733d1afae5757d37&quot;, qop=auth, nc=00000001, cnonce=&quot;bf34db815c75ab76&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.610 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@763c7363 for /digest
07:39:27.610 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;, uri=&quot;/digest&quot;, response=&quot;c966449ff9a17618733d1afae5757d37&quot;, qop=auth, nc=00000001, cnonce=&quot;bf34db815c75ab76&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {}}
07:39:27.610 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:27.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:27.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;M2xD0GkjdhYNMTUwNzg5ODM2NzYxMCkV5ajZeuNMuryYq7FpTOE=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:27.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:27.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
07:39:27.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;M2xD0GkjdhYNMTUwNzg5ODM2NzYxMCkV5ajZeuNMuryYq7FpTOE=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:27.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
07:39:27.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.611 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.611 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:27.611 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39895 requested authentication
07:39:27.611 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:27.612 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:27.612 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37242&lt;-&gt;127.0.0.1:39895
07:39:27.612 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.613 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2fd81d8f
07:39:27.614 [XNIO-31 I/O-4] DEBUG ersatz.undertow - Failed to schedule task ersatz.undertow.server.protocol.ParseTimeoutUpdater@30123808 as worker is shutting down
java.util.concurrent.RejectedExecutionException: XNIO007007: Thread is terminating
	at ersatz.xnio.nio.WorkerThread.executeAfter(WorkerThread.java:617)
	at ersatz.undertow.util.WorkerUtils.executeAfter(WorkerUtils.java:46)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.handleSchedule(ParseTimeoutUpdater.java:107)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.connectionIdle(ParseTimeoutUpdater.java:85)
	at ersatz.undertow.server.protocol.http.HttpReadListener.newRequest(HttpReadListener.java:118)
	at ersatz.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:310)
	at ersatz.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:232)
	at ersatz.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1261)
	at ersatz.undertow.server.HttpServerExchange.closeAndFlushResponse(HttpServerExchange.java:1675)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1665)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:316)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:296)
	at ersatz.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at ersatz.xnio.StreamConnection.invokeCloseListener(StreamConnection.java:80)
	at ersatz.xnio.Connection.writeClosed(Connection.java:117)
	at ersatz.undertow.protocols.ssl.UndertowSslConnection.writeClosed(UndertowSslConnection.java:145)
	at ersatz.undertow.protocols.ssl.SslConduit.notifyWriteClosed(SslConduit.java:588)
	at ersatz.undertow.protocols.ssl.SslConduit.truncateWrites(SslConduit.java:501)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.truncateWrites(HttpResponseConduit.java:774)
	at ersatz.xnio.conduits.AbstractSinkConduit.truncateWrites(AbstractSinkConduit.java:82)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.close(ConduitStreamSinkChannel.java:186)
	at ersatz.xnio.IoUtils.safeClose(IoUtils.java:134)
	at ersatz.xnio.conduits.WriteReadyHandler$ChannelListenerHandler.forceTermination(WriteReadyHandler.java:57)
	at ersatz.undertow.protocols.ssl.SslConduit$SslWriteReadyHandler.forceTermination(SslConduit.java:1201)
	at ersatz.xnio.nio.NioSocketConduit.forceTermination(NioSocketConduit.java:107)
	at ersatz.xnio.nio.WorkerThread.run(WorkerThread.java:494)
07:39:27.616 [XNIO-31 task-6] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;tiPZXPlaPgUNMTUwNzg5ODM2NzYwMXL8RH/Sg4DZ4nTAOHQWUrU=&quot;, uri=&quot;/digest&quot;, response=&quot;c966449ff9a17618733d1afae5757d37&quot;, qop=auth, nc=00000001, cnonce=&quot;bf34db815c75ab76&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39895]} response {Connection=[keep-alive], WWW-Authenticate=[Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;M2xD0GkjdhYNMTUwNzg5ODM2NzYxMCkV5ajZeuNMuryYq7FpTOE=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;], Content-Length=[0], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:895)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:371)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:131)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.server.HttpServerExchange$DefaultBlockingHttpExchange.close(HttpServerExchange.java:1890)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1599)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:55)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:27.620 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@12c8ee63
07:39:27.622 [XNIO-32 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-1', selector sun.nio.ch.EPollSelectorImpl@44eba80a
07:39:27.624 [XNIO-32 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6b3dd079
07:39:27.628 [XNIO-32 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-3', selector sun.nio.ch.EPollSelectorImpl@786227a1
07:39:27.637 [XNIO-32 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-4', selector sun.nio.ch.EPollSelectorImpl@333cbdde
07:39:27.640 [XNIO-32 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3581b4df
07:39:27.641 [XNIO-32 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7642123d
07:39:27.648 [XNIO-32 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2e4c7789
07:39:27.665 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.665 [XNIO-32 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 Accept', selector sun.nio.ch.EPollSelectorImpl@7b2cfea5
07:39:27.668 [XNIO-32 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-8', selector sun.nio.ch.EPollSelectorImpl@43c99cd5
07:39:27.669 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.687 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.688 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.688 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40089
07:39:27.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40089
07:39:27.688 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40089
07:39:27.688 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42978&lt;-&gt;127.0.0.1:40089
07:39:27.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /pass HTTP/1.1
07:39:27.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; HEAD /pass HTTP/1.1
07:39:27.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:40089
07:39:27.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
07:39:27.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;HEAD /pass HTTP/1.1[\r][\n]&quot;
07:39:27.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:40089[\r][\n]&quot;
07:39:27.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.693 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40089]}, cookies=[:]): &lt;empty&gt; }
07:39:27.693 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
07:39:27.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
07:39:27.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
07:39:27.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.694 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42978&lt;-&gt;127.0.0.1:40089
07:39:27.694 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.695 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.695 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40089
07:39:27.695 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /pass HTTP/1.1
07:39:27.695 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.695 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; HEAD /pass HTTP/1.1
07:39:27.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:40089
07:39:27.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
07:39:27.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;HEAD /pass HTTP/1.1[\r][\n]&quot;
07:39:27.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:40089[\r][\n]&quot;
07:39:27.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.704 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40089]}, cookies=[:]): &lt;empty&gt; }
07:39:27.705 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.705 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:27.705 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.705 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.705 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.705 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.705 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
07:39:27.705 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
07:39:27.705 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
07:39:27.705 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.705 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.705 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42978&lt;-&gt;127.0.0.1:40089
07:39:27.705 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.706 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@12c8ee63
07:39:27.717 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@139f3636
07:39:27.721 [XNIO-33 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-1', selector sun.nio.ch.EPollSelectorImpl@184fd1f5
07:39:27.728 [XNIO-33 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-2', selector sun.nio.ch.EPollSelectorImpl@52197546
07:39:27.728 [XNIO-33 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5f6ee86d
07:39:27.735 [XNIO-33 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5a66d294
07:39:27.735 [XNIO-33 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-5', selector sun.nio.ch.EPollSelectorImpl@360dabc1
07:39:27.735 [XNIO-33 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-6', selector sun.nio.ch.EPollSelectorImpl@51c0637b
07:39:27.736 [XNIO-33 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-7', selector sun.nio.ch.EPollSelectorImpl@525ddaca
07:39:27.744 [XNIO-33 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-8', selector sun.nio.ch.EPollSelectorImpl@411d2043
07:39:27.746 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.746 [XNIO-33 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 Accept', selector sun.nio.ch.EPollSelectorImpl@cd8d9c0
07:39:27.748 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.757 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.757 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.757 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36413
07:39:27.757 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36413
07:39:27.758 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36413
07:39:27.758 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38438&lt;-&gt;127.0.0.1:36413
07:39:27.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:27.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; HEAD /handling HTTP/1.1
07:39:27.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:36413
07:39:27.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
07:39:27.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:27.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:36413[\r][\n]&quot;
07:39:27.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.763 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36413]}, cookies=[:]): &lt;empty&gt; }
07:39:27.764 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:27.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:27.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
07:39:27.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
07:39:27.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.766 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38438&lt;-&gt;127.0.0.1:36413
07:39:27.766 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.766 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.766 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.766 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36413
07:39:27.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:27.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; HEAD /handling HTTP/1.1
07:39:27.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:36413
07:39:27.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
07:39:27.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:27.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:36413[\r][\n]&quot;
07:39:27.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.768 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36413]}, cookies=[:]): &lt;empty&gt; }
07:39:27.769 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.770 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:27.770 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.770 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.770 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.770 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.770 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:27.770 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
07:39:27.770 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
07:39:27.770 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.770 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.770 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38438&lt;-&gt;127.0.0.1:36413
07:39:27.770 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.771 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@139f3636
07:39:27.779 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@11866101
07:39:27.784 [XNIO-34 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-2', selector sun.nio.ch.EPollSelectorImpl@56d583ff
07:39:27.800 [XNIO-34 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1af29bb4
07:39:27.784 [XNIO-34 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4dad3a84
07:39:27.804 [XNIO-34 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6572a78e
07:39:27.806 [XNIO-34 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-5', selector sun.nio.ch.EPollSelectorImpl@77df26b6
07:39:27.807 [XNIO-34 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7d45574e
07:39:27.808 [XNIO-34 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-7', selector sun.nio.ch.EPollSelectorImpl@582be6a2
07:39:27.812 [XNIO-34 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1f0284a4
07:39:27.813 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.813 [XNIO-34 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 Accept', selector sun.nio.ch.EPollSelectorImpl@3754ef05
07:39:27.814 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.817 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.817 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.817 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37757
07:39:27.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37757
07:39:27.817 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37757
07:39:27.817 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51810&lt;-&gt;127.0.0.1:37757
07:39:27.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:27.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; HEAD /handling HTTP/1.1
07:39:27.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:37757
07:39:27.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
07:39:27.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:27.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:37757[\r][\n]&quot;
07:39:27.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.820 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37757]}, cookies=[:]): &lt;empty&gt; }
07:39:27.821 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:27.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.821 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 210 Unknown
07:39:27.821 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
07:39:27.821 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
07:39:27.821 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.821 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.821 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51810&lt;-&gt;127.0.0.1:37757
07:39:27.821 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.822 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.822 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.822 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37757
07:39:27.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:27.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; HEAD /handling HTTP/1.1
07:39:27.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:37757
07:39:27.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
07:39:27.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:27.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:37757[\r][\n]&quot;
07:39:27.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.829 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37757]}, cookies=[:]): &lt;empty&gt; }
07:39:27.829 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:27.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 210 Unknown
07:39:27.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
07:39:27.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
07:39:27.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.830 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.830 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51810&lt;-&gt;127.0.0.1:37757
07:39:27.830 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.830 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@11866101
07:39:27.835 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@34b914ca
07:39:27.837 [XNIO-35 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2b99977f
07:39:27.840 [XNIO-35 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6e7a227a
07:39:27.841 [XNIO-35 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6a8f72a1
07:39:27.841 [XNIO-35 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6b3c76d0
07:39:27.844 [XNIO-35 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1bfc9bde
07:39:27.841 [XNIO-35 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-5', selector sun.nio.ch.EPollSelectorImpl@597428bf
07:39:27.868 [XNIO-35 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3bf23d9b
07:39:27.856 [XNIO-35 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-7', selector sun.nio.ch.EPollSelectorImpl@33950b7d
07:39:27.869 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.869 [XNIO-35 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 Accept', selector sun.nio.ch.EPollSelectorImpl@66714641
07:39:27.869 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.873 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.873 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.873 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43353
07:39:27.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43353
07:39:27.873 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43353
07:39:27.874 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34642&lt;-&gt;127.0.0.1:43353
07:39:27.874 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:27.874 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.874 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; HEAD /handling HTTP/1.1
07:39:27.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:43353
07:39:27.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
07:39:27.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:27.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:43353[\r][\n]&quot;
07:39:27.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.880 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43353]}, cookies=[:]): &lt;empty&gt; }
07:39:27.881 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:27.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 211 Unknown
07:39:27.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
07:39:27.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
07:39:27.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.882 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.882 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34642&lt;-&gt;127.0.0.1:43353
07:39:27.882 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.883 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.883 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.883 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43353
07:39:27.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:27.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; HEAD /handling HTTP/1.1
07:39:27.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:43353
07:39:27.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
07:39:27.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:27.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:43353[\r][\n]&quot;
07:39:27.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.883 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43353]}, cookies=[:]): &lt;empty&gt; }
07:39:27.884 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:27.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 211 Unknown
07:39:27.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
07:39:27.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
07:39:27.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.884 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.884 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34642&lt;-&gt;127.0.0.1:43353
07:39:27.884 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.885 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@34b914ca
07:39:27.902 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@66e16db5
07:39:27.904 [XNIO-36 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2f87ad2b
07:39:27.912 [XNIO-36 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-2', selector sun.nio.ch.EPollSelectorImpl@37e81b7c
07:39:27.920 [XNIO-36 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-3', selector sun.nio.ch.EPollSelectorImpl@616c5687
07:39:27.926 [XNIO-36 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-4', selector sun.nio.ch.EPollSelectorImpl@d6cc273
07:39:27.928 [XNIO-36 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-5', selector sun.nio.ch.EPollSelectorImpl@45546a39
07:39:27.929 [XNIO-36 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7e481da2
07:39:27.933 [XNIO-36 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7655d7f6
07:39:27.948 [XNIO-36 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-8', selector sun.nio.ch.EPollSelectorImpl@55eeb986
07:39:27.956 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:27.957 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:27.969 [XNIO-36 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 Accept', selector sun.nio.ch.EPollSelectorImpl@793e6227
07:39:27.977 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.977 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.977 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41165
07:39:27.977 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41165
07:39:27.977 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41165
07:39:27.977 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40360&lt;-&gt;127.0.0.1:41165
07:39:27.977 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:27.977 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.977 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; HEAD /handling HTTP/1.1
07:39:27.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:41165
07:39:27.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
07:39:27.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:27.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:41165[\r][\n]&quot;
07:39:27.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.978 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41165]}, cookies=[:]): &lt;empty&gt; }
07:39:27.979 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:27.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:27.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
07:39:27.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
07:39:27.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.980 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.980 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40360&lt;-&gt;127.0.0.1:41165
07:39:27.980 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.981 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:27.981 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:27.981 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41165
07:39:27.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:27.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:27.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:27.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; HEAD /handling HTTP/1.1
07:39:27.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:41165
07:39:27.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
07:39:27.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:27.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:27.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:27.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:41165[\r][\n]&quot;
07:39:27.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:27.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:27.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:27.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
07:39:27.994 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41165]}, cookies=[:]): &lt;empty&gt; }
07:39:27.995 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:27.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:27.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:27.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:27.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:27.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
07:39:27.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:27.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
07:39:27.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
07:39:27.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:27.995 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:27.995 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40360&lt;-&gt;127.0.0.1:41165
07:39:27.995 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:27.996 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@66e16db5
07:39:28.003 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@516502e4
07:39:28.008 [XNIO-37 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5a043dc8
07:39:28.011 [XNIO-37 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-3', selector sun.nio.ch.EPollSelectorImpl@60c6c917
07:39:28.011 [XNIO-37 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3c2d863b
07:39:28.015 [XNIO-37 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-4', selector sun.nio.ch.EPollSelectorImpl@12065b9b
07:39:28.016 [XNIO-37 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-5', selector sun.nio.ch.EPollSelectorImpl@841aa4a
07:39:28.020 [XNIO-37 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5e8cf3a6
07:39:28.025 [XNIO-37 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-7', selector sun.nio.ch.EPollSelectorImpl@629c27e8
07:39:28.028 [XNIO-37 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7869473c
07:39:28.036 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.037 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.040 [XNIO-37 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 Accept', selector sun.nio.ch.EPollSelectorImpl@6927419f
07:39:28.041 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.041 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.042 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46391
07:39:28.042 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46391
07:39:28.042 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46391
07:39:28.042 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50644&lt;-&gt;127.0.0.1:46391
07:39:28.042 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.042 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.042 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:46391
07:39:28.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
07:39:28.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:46391[\r][\n]&quot;
07:39:28.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.064 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46391]}, cookies=[:]): &lt;empty&gt; }
07:39:28.065 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:28.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 210 Unknown
07:39:28.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
07:39:28.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
07:39:28.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.066 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.066 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50644&lt;-&gt;127.0.0.1:46391
07:39:28.066 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.067 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.067 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.067 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46391
07:39:28.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:46391
07:39:28.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
07:39:28.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:46391[\r][\n]&quot;
07:39:28.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.068 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46391]}, cookies=[:]): &lt;empty&gt; }
07:39:28.068 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:28.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 210 Unknown
07:39:28.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
07:39:28.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
07:39:28.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.069 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.069 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50644&lt;-&gt;127.0.0.1:46391
07:39:28.069 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.069 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@516502e4
07:39:28.071 [XNIO-37 I/O-6] DEBUG ersatz.undertow - Failed to schedule task ersatz.undertow.server.protocol.ParseTimeoutUpdater@285ecc77 as worker is shutting down
java.util.concurrent.RejectedExecutionException: XNIO007007: Thread is terminating
	at ersatz.xnio.nio.WorkerThread.executeAfter(WorkerThread.java:617)
	at ersatz.undertow.util.WorkerUtils.executeAfter(WorkerUtils.java:46)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.handleSchedule(ParseTimeoutUpdater.java:107)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.connectionIdle(ParseTimeoutUpdater.java:85)
	at ersatz.undertow.server.protocol.http.HttpReadListener.newRequest(HttpReadListener.java:118)
	at ersatz.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:310)
	at ersatz.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:232)
	at ersatz.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1261)
	at ersatz.undertow.server.HttpServerExchange.closeAndFlushResponse(HttpServerExchange.java:1675)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1665)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:316)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:296)
	at ersatz.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at ersatz.xnio.StreamConnection.invokeCloseListener(StreamConnection.java:80)
	at ersatz.xnio.Connection.writeClosed(Connection.java:117)
	at ersatz.xnio.nio.AbstractNioStreamConnection.writeClosed(AbstractNioStreamConnection.java:47)
	at ersatz.xnio.nio.NioSocketConduit.terminateWrites(NioSocketConduit.java:214)
	at ersatz.xnio.nio.NioSocketConduit.truncateWrites(NioSocketConduit.java:228)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.truncateWrites(HttpResponseConduit.java:774)
	at ersatz.xnio.conduits.AbstractSinkConduit.truncateWrites(AbstractSinkConduit.java:82)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.close(ConduitStreamSinkChannel.java:186)
	at ersatz.xnio.IoUtils.safeClose(IoUtils.java:134)
	at ersatz.xnio.conduits.WriteReadyHandler$ChannelListenerHandler.forceTermination(WriteReadyHandler.java:57)
	at ersatz.xnio.nio.NioSocketConduit.forceTermination(NioSocketConduit.java:107)
	at ersatz.xnio.nio.WorkerThread.run(WorkerThread.java:494)
07:39:28.072 [XNIO-37 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:131)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
07:39:28.075 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@a26dc68
07:39:28.100 [XNIO-38 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-1', selector sun.nio.ch.EPollSelectorImpl@21e59a55
07:39:28.100 [XNIO-38 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-2', selector sun.nio.ch.EPollSelectorImpl@8155377
07:39:28.108 [XNIO-38 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4bf3d393
07:39:28.108 [XNIO-38 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-3', selector sun.nio.ch.EPollSelectorImpl@616bb4ff
07:39:28.114 [XNIO-38 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-5', selector sun.nio.ch.EPollSelectorImpl@67391a40
07:39:28.115 [XNIO-38 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-6', selector sun.nio.ch.EPollSelectorImpl@181bfa51
07:39:28.115 [XNIO-38 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-7', selector sun.nio.ch.EPollSelectorImpl@350348eb
07:39:28.116 [XNIO-38 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6a70bfc9
07:39:28.116 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.116 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.117 [XNIO-38 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 Accept', selector sun.nio.ch.EPollSelectorImpl@16391e06
07:39:28.119 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.119 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.119 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34165
07:39:28.119 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34165
07:39:28.119 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34165
07:39:28.120 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35678&lt;-&gt;127.0.0.1:34165
07:39:28.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:34165
07:39:28.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
07:39:28.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:34165[\r][\n]&quot;
07:39:28.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.135 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34165]}, cookies=[:]): &lt;empty&gt; }
07:39:28.135 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:28.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 211 Unknown
07:39:28.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
07:39:28.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
07:39:28.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.136 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35678&lt;-&gt;127.0.0.1:34165
07:39:28.136 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.137 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.137 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.137 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34165
07:39:28.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:34165
07:39:28.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
07:39:28.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:34165[\r][\n]&quot;
07:39:28.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.145 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34165]}, cookies=[:]): &lt;empty&gt; }
07:39:28.146 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 211 Unknown
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
07:39:28.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.146 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35678&lt;-&gt;127.0.0.1:34165
07:39:28.146 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.147 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@a26dc68
07:39:28.154 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@718c18a
07:39:28.156 [XNIO-39 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-1', selector sun.nio.ch.EPollSelectorImpl@35db9ca4
07:39:28.156 [XNIO-39 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5e302218
07:39:28.166 [XNIO-39 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7193979f
07:39:28.166 [XNIO-39 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2ff9c28b
07:39:28.166 [XNIO-39 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3b89def0
07:39:28.167 [XNIO-39 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7e75a580
07:39:28.168 [XNIO-39 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-7', selector sun.nio.ch.EPollSelectorImpl@643d6020
07:39:28.169 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.169 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.170 [XNIO-39 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 Accept', selector sun.nio.ch.EPollSelectorImpl@5f022773
07:39:28.166 [XNIO-39 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-5', selector sun.nio.ch.EPollSelectorImpl@c464a0d
07:39:28.180 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.180 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.180 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39627
07:39:28.180 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39627
07:39:28.180 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39627
07:39:28.180 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34296&lt;-&gt;127.0.0.1:39627
07:39:28.180 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.180 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.180 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.180 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.180 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:39627
07:39:28.180 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
07:39:28.180 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.180 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:39627[\r][\n]&quot;
07:39:28.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.188 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39627]}, cookies=[:]): &lt;empty&gt; }
07:39:28.189 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
07:39:28.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
07:39:28.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
07:39:28.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.189 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.189 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34296&lt;-&gt;127.0.0.1:39627
07:39:28.189 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.190 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.190 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.190 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39627
07:39:28.190 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.190 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.190 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:39627
07:39:28.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
07:39:28.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:39627[\r][\n]&quot;
07:39:28.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.192 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39627]}, cookies=[:]): &lt;empty&gt; }
07:39:28.193 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.193 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.193 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
07:39:28.193 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
07:39:28.193 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
07:39:28.193 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.193 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.193 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34296&lt;-&gt;127.0.0.1:39627
07:39:28.193 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.194 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@718c18a
07:39:28.198 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@697764b8
07:39:28.204 [XNIO-40 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6d115190
07:39:28.208 [XNIO-40 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3799def3
07:39:28.210 [XNIO-40 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1436884b
07:39:28.211 [XNIO-40 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6f47489c
07:39:28.212 [XNIO-40 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1de895fa
07:39:28.224 [XNIO-40 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-6', selector sun.nio.ch.EPollSelectorImpl@431cae8f
07:39:28.233 [XNIO-40 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-7', selector sun.nio.ch.EPollSelectorImpl@ec3b1b5
07:39:28.233 [XNIO-40 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-8', selector sun.nio.ch.EPollSelectorImpl@831439
07:39:28.233 [XNIO-40 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 Accept', selector sun.nio.ch.EPollSelectorImpl@ec720a6
07:39:28.233 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.234 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.236 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.236 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.236 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33775
07:39:28.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33775
07:39:28.236 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33775
07:39:28.236 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53802&lt;-&gt;127.0.0.1:33775
07:39:28.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.237 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:33775
07:39:28.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
07:39:28.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:33775[\r][\n]&quot;
07:39:28.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.238 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33775]}, cookies=[:]): &lt;empty&gt; }
07:39:28.239 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:28.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:28.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
07:39:28.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
07:39:28.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.239 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.239 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53802&lt;-&gt;127.0.0.1:33775
07:39:28.239 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.240 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.240 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.240 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33775
07:39:28.240 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.240 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.240 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:33775
07:39:28.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
07:39:28.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:33775[\r][\n]&quot;
07:39:28.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.244 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33775]}, cookies=[:]): &lt;empty&gt; }
07:39:28.245 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.245 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:28.245 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
07:39:28.245 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
07:39:28.245 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.245 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.245 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53802&lt;-&gt;127.0.0.1:33775
07:39:28.245 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.246 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@697764b8
07:39:28.261 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@58b73678
07:39:28.274 [XNIO-41 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-1', selector sun.nio.ch.EPollSelectorImpl@94eda1b
07:39:28.276 [XNIO-41 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-3', selector sun.nio.ch.EPollSelectorImpl@725d7ed2
07:39:28.277 [XNIO-41 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3727abf8
07:39:28.277 [XNIO-41 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5f225aa9
07:39:28.277 [XNIO-41 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-5', selector sun.nio.ch.EPollSelectorImpl@38552b45
07:39:28.277 [XNIO-41 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7779594e
07:39:28.277 [XNIO-41 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5d21b0a3
07:39:28.276 [XNIO-41 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4c9bdd0c
07:39:28.280 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.281 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.281 [XNIO-41 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 Accept', selector sun.nio.ch.EPollSelectorImpl@29dd208b
07:39:28.283 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.283 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.283 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40209
07:39:28.283 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40209
07:39:28.283 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40209
07:39:28.284 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60892&lt;-&gt;127.0.0.1:40209
07:39:28.284 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.284 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.284 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:40209
07:39:28.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
07:39:28.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:40209[\r][\n]&quot;
07:39:28.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.292 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40209]}, cookies=[:]): &lt;empty&gt; }
07:39:28.293 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:28.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:28.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
07:39:28.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
07:39:28.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.293 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60892&lt;-&gt;127.0.0.1:40209
07:39:28.293 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.294 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.294 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.294 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40209
07:39:28.294 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.294 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.294 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:40209
07:39:28.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
07:39:28.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:40209[\r][\n]&quot;
07:39:28.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.304 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40209]}, cookies=[:]): &lt;empty&gt; }
07:39:28.304 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:28.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:28.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
07:39:28.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
07:39:28.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.305 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60892&lt;-&gt;127.0.0.1:40209
07:39:28.305 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.305 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@58b73678
07:39:28.308 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@c186021
07:39:28.309 [XNIO-42 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3c76ab11
07:39:28.312 [XNIO-42 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-2', selector sun.nio.ch.EPollSelectorImpl@790fa67
07:39:28.316 [XNIO-42 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7f49c32e
07:39:28.320 [XNIO-42 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-4', selector sun.nio.ch.EPollSelectorImpl@e23f542
07:39:28.321 [XNIO-42 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6b5c383b
07:39:28.321 [XNIO-42 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7f73e7cc
07:39:28.321 [XNIO-42 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-6', selector sun.nio.ch.EPollSelectorImpl@73f50fc3
07:39:28.336 [XNIO-42 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4d3df0cd
07:39:28.338 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.338 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.339 [XNIO-42 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 Accept', selector sun.nio.ch.EPollSelectorImpl@66fff13
07:39:28.340 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.340 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.340 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39633
07:39:28.340 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39633
07:39:28.341 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39633
07:39:28.341 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55066&lt;-&gt;127.0.0.1:39633
07:39:28.341 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.341 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.341 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:39633
07:39:28.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
07:39:28.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:39633[\r][\n]&quot;
07:39:28.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.344 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39633]}, cookies=[:]): &lt;empty&gt; }
07:39:28.344 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:28.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:28.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
07:39:28.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
07:39:28.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.345 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.345 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55066&lt;-&gt;127.0.0.1:39633
07:39:28.345 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.346 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39633
07:39:28.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:39633
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:39633[\r][\n]&quot;
07:39:28.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.347 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39633]}, cookies=[:]): &lt;empty&gt; }
07:39:28.348 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
07:39:28.348 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.349 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.349 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55066&lt;-&gt;127.0.0.1:39633
07:39:28.349 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.349 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@c186021
07:39:28.356 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@e99ba2e
07:39:28.365 [XNIO-43 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-1', selector sun.nio.ch.EPollSelectorImpl@31d99831
07:39:28.369 [XNIO-43 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2d70d1c3
07:39:28.370 [XNIO-43 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7207cb6
07:39:28.370 [XNIO-43 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-5', selector sun.nio.ch.EPollSelectorImpl@35bb82f0
07:39:28.381 [XNIO-43 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7b0cef2c
07:39:28.384 [XNIO-43 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3f3e66fe
07:39:28.384 [XNIO-43 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-8', selector sun.nio.ch.EPollSelectorImpl@366b848b
07:39:28.369 [XNIO-43 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6fc7f4a0
07:39:28.386 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.386 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.387 [XNIO-43 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 Accept', selector sun.nio.ch.EPollSelectorImpl@4101ae38
07:39:28.404 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.404 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.404 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41491
07:39:28.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41491
07:39:28.404 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41491
07:39:28.404 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39598&lt;-&gt;127.0.0.1:41491
07:39:28.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:41491
07:39:28.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
07:39:28.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:41491[\r][\n]&quot;
07:39:28.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.405 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41491]}, cookies=[:]): &lt;empty&gt; }
07:39:28.405 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.405 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
07:39:28.405 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
07:39:28.405 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
07:39:28.405 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.406 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.406 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39598&lt;-&gt;127.0.0.1:41491
07:39:28.406 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.406 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.406 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.406 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41491
07:39:28.406 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.406 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.406 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:41491
07:39:28.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
07:39:28.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:41491[\r][\n]&quot;
07:39:28.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.407 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41491]}, cookies=[:]): &lt;empty&gt; }
07:39:28.408 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.408 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
07:39:28.408 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
07:39:28.408 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
07:39:28.408 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.408 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.408 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39598&lt;-&gt;127.0.0.1:41491
07:39:28.408 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.409 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@e99ba2e
07:39:28.412 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@78dc199c
07:39:28.418 [XNIO-44 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-1', selector sun.nio.ch.EPollSelectorImpl@22a36e4a
07:39:28.418 [XNIO-44 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-2', selector sun.nio.ch.EPollSelectorImpl@fb83946
07:39:28.420 [XNIO-44 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5aac888d
07:39:28.424 [XNIO-44 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-4', selector sun.nio.ch.EPollSelectorImpl@17767f4c
07:39:28.425 [XNIO-44 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2a0fcc32
07:39:28.425 [XNIO-44 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-6', selector sun.nio.ch.EPollSelectorImpl@571800c5
07:39:28.425 [XNIO-44 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6be36f97
07:39:28.430 [XNIO-44 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2c3b0382
07:39:28.431 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.431 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.432 [XNIO-44 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 Accept', selector sun.nio.ch.EPollSelectorImpl@5dadca29
07:39:28.433 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.433 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.433 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43539
07:39:28.433 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43539
07:39:28.434 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43539
07:39:28.434 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44388&lt;-&gt;127.0.0.1:43539
07:39:28.434 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.434 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.434 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:43539
07:39:28.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
07:39:28.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:43539[\r][\n]&quot;
07:39:28.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.437 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43539]}, cookies=[:]): &lt;empty&gt; }
07:39:28.442 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:28.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:28.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
07:39:28.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
07:39:28.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.443 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.443 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44388&lt;-&gt;127.0.0.1:43539
07:39:28.443 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.444 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.444 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.444 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43539
07:39:28.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:43539
07:39:28.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
07:39:28.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:43539[\r][\n]&quot;
07:39:28.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.446 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43539]}, cookies=[:]): &lt;empty&gt; }
07:39:28.446 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:28.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:28.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
07:39:28.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
07:39:28.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44388&lt;-&gt;127.0.0.1:43539
07:39:28.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.447 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@78dc199c
07:39:28.451 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@8ed6bfc
07:39:28.457 [XNIO-45 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5ad4ab1d
07:39:28.461 [XNIO-45 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2a0c9707
07:39:28.464 [XNIO-45 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-3', selector sun.nio.ch.EPollSelectorImpl@64fb4a7d
07:39:28.465 [XNIO-45 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-5', selector sun.nio.ch.EPollSelectorImpl@41d4f0af
07:39:28.464 [XNIO-45 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1ed73222
07:39:28.469 [XNIO-45 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6c49462a
07:39:28.473 [XNIO-45 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4cd4281b
07:39:28.475 [XNIO-45 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-8', selector sun.nio.ch.EPollSelectorImpl@66d41cda
07:39:28.475 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.476 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.477 [XNIO-45 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 Accept', selector sun.nio.ch.EPollSelectorImpl@2ca6e587
07:39:28.477 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.478 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.478 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43345
07:39:28.478 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43345
07:39:28.478 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43345
07:39:28.478 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49188&lt;-&gt;127.0.0.1:43345
07:39:28.478 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.478 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.478 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.478 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.478 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:43345
07:39:28.478 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
07:39:28.478 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.478 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:43345[\r][\n]&quot;
07:39:28.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.480 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43345]}, cookies=[:]): &lt;empty&gt; }
07:39:28.480 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.481 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:28.481 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.481 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.481 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.481 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.481 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:28.481 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
07:39:28.481 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
07:39:28.481 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.481 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.481 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49188&lt;-&gt;127.0.0.1:43345
07:39:28.481 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.482 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.483 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.483 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43345
07:39:28.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:43345
07:39:28.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
07:39:28.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:43345[\r][\n]&quot;
07:39:28.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.485 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43345]}, cookies=[:]): &lt;empty&gt; }
07:39:28.485 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:28.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:28.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
07:39:28.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
07:39:28.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.488 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49188&lt;-&gt;127.0.0.1:43345
07:39:28.488 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.488 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@8ed6bfc
07:39:28.493 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@38486bb4
07:39:28.512 [XNIO-46 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2eb7fafc
07:39:28.512 [XNIO-46 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4c58abab
07:39:28.513 [XNIO-46 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5d778932
07:39:28.514 [XNIO-46 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-4', selector sun.nio.ch.EPollSelectorImpl@66dabad8
07:39:28.514 [XNIO-46 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-5', selector sun.nio.ch.EPollSelectorImpl@fac8a41
07:39:28.518 [XNIO-46 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4df336d5
07:39:28.521 [XNIO-46 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-7', selector sun.nio.ch.EPollSelectorImpl@27ab8257
07:39:28.523 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.523 [XNIO-46 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-8', selector sun.nio.ch.EPollSelectorImpl@70853dbe
07:39:28.523 [XNIO-46 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 Accept', selector sun.nio.ch.EPollSelectorImpl@39e930a8
07:39:28.524 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.526 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.526 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.526 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43493
07:39:28.526 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43493
07:39:28.526 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43493
07:39:28.526 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42524&lt;-&gt;127.0.0.1:43493
07:39:28.526 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.526 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.526 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:43493
07:39:28.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
07:39:28.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:43493[\r][\n]&quot;
07:39:28.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.529 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43493]}, cookies=[:]): &lt;empty&gt; }
07:39:28.529 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:28.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:28.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
07:39:28.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
07:39:28.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.530 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.530 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42524&lt;-&gt;127.0.0.1:43493
07:39:28.530 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.531 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.531 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.531 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43493
07:39:28.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
07:39:28.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; HEAD /handling HTTP/1.1
07:39:28.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:43493
07:39:28.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
07:39:28.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
07:39:28.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:43493[\r][\n]&quot;
07:39:28.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.534 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43493]}, cookies=[:]): &lt;empty&gt; }
07:39:28.534 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:28.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:28.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.535 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:28.535 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
07:39:28.535 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
07:39:28.535 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.535 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.535 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42524&lt;-&gt;127.0.0.1:43493
07:39:28.535 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.535 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@38486bb4
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.2.1</a> at Oct 13, 2017 7:40:46 AM</p>
</div>
</div>
</body>
</html>
