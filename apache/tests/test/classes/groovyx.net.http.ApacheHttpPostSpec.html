<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpPostSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpPostSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpPostSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">62</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">3.048s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP POST with BASIC authentication (authorized)</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP POST with BASIC authentication (unauthorized)</td>
<td>0.024s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP POST with DIGEST authentication (authorized)</td>
<td>0.026s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP POST with DIGEST authentication (unauthorized)</td>
<td>0.050s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS POST with BASIC authentication (authorized)</td>
<td>0.062s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS POST with BASIC authentication (unauthorized)</td>
<td>0.032s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS POST with DIGEST authentication (authorized)</td>
<td>0.037s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS POST with DIGEST authentication (unauthorized)</td>
<td>0.054s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTP</td>
<td>0.059s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTPS</td>
<td>0.068s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">gzip compression supported</td>
<td>0.039s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.026s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTP</td>
<td>0.161s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTP (core encoder)</td>
<td>0.076s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTPS</td>
<td>0.032s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTPS (core encoder)</td>
<td>0.037s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post with defined content-type and charset (HTTP)</td>
<td>0.089s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post with defined content-type and charset (HTTPS)</td>
<td>0.073s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP application/json [:]</td>
<td>0.037s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP application/xml [one:1]</td>
<td>0.051s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP text/csv [one:1, two:2]</td>
<td>0.041s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP text/html [two:2]</td>
<td>0.033s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP text/plain null</td>
<td>0.142s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS application/json [:]</td>
<td>0.046s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS application/xml [one:1]</td>
<td>0.047s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS text/csv [one:1, two:2]</td>
<td>0.051s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS text/html [two:2]</td>
<td>0.048s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS text/plain null</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Closure): cookies -&gt; [:]</td>
<td>0.043s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Closure): cookies -&gt; [flavor:chocolate-chip, count:dozen]</td>
<td>0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Closure): cookies -&gt; [flavor:chocolate-chip]</td>
<td>0.027s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Closure): cookies -&gt; null</td>
<td>0.056s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Consumer): cookies -&gt; [:]</td>
<td>0.018s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Consumer): cookies -&gt; [flavor:oatmeal, count:dozen]</td>
<td>0.029s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Consumer): cookies -&gt; [flavor:peanut-butter]</td>
<td>0.013s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Consumer): cookies -&gt; null</td>
<td>0.032s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [:]</td>
<td>0.092s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [alpha:[one, two], bravo:three]</td>
<td>0.063s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [alpha:[one, two]]</td>
<td>0.030s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [alpha:[one]]</td>
<td>0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [alpha:one]</td>
<td>0.052s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; null</td>
<td>0.054s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Consumer): headers -&gt; [:]</td>
<td>0.092s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Consumer): headers -&gt; [hat:fedora]</td>
<td>0.095s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Consumer): headers -&gt; null</td>
<td>0.135s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/json)</td>
<td>0.035s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/xml)</td>
<td>0.037s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (text/html)</td>
<td>0.018s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.036s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.014s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.017s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.046s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.038s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.020s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.024s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.024s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.129s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.015s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.020s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.021s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.017s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>07:39:28.696 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@78c1aa3f
07:39:28.697 [XNIO-52 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-2', selector sun.nio.ch.EPollSelectorImpl@312087e5
07:39:28.697 [XNIO-52 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-1', selector sun.nio.ch.EPollSelectorImpl@593e4d88
07:39:28.697 [XNIO-52 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4e22eebc
07:39:28.702 [XNIO-52 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4e3c5100
07:39:28.702 [XNIO-52 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-4', selector sun.nio.ch.EPollSelectorImpl@66fa2eb4
07:39:28.708 [XNIO-52 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6e662dd0
07:39:28.708 [XNIO-52 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-8', selector sun.nio.ch.EPollSelectorImpl@38717d4
07:39:28.710 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.711 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.708 [XNIO-52 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7146b772
07:39:28.710 [XNIO-52 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 Accept', selector sun.nio.ch.EPollSelectorImpl@218d90af
07:39:28.721 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.721 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.721 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38251
07:39:28.721 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38251
07:39:28.721 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38251
07:39:28.721 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44468&lt;-&gt;127.0.0.1:38251
07:39:28.721 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.721 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.721 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 0
07:39:28.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:38251
07:39:28.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
07:39:28.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.721 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.721 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.721 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.721 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:38251[\r][\n]&quot;
07:39:28.721 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.721 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.721 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.721 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.728 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38251]}, cookies=[:]): &lt;empty&gt; }
07:39:28.760 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.760 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 200 OK
07:39:28.760 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Encoding: gzip
07:39:28.760 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
07:39:28.760 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Type: text/plain
07:39:28.760 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 27
07:39:28.760 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.760 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.761 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44468&lt;-&gt;127.0.0.1:38251
07:39:28.761 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.762 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.762 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.762 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38251
07:39:28.762 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.762 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.762 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 0
07:39:28.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:38251
07:39:28.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
07:39:28.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:38251[\r][\n]&quot;
07:39:28.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.767 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38251]}, cookies=[:]): &lt;empty&gt; }
07:39:28.769 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 200 OK
07:39:28.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Encoding: gzip
07:39:28.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
07:39:28.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Type: text/plain
07:39:28.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 27
07:39:28.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.769 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.770 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44468&lt;-&gt;127.0.0.1:38251
07:39:28.770 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.771 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@78c1aa3f
07:39:28.776 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6bee9042
07:39:28.776 [XNIO-52 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ POST /alpha request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38251]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:28.778 [XNIO-53 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-1', selector sun.nio.ch.EPollSelectorImpl@14ab2d36
07:39:28.778 [XNIO-53 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-2', selector sun.nio.ch.EPollSelectorImpl@64bca81f
07:39:28.781 [XNIO-53 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7f849261
07:39:28.781 [XNIO-53 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4094e446
07:39:28.783 [XNIO-53 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2a10beac
07:39:28.784 [XNIO-53 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4ad87831
07:39:28.785 [XNIO-53 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4e15450e
07:39:28.788 [XNIO-53 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-8', selector sun.nio.ch.EPollSelectorImpl@10510fa8
07:39:28.788 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.788 [XNIO-53 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 Accept', selector sun.nio.ch.EPollSelectorImpl@1138f856
07:39:28.788 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.790 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.790 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.790 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37031
07:39:28.790 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:37031
07:39:28.790 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37031
07:39:28.790 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:37031 with timeout 0
07:39:28.790 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:28.790 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:28.790 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:28.828 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:28.828 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:28.828 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:28.828 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.828 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.828 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58590&lt;-&gt;127.0.0.1:37031
07:39:28.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 0
07:39:28.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:37031
07:39:28.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
07:39:28.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:37031[\r][\n]&quot;
07:39:28.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.830 [XNIO-53 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37031]}, cookies=[:]): &lt;empty&gt; }
07:39:28.833 [XNIO-53 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 200 OK
07:39:28.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Encoding: gzip
07:39:28.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
07:39:28.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Type: text/plain
07:39:28.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 27
07:39:28.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.834 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.834 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58590&lt;-&gt;127.0.0.1:37031
07:39:28.834 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.835 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.835 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.835 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37031
07:39:28.835 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.835 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.835 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 0
07:39:28.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:37031
07:39:28.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
07:39:28.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:28.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:37031[\r][\n]&quot;
07:39:28.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.836 [XNIO-53 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37031]}, cookies=[:]): &lt;empty&gt; }
07:39:28.837 [XNIO-53 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:28.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:28.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:28.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:28.837 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 200 OK
07:39:28.837 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Encoding: gzip
07:39:28.837 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
07:39:28.837 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Type: text/plain
07:39:28.837 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 27
07:39:28.837 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.837 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.838 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58590&lt;-&gt;127.0.0.1:37031
07:39:28.838 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.838 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6bee9042
07:39:28.841 [XNIO-53 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 27 common frames omitted
07:39:28.842 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5562dbe4
07:39:28.843 [XNIO-54 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-1', selector sun.nio.ch.EPollSelectorImpl@823649d
07:39:28.843 [XNIO-54 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-2', selector sun.nio.ch.EPollSelectorImpl@46ef0983
07:39:28.843 [XNIO-54 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-3', selector sun.nio.ch.EPollSelectorImpl@19537c6d
07:39:28.843 [XNIO-54 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4a7454d4
07:39:28.843 [XNIO-54 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-5', selector sun.nio.ch.EPollSelectorImpl@19d4ae59
07:39:28.844 [XNIO-54 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-6', selector sun.nio.ch.EPollSelectorImpl@36d606bd
07:39:28.844 [XNIO-54 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-7', selector sun.nio.ch.EPollSelectorImpl@576c1570
07:39:28.844 [XNIO-54 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5b084296
07:39:28.845 [XNIO-54 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 Accept', selector sun.nio.ch.EPollSelectorImpl@3e2bce43
07:39:28.845 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.845 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.859 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.859 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42761
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42761
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42761
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39132&lt;-&gt;127.0.0.1:42761
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 2
07:39:28.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:42761
07:39:28.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
07:39:28.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
07:39:28.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:42761[\r][\n]&quot;
07:39:28.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;{}&quot;
07:39:28.864 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42761]}, cookies=[:]): {} }
07:39:28.868 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
07:39:28.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
07:39:28.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
07:39:28.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
07:39:28.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 200 OK
07:39:28.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Encoding: gzip
07:39:28.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
07:39:28.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Type: application/json
07:39:28.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 39
07:39:28.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.870 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.871 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39132&lt;-&gt;127.0.0.1:42761
07:39:28.871 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.871 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.871 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.871 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42761
07:39:28.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 2
07:39:28.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:42761
07:39:28.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
07:39:28.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
07:39:28.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:42761[\r][\n]&quot;
07:39:28.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;{}&quot;
07:39:28.873 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42761]}, cookies=[:]): {} }
07:39:28.874 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
07:39:28.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
07:39:28.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
07:39:28.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
07:39:28.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 200 OK
07:39:28.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Encoding: gzip
07:39:28.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
07:39:28.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Type: application/json
07:39:28.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 39
07:39:28.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.875 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.875 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39132&lt;-&gt;127.0.0.1:42761
07:39:28.875 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.875 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5562dbe4
07:39:28.880 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2d9c7514
07:39:28.882 [XNIO-55 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-1', selector sun.nio.ch.EPollSelectorImpl@54acd6b0
07:39:28.882 [XNIO-55 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-2', selector sun.nio.ch.EPollSelectorImpl@42f4c558
07:39:28.882 [XNIO-55 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-3', selector sun.nio.ch.EPollSelectorImpl@617c403
07:39:28.883 [XNIO-55 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-4', selector sun.nio.ch.EPollSelectorImpl@77b135be
07:39:28.883 [XNIO-55 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-5', selector sun.nio.ch.EPollSelectorImpl@18adfef4
07:39:28.883 [XNIO-55 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6837e06a
07:39:28.883 [XNIO-55 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5ce136fc
07:39:28.884 [XNIO-55 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4e275426
07:39:28.884 [XNIO-55 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 Accept', selector sun.nio.ch.EPollSelectorImpl@6ee86884
07:39:28.884 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.884 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.886 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.886 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.886 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36061
07:39:28.886 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:36061
07:39:28.887 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36061
07:39:28.887 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:36061 with timeout 0
07:39:28.887 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:28.887 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:28.887 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:28.916 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:28.916 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:28.916 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:28.916 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.916 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:28.916 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:32836&lt;-&gt;127.0.0.1:36061
07:39:28.916 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.916 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.916 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 2
07:39:28.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:36061
07:39:28.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
07:39:28.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
07:39:28.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:36061[\r][\n]&quot;
07:39:28.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;{}&quot;
07:39:28.917 [XNIO-55 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36061]}, cookies=[:]): {} }
07:39:28.918 [XNIO-55 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
07:39:28.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
07:39:28.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
07:39:28.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
07:39:28.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 200 OK
07:39:28.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
07:39:28.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
07:39:28.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: application/json
07:39:28.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 39
07:39:28.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.918 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.919 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32836&lt;-&gt;127.0.0.1:36061
07:39:28.919 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.919 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.919 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.919 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36061
07:39:28.919 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.919 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.919 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 2
07:39:28.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:36061
07:39:28.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
07:39:28.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
07:39:28.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:36061[\r][\n]&quot;
07:39:28.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;{}&quot;
07:39:28.920 [XNIO-55 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36061]}, cookies=[:]): {} }
07:39:28.921 [XNIO-55 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
07:39:28.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
07:39:28.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
07:39:28.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
07:39:28.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 200 OK
07:39:28.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
07:39:28.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
07:39:28.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: application/json
07:39:28.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 39
07:39:28.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.922 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.922 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32836&lt;-&gt;127.0.0.1:36061
07:39:28.922 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.923 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2d9c7514
07:39:28.926 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4939ecb6
07:39:28.927 [XNIO-56 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2af10c78
07:39:28.927 [XNIO-56 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-2', selector sun.nio.ch.EPollSelectorImpl@51e0ae35
07:39:28.928 [XNIO-56 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-4', selector sun.nio.ch.EPollSelectorImpl@32aee1c8
07:39:28.928 [XNIO-56 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-6', selector sun.nio.ch.EPollSelectorImpl@646919ec
07:39:28.932 [XNIO-56 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-7', selector sun.nio.ch.EPollSelectorImpl@63499856
07:39:28.927 [XNIO-56 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4738aa0c
07:39:28.928 [XNIO-56 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-5', selector sun.nio.ch.EPollSelectorImpl@39b7ed63
07:39:28.941 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.941 [XNIO-56 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-8', selector sun.nio.ch.EPollSelectorImpl@494769f7
07:39:28.941 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.942 [XNIO-56 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 Accept', selector sun.nio.ch.EPollSelectorImpl@4f850e28
07:39:28.952 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.953 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.953 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36763
07:39:28.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36763
07:39:28.953 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36763
07:39:28.953 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36746&lt;-&gt;127.0.0.1:36763
07:39:28.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 11
07:39:28.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:36763
07:39:28.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
07:39:28.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
07:39:28.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:36763[\r][\n]&quot;
07:39:28.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
07:39:28.959 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36763]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
07:39:28.960 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
07:39:28.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
07:39:28.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
07:39:28.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
07:39:28.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
07:39:28.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
07:39:28.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
07:39:28.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: application/xml
07:39:28.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 65
07:39:28.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.964 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36746&lt;-&gt;127.0.0.1:36763
07:39:28.965 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.965 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.965 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.965 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36763
07:39:28.965 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:28.965 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:28.965 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:28.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; POST /alpha HTTP/1.1
07:39:28.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:28.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 11
07:39:28.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:36763
07:39:28.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
07:39:28.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:28.966 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:28.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:28.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:28.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
07:39:28.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:36763[\r][\n]&quot;
07:39:28.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:28.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:28.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:28.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
07:39:28.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
07:39:28.969 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36763]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
07:39:28.970 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
07:39:28.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:28.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:28.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:28.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
07:39:28.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
07:39:28.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:28.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
07:39:28.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
07:39:28.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
07:39:28.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
07:39:28.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
07:39:28.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: application/xml
07:39:28.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 65
07:39:28.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:28.971 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:28.974 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36746&lt;-&gt;127.0.0.1:36763
07:39:28.974 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:28.974 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4939ecb6
07:39:28.977 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1bd91419
07:39:28.980 [XNIO-57 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3aa0efc1
07:39:28.980 [XNIO-57 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5c85aa88
07:39:28.980 [XNIO-57 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-3', selector sun.nio.ch.EPollSelectorImpl@69beb10c
07:39:28.980 [XNIO-57 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-5', selector sun.nio.ch.EPollSelectorImpl@59d8801a
07:39:28.980 [XNIO-57 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-4', selector sun.nio.ch.EPollSelectorImpl@56278f30
07:39:28.980 [XNIO-57 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7df3c30f
07:39:28.980 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:28.980 [XNIO-57 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-8', selector sun.nio.ch.EPollSelectorImpl@100d6d9e
07:39:28.980 [XNIO-57 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-6', selector sun.nio.ch.EPollSelectorImpl@61a60f39
07:39:28.980 [XNIO-57 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 Accept', selector sun.nio.ch.EPollSelectorImpl@13d83211
07:39:28.980 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:28.982 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:28.982 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:28.982 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39079
07:39:28.982 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:39079
07:39:28.982 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39079
07:39:28.982 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:39079 with timeout 0
07:39:28.983 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:28.983 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:28.983 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:29.004 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:29.004 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:29.004 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:29.004 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:29.005 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:29.005 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45248&lt;-&gt;127.0.0.1:39079
07:39:29.005 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.005 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.005 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 11
07:39:29.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:39079
07:39:29.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
07:39:29.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
07:39:29.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:39079[\r][\n]&quot;
07:39:29.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
07:39:29.007 [XNIO-57 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39079]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
07:39:29.009 [XNIO-57 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
07:39:29.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
07:39:29.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
07:39:29.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: application/xml
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 65
07:39:29.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.010 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.015 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45248&lt;-&gt;127.0.0.1:39079
07:39:29.015 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.015 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.015 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.016 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39079
07:39:29.016 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.016 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.016 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 11
07:39:29.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:39079
07:39:29.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
07:39:29.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
07:39:29.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:39079[\r][\n]&quot;
07:39:29.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
07:39:29.017 [XNIO-57 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39079]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
07:39:29.018 [XNIO-57 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
07:39:29.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
07:39:29.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
07:39:29.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
07:39:29.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
07:39:29.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
07:39:29.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
07:39:29.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: application/xml
07:39:29.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 65
07:39:29.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.019 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.022 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45248&lt;-&gt;127.0.0.1:39079
07:39:29.022 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.022 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1bd91419
07:39:29.026 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6739de82
07:39:29.027 [XNIO-58 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6ebe478d
07:39:29.027 [XNIO-58 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-1', selector sun.nio.ch.EPollSelectorImpl@36454e7e
07:39:29.027 [XNIO-58 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-3', selector sun.nio.ch.EPollSelectorImpl@405ec082
07:39:29.027 [XNIO-58 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5248f2fe
07:39:29.028 [XNIO-58 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-5', selector sun.nio.ch.EPollSelectorImpl@c9e3058
07:39:29.032 [XNIO-58 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-6', selector sun.nio.ch.EPollSelectorImpl@350d962a
07:39:29.033 [XNIO-58 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1384993a
07:39:29.040 [XNIO-58 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6bac757a
07:39:29.044 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.045 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.044 [XNIO-58 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 Accept', selector sun.nio.ch.EPollSelectorImpl@4fa63676
07:39:29.050 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.050 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.050 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35973
07:39:29.050 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35973
07:39:29.050 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35973
07:39:29.051 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36942&lt;-&gt;127.0.0.1:35973
07:39:29.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 9
07:39:29.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:35973
07:39:29.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
07:39:29.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
07:39:29.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:35973[\r][\n]&quot;
07:39:29.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
07:39:29.051 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35973]}, cookies=[:]): {&quot;two&quot;:2} }
07:39:29.052 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
07:39:29.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
07:39:29.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
07:39:29.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
07:39:29.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
07:39:29.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
07:39:29.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
07:39:29.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/html
07:39:29.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 40
07:39:29.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.053 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.053 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36942&lt;-&gt;127.0.0.1:35973
07:39:29.053 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.054 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.054 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.054 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35973
07:39:29.054 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.054 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.054 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 9
07:39:29.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:35973
07:39:29.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
07:39:29.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
07:39:29.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:35973[\r][\n]&quot;
07:39:29.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
07:39:29.054 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35973]}, cookies=[:]): {&quot;two&quot;:2} }
07:39:29.055 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
07:39:29.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
07:39:29.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
07:39:29.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
07:39:29.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
07:39:29.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
07:39:29.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
07:39:29.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/html
07:39:29.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 40
07:39:29.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.055 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.056 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36942&lt;-&gt;127.0.0.1:35973
07:39:29.056 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.056 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6739de82
07:39:29.059 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5578b6df
07:39:29.060 [XNIO-59 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4e97eaa9
07:39:29.061 [XNIO-59 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-2', selector sun.nio.ch.EPollSelectorImpl@244a08f
07:39:29.062 [XNIO-59 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-3', selector sun.nio.ch.EPollSelectorImpl@743f2d89
07:39:29.062 [XNIO-59 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-5', selector sun.nio.ch.EPollSelectorImpl@24cdcb44
07:39:29.062 [XNIO-59 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-4', selector sun.nio.ch.EPollSelectorImpl@113a33a7
07:39:29.062 [XNIO-59 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-7', selector sun.nio.ch.EPollSelectorImpl@68f6945d
07:39:29.062 [XNIO-59 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1727f300
07:39:29.062 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.062 [XNIO-59 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 Accept', selector sun.nio.ch.EPollSelectorImpl@2d22b1fd
07:39:29.062 [XNIO-59 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-8', selector sun.nio.ch.EPollSelectorImpl@731fbbe5
07:39:29.062 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.065 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.065 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.065 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34815
07:39:29.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:34815
07:39:29.065 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34815
07:39:29.065 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:34815 with timeout 0
07:39:29.066 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:29.066 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:29.066 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:29.094 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:29.094 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:29.094 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:29.094 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:29.094 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:29.094 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38492&lt;-&gt;127.0.0.1:34815
07:39:29.094 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.094 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.094 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Length: 9
07:39:29.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:34815
07:39:29.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
07:39:29.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
07:39:29.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:34815[\r][\n]&quot;
07:39:29.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
07:39:29.097 [XNIO-59 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34815]}, cookies=[:]): {&quot;two&quot;:2} }
07:39:29.098 [XNIO-59 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
07:39:29.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
07:39:29.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
07:39:29.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
07:39:29.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 200 OK
07:39:29.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
07:39:29.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
07:39:29.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/html
07:39:29.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 40
07:39:29.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.098 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.099 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38492&lt;-&gt;127.0.0.1:34815
07:39:29.099 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.099 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.099 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.099 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34815
07:39:29.099 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.099 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.099 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Length: 9
07:39:29.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:34815
07:39:29.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
07:39:29.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.099 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.099 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.099 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
07:39:29.099 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:34815[\r][\n]&quot;
07:39:29.099 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.099 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
07:39:29.100 [XNIO-59 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34815]}, cookies=[:]): {&quot;two&quot;:2} }
07:39:29.103 [XNIO-59 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
07:39:29.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
07:39:29.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
07:39:29.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
07:39:29.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 200 OK
07:39:29.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
07:39:29.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
07:39:29.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/html
07:39:29.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 40
07:39:29.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.103 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.104 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38492&lt;-&gt;127.0.0.1:34815
07:39:29.104 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.104 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5578b6df
07:39:29.107 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@35d8fd70
07:39:29.110 [XNIO-60 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-1', selector sun.nio.ch.EPollSelectorImpl@462f47f8
07:39:29.110 [XNIO-60 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-2', selector sun.nio.ch.EPollSelectorImpl@15b5ddc0
07:39:29.112 [XNIO-60 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6c0a9dea
07:39:29.113 [XNIO-60 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5729562
07:39:29.117 [XNIO-60 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1d0369f5
07:39:29.116 [XNIO-60 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-6', selector sun.nio.ch.EPollSelectorImpl@29e947d0
07:39:29.121 [XNIO-60 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-7', selector sun.nio.ch.EPollSelectorImpl@50bcf591
07:39:29.132 [XNIO-60 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-8', selector sun.nio.ch.EPollSelectorImpl@e9fe8db
07:39:29.134 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.134 [XNIO-60 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 Accept', selector sun.nio.ch.EPollSelectorImpl@72181ed5
07:39:29.134 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.137 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.137 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.137 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42231
07:39:29.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42231
07:39:29.137 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42231
07:39:29.137 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44930&lt;-&gt;127.0.0.1:42231
07:39:29.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Length: 19
07:39:29.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:42231
07:39:29.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
07:39:29.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
07:39:29.137 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:42231[\r][\n]&quot;
07:39:29.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
07:39:29.140 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42231]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
07:39:29.141 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
07:39:29.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
07:39:29.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
07:39:29.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
07:39:29.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 200 OK
07:39:29.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
07:39:29.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
07:39:29.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/csv
07:39:29.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 53
07:39:29.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.142 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.142 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44930&lt;-&gt;127.0.0.1:42231
07:39:29.142 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.143 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.143 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.143 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42231
07:39:29.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Length: 19
07:39:29.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:42231
07:39:29.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
07:39:29.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
07:39:29.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:42231[\r][\n]&quot;
07:39:29.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
07:39:29.144 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42231]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
07:39:29.145 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
07:39:29.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
07:39:29.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
07:39:29.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
07:39:29.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 200 OK
07:39:29.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
07:39:29.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
07:39:29.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/csv
07:39:29.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 53
07:39:29.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.146 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44930&lt;-&gt;127.0.0.1:42231
07:39:29.146 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.147 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@35d8fd70
07:39:29.148 [XNIO-60 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ POST /alpha request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42231]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/csv], Content-Length=[53], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:29.150 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@8599fe1
07:39:29.152 [XNIO-61 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5f7973a7
07:39:29.155 [XNIO-61 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-2', selector sun.nio.ch.EPollSelectorImpl@d70f003
07:39:29.155 [XNIO-61 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2e875aac
07:39:29.155 [XNIO-61 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5ee2211d
07:39:29.155 [XNIO-61 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2ced17ea
07:39:29.155 [XNIO-61 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6223d26
07:39:29.155 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.158 [XNIO-61 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4e5c2636
07:39:29.158 [XNIO-61 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 Accept', selector sun.nio.ch.EPollSelectorImpl@26fbb2a7
07:39:29.158 [XNIO-61 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6c6ff2de
07:39:29.159 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.161 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.161 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.161 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45531
07:39:29.161 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:45531
07:39:29.161 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45531
07:39:29.161 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:45531 with timeout 0
07:39:29.162 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:29.162 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:29.162 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:29.181 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:29.181 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:29.181 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:29.181 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:29.181 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:29.181 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:32792&lt;-&gt;127.0.0.1:45531
07:39:29.181 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.181 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.181 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Length: 19
07:39:29.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:45531
07:39:29.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
07:39:29.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:45531[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
07:39:29.184 [XNIO-61 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45531]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
07:39:29.186 [XNIO-61 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/csv
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 53
07:39:29.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.186 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.187 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32792&lt;-&gt;127.0.0.1:45531
07:39:29.187 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.187 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.187 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.187 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45531
07:39:29.187 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
07:39:29.187 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.187 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; POST /alpha HTTP/1.1
07:39:29.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Length: 19
07:39:29.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:45531
07:39:29.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
07:39:29.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
07:39:29.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
07:39:29.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:45531[\r][\n]&quot;
07:39:29.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
07:39:29.192 [XNIO-61 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45531]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
07:39:29.196 [XNIO-61 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
07:39:29.197 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.197 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.197 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.197 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
07:39:29.197 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
07:39:29.197 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.197 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.197 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
07:39:29.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
07:39:29.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
07:39:29.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
07:39:29.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/csv
07:39:29.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 53
07:39:29.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.197 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.198 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32792&lt;-&gt;127.0.0.1:45531
07:39:29.198 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.198 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@8599fe1
07:39:29.215 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@53152ca9
07:39:29.216 [XNIO-62 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-1', selector sun.nio.ch.EPollSelectorImpl@696502cf
07:39:29.220 [XNIO-62 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3712c7c3
07:39:29.220 [XNIO-62 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-2', selector sun.nio.ch.EPollSelectorImpl@77dbd5e7
07:39:29.220 [XNIO-62 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-5', selector sun.nio.ch.EPollSelectorImpl@222a223c
07:39:29.220 [XNIO-62 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-4', selector sun.nio.ch.EPollSelectorImpl@bfac2d6
07:39:29.220 [XNIO-62 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3333e44e
07:39:29.225 [XNIO-62 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-7', selector sun.nio.ch.EPollSelectorImpl@38dd1986
07:39:29.226 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.226 [XNIO-62 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4f41f90c
07:39:29.226 [XNIO-62 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 Accept', selector sun.nio.ch.EPollSelectorImpl@2562ceec
07:39:29.226 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.235 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.235 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.235 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46253
07:39:29.235 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46253
07:39:29.235 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46253
07:39:29.236 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58062&lt;-&gt;127.0.0.1:46253
07:39:29.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo HTTP/1.1
07:39:29.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; POST /bravo HTTP/1.1
07:39:29.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Length: 30
07:39:29.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:46253
07:39:29.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
07:39:29.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;POST /bravo HTTP/1.1[\r][\n]&quot;
07:39:29.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:46253[\r][\n]&quot;
07:39:29.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.245 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46253]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.246 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 200 OK
07:39:29.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
07:39:29.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
07:39:29.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
07:39:29.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
07:39:29.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.247 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.247 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58062&lt;-&gt;127.0.0.1:46253
07:39:29.247 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.248 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.248 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.248 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46253
07:39:29.248 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo HTTP/1.1
07:39:29.248 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.248 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; POST /bravo HTTP/1.1
07:39:29.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Length: 30
07:39:29.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:46253
07:39:29.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
07:39:29.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.249 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;POST /bravo HTTP/1.1[\r][\n]&quot;
07:39:29.249 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.249 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.249 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:46253[\r][\n]&quot;
07:39:29.249 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.249 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.249 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.249 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.249 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.260 [XNIO-62 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46253]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.261 [XNIO-62 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.262 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.262 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.262 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.262 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.262 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.262 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.262 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.262 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.262 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 200 OK
07:39:29.262 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
07:39:29.262 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
07:39:29.262 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
07:39:29.262 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
07:39:29.262 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.262 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.262 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58062&lt;-&gt;127.0.0.1:46253
07:39:29.262 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.262 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@53152ca9
07:39:29.265 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@25e5d37
07:39:29.269 [XNIO-63 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-1', selector sun.nio.ch.EPollSelectorImpl@52350ebd
07:39:29.277 [XNIO-63 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5bc233d4
07:39:29.285 [XNIO-63 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-4', selector sun.nio.ch.EPollSelectorImpl@a74ab
07:39:29.285 [XNIO-63 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-5', selector sun.nio.ch.EPollSelectorImpl@30060997
07:39:29.286 [XNIO-63 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7a268c23
07:39:29.289 [XNIO-63 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6f77657e
07:39:29.289 [XNIO-63 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-7', selector sun.nio.ch.EPollSelectorImpl@233b960d
07:39:29.290 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.290 [XNIO-63 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 Accept', selector sun.nio.ch.EPollSelectorImpl@1f994b6c
07:39:29.291 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.292 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.293 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.293 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39051
07:39:29.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39051
07:39:29.293 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39051
07:39:29.293 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45964&lt;-&gt;127.0.0.1:39051
07:39:29.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo HTTP/1.1
07:39:29.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; POST /bravo HTTP/1.1
07:39:29.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Content-Length: 30
07:39:29.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Host: localhost:39051
07:39:29.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Connection: Keep-Alive
07:39:29.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;POST /bravo HTTP/1.1[\r][\n]&quot;
07:39:29.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Host: localhost:39051[\r][\n]&quot;
07:39:29.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.315 [XNIO-63 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6fa0b9e6
07:39:29.315 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.315 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-46: Shutdown connection
07:39:29.318 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.318 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-47: Shutdown connection
07:39:29.319 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.319 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-48: Shutdown connection
07:39:29.319 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.319 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-49: Shutdown connection
07:39:29.319 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.319 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-41: Shutdown connection
07:39:29.320 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.320 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-42: Shutdown connection
07:39:29.320 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.320 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-43: Shutdown connection
07:39:29.320 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.320 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-44: Shutdown connection
07:39:29.320 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.320 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-45: Shutdown connection
07:39:29.322 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.330 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-36: Shutdown connection
07:39:29.330 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39051]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.332 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; HTTP/1.1 200 OK
07:39:29.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Encoding: gzip
07:39:29.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Connection: keep-alive
07:39:29.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Type: text/plain
07:39:29.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Length: 27
07:39:29.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.333 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45964&lt;-&gt;127.0.0.1:39051
07:39:29.333 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.333 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.333 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.333 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39051
07:39:29.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo HTTP/1.1
07:39:29.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; POST /bravo HTTP/1.1
07:39:29.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Content-Length: 30
07:39:29.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Host: localhost:39051
07:39:29.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Connection: Keep-Alive
07:39:29.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;POST /bravo HTTP/1.1[\r][\n]&quot;
07:39:29.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Host: localhost:39051[\r][\n]&quot;
07:39:29.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.348 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.348 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-37: Shutdown connection
07:39:29.348 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.348 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-38: Shutdown connection
07:39:29.348 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.348 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-39: Shutdown connection
07:39:29.348 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.348 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-40: Shutdown connection
07:39:29.349 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.349 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-35: Shutdown connection
07:39:29.349 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.349 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-51: Shutdown connection
07:39:29.349 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.349 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-50: Shutdown connection
07:39:29.349 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.349 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-61: Shutdown connection
07:39:29.350 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.350 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-60: Shutdown connection
07:39:29.350 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.350 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-59: Shutdown connection
07:39:29.350 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.350 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-55: Shutdown connection
07:39:29.351 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.351 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-54: Shutdown connection
07:39:29.351 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.351 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-53: Shutdown connection
07:39:29.351 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.351 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-52: Shutdown connection
07:39:29.352 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.352 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-58: Shutdown connection
07:39:29.352 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.352 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-57: Shutdown connection
07:39:29.352 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:29.352 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-56: Shutdown connection
07:39:29.348 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39051]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.353 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; HTTP/1.1 200 OK
07:39:29.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Encoding: gzip
07:39:29.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Connection: keep-alive
07:39:29.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Type: text/plain
07:39:29.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Length: 27
07:39:29.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.354 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45964&lt;-&gt;127.0.0.1:39051
07:39:29.354 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.355 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@25e5d37
07:39:29.360 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1043d351
07:39:29.363 [XNIO-63 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:29.368 [XNIO-64 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-1', selector sun.nio.ch.EPollSelectorImpl@64f002ed
07:39:29.368 [XNIO-64 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-2', selector sun.nio.ch.EPollSelectorImpl@553ff1c2
07:39:29.370 [XNIO-64 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1c4518af
07:39:29.372 [XNIO-64 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2a04b8da
07:39:29.377 [XNIO-64 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-5', selector sun.nio.ch.EPollSelectorImpl@42a926e1
07:39:29.377 [XNIO-64 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4f85f68d
07:39:29.380 [XNIO-64 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2b219bea
07:39:29.383 [XNIO-64 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-8', selector sun.nio.ch.EPollSelectorImpl@49799ceb
07:39:29.383 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.383 [XNIO-64 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 Accept', selector sun.nio.ch.EPollSelectorImpl@5e181a17
07:39:29.383 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.385 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.385 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.385 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41959
07:39:29.385 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41959
07:39:29.385 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41959
07:39:29.385 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33840&lt;-&gt;127.0.0.1:41959
07:39:29.385 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one HTTP/1.1
07:39:29.385 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.385 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; POST /bravo?alpha=one HTTP/1.1
07:39:29.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Content-Length: 30
07:39:29.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Host: localhost:41959
07:39:29.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Connection: Keep-Alive
07:39:29.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;POST /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:29.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Host: localhost:41959[\r][\n]&quot;
07:39:29.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.400 [XNIO-64 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41959]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.402 [XNIO-64 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; HTTP/1.1 200 OK
07:39:29.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Encoding: gzip
07:39:29.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Connection: keep-alive
07:39:29.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Type: text/plain
07:39:29.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Length: 27
07:39:29.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.402 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.402 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33840&lt;-&gt;127.0.0.1:41959
07:39:29.402 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.404 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.404 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.404 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41959
07:39:29.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one HTTP/1.1
07:39:29.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; POST /bravo?alpha=one HTTP/1.1
07:39:29.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Content-Length: 30
07:39:29.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Host: localhost:41959
07:39:29.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Connection: Keep-Alive
07:39:29.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;POST /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:29.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Host: localhost:41959[\r][\n]&quot;
07:39:29.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.405 [XNIO-64 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41959]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.406 [XNIO-64 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; HTTP/1.1 200 OK
07:39:29.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Encoding: gzip
07:39:29.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Connection: keep-alive
07:39:29.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Type: text/plain
07:39:29.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Length: 27
07:39:29.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.406 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.407 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33840&lt;-&gt;127.0.0.1:41959
07:39:29.407 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.407 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1043d351
07:39:29.412 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@248c3fc2
07:39:29.413 [XNIO-65 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2ea6f13e
07:39:29.415 [XNIO-65 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1642ef98
07:39:29.417 [XNIO-65 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-3', selector sun.nio.ch.EPollSelectorImpl@78126115
07:39:29.430 [XNIO-65 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-4', selector sun.nio.ch.EPollSelectorImpl@37df5fe1
07:39:29.432 [XNIO-65 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-5', selector sun.nio.ch.EPollSelectorImpl@533f4597
07:39:29.436 [XNIO-65 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6adcb6b0
07:39:29.440 [XNIO-65 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-7', selector sun.nio.ch.EPollSelectorImpl@fcc51d0
07:39:29.444 [XNIO-65 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5367ec7d
07:39:29.444 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.444 [XNIO-65 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 Accept', selector sun.nio.ch.EPollSelectorImpl@6ab5897e
07:39:29.444 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.446 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.446 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.446 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46713
07:39:29.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46713
07:39:29.447 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46713
07:39:29.447 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41948&lt;-&gt;127.0.0.1:46713
07:39:29.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one HTTP/1.1
07:39:29.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; POST /bravo?alpha=one HTTP/1.1
07:39:29.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Content-Length: 30
07:39:29.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Host: localhost:46713
07:39:29.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Connection: Keep-Alive
07:39:29.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;POST /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:29.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Host: localhost:46713[\r][\n]&quot;
07:39:29.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.452 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46713]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.453 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; HTTP/1.1 200 OK
07:39:29.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Encoding: gzip
07:39:29.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Connection: keep-alive
07:39:29.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Type: text/plain
07:39:29.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Length: 27
07:39:29.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.454 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.454 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41948&lt;-&gt;127.0.0.1:46713
07:39:29.454 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.455 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.455 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.455 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46713
07:39:29.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one HTTP/1.1
07:39:29.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; POST /bravo?alpha=one HTTP/1.1
07:39:29.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Content-Length: 30
07:39:29.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Host: localhost:46713
07:39:29.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Connection: Keep-Alive
07:39:29.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;POST /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
07:39:29.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Host: localhost:46713[\r][\n]&quot;
07:39:29.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.461 [XNIO-65 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46713]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.462 [XNIO-65 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; HTTP/1.1 200 OK
07:39:29.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Encoding: gzip
07:39:29.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Connection: keep-alive
07:39:29.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Type: text/plain
07:39:29.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Length: 27
07:39:29.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.463 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41948&lt;-&gt;127.0.0.1:46713
07:39:29.463 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.463 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@248c3fc2
07:39:29.468 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3b28ba18
07:39:29.470 [XNIO-66 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2e855050
07:39:29.470 [XNIO-66 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6a8dbc55
07:39:29.484 [XNIO-66 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1a99e25b
07:39:29.484 [XNIO-66 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-4', selector sun.nio.ch.EPollSelectorImpl@621d62b7
07:39:29.485 [XNIO-66 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-5', selector sun.nio.ch.EPollSelectorImpl@44152de0
07:39:29.485 [XNIO-66 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4a09f549
07:39:29.485 [XNIO-66 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5f524eb1
07:39:29.485 [XNIO-66 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-8', selector sun.nio.ch.EPollSelectorImpl@61a7ab41
07:39:29.485 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.485 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.486 [XNIO-66 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 Accept', selector sun.nio.ch.EPollSelectorImpl@147cd8a1
07:39:29.487 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.487 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.487 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33505
07:39:29.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33505
07:39:29.487 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33505
07:39:29.487 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33796&lt;-&gt;127.0.0.1:33505
07:39:29.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one&amp;alpha=two HTTP/1.1
07:39:29.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; POST /bravo?alpha=one&amp;alpha=two HTTP/1.1
07:39:29.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Content-Length: 30
07:39:29.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Host: localhost:33505
07:39:29.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Connection: Keep-Alive
07:39:29.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;POST /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
07:39:29.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Host: localhost:33505[\r][\n]&quot;
07:39:29.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.488 [XNIO-66 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33505]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.489 [XNIO-66 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; HTTP/1.1 200 OK
07:39:29.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Encoding: gzip
07:39:29.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Connection: keep-alive
07:39:29.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Type: text/plain
07:39:29.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Length: 27
07:39:29.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.490 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.490 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33796&lt;-&gt;127.0.0.1:33505
07:39:29.490 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.491 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.491 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.491 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33505
07:39:29.491 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one&amp;alpha=two HTTP/1.1
07:39:29.491 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.491 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; POST /bravo?alpha=one&amp;alpha=two HTTP/1.1
07:39:29.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Content-Length: 30
07:39:29.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Host: localhost:33505
07:39:29.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Connection: Keep-Alive
07:39:29.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;POST /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
07:39:29.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Host: localhost:33505[\r][\n]&quot;
07:39:29.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.492 [XNIO-66 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33505]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.494 [XNIO-66 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; HTTP/1.1 200 OK
07:39:29.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Encoding: gzip
07:39:29.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Connection: keep-alive
07:39:29.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Type: text/plain
07:39:29.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Length: 27
07:39:29.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.494 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.495 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33796&lt;-&gt;127.0.0.1:33505
07:39:29.495 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.495 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3b28ba18
07:39:29.497 [XNIO-66 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:29.500 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4df191d0
07:39:29.504 [XNIO-67 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-2', selector sun.nio.ch.EPollSelectorImpl@76d024e2
07:39:29.512 [XNIO-67 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6fef4e60
07:39:29.517 [XNIO-67 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7ec1a2a8
07:39:29.504 [XNIO-67 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-1', selector sun.nio.ch.EPollSelectorImpl@64fdfee7
07:39:29.524 [XNIO-67 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1f3f6cff
07:39:29.528 [XNIO-67 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-7', selector sun.nio.ch.EPollSelectorImpl@57f588ca
07:39:29.520 [XNIO-67 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-5', selector sun.nio.ch.EPollSelectorImpl@72a6875c
07:39:29.531 [XNIO-67 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-8', selector sun.nio.ch.EPollSelectorImpl@77b6dd08
07:39:29.532 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.542 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.541 [XNIO-67 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 Accept', selector sun.nio.ch.EPollSelectorImpl@77c62717
07:39:29.544 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.544 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.545 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45843
07:39:29.545 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45843
07:39:29.545 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45843
07:39:29.545 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58016&lt;-&gt;127.0.0.1:45843
07:39:29.545 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:29.545 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.545 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:29.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Content-Length: 30
07:39:29.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Host: localhost:45843
07:39:29.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Connection: Keep-Alive
07:39:29.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.545 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
07:39:29.545 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.545 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.545 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Host: localhost:45843[\r][\n]&quot;
07:39:29.545 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.545 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.545 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.545 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.545 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.552 [XNIO-67 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45843]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.554 [XNIO-67 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.554 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; HTTP/1.1 200 OK
07:39:29.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Encoding: gzip
07:39:29.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Connection: keep-alive
07:39:29.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Type: text/plain
07:39:29.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Length: 27
07:39:29.554 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.554 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.555 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58016&lt;-&gt;127.0.0.1:45843
07:39:29.555 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.555 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.555 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.555 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45843
07:39:29.555 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:29.555 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.555 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
07:39:29.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Content-Length: 30
07:39:29.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Host: localhost:45843
07:39:29.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Connection: Keep-Alive
07:39:29.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
07:39:29.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Host: localhost:45843[\r][\n]&quot;
07:39:29.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.556 [XNIO-67 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45843]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.557 [XNIO-67 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; HTTP/1.1 200 OK
07:39:29.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Encoding: gzip
07:39:29.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Connection: keep-alive
07:39:29.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Type: text/plain
07:39:29.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Length: 27
07:39:29.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.558 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.558 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58016&lt;-&gt;127.0.0.1:45843
07:39:29.558 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.559 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4df191d0
07:39:29.580 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@d1657cc
07:39:29.582 [XNIO-68 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-1', selector sun.nio.ch.EPollSelectorImpl@50c69286
07:39:29.585 [XNIO-68 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4a189f65
07:39:29.585 [XNIO-68 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6075189b
07:39:29.586 [XNIO-68 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-4', selector sun.nio.ch.EPollSelectorImpl@10538055
07:39:29.586 [XNIO-68 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-5', selector sun.nio.ch.EPollSelectorImpl@46673c4b
07:39:29.593 [XNIO-68 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-6', selector sun.nio.ch.EPollSelectorImpl@442f335d
07:39:29.612 [XNIO-68 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-7', selector sun.nio.ch.EPollSelectorImpl@70bcb77e
07:39:29.620 [XNIO-68 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-8', selector sun.nio.ch.EPollSelectorImpl@17de59c8
07:39:29.636 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.637 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.638 [XNIO-68 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 Accept', selector sun.nio.ch.EPollSelectorImpl@5156261f
07:39:29.645 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.645 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.645 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45741
07:39:29.645 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45741
07:39:29.645 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45741
07:39:29.646 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52812&lt;-&gt;127.0.0.1:45741
07:39:29.646 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
07:39:29.646 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.646 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; POST /charlie HTTP/1.1
07:39:29.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Content-Length: 30
07:39:29.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Host: localhost:45741
07:39:29.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Connection: Keep-Alive
07:39:29.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
07:39:29.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Host: localhost:45741[\r][\n]&quot;
07:39:29.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.673 [XNIO-68 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45741]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.676 [XNIO-68 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; HTTP/1.1 200 OK
07:39:29.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Encoding: gzip
07:39:29.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Connection: keep-alive
07:39:29.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Type: text/plain
07:39:29.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Length: 27
07:39:29.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.676 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.677 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52812&lt;-&gt;127.0.0.1:45741
07:39:29.677 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.679 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45741
07:39:29.679 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
07:39:29.679 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.679 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; POST /charlie HTTP/1.1
07:39:29.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Content-Length: 30
07:39:29.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Host: localhost:45741
07:39:29.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Connection: Keep-Alive
07:39:29.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
07:39:29.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Host: localhost:45741[\r][\n]&quot;
07:39:29.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.688 [XNIO-68 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45741]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.691 [XNIO-68 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; HTTP/1.1 200 OK
07:39:29.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Encoding: gzip
07:39:29.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Connection: keep-alive
07:39:29.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Type: text/plain
07:39:29.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Length: 27
07:39:29.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52812&lt;-&gt;127.0.0.1:45741
07:39:29.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.695 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@d1657cc
07:39:29.701 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6b7c635a
07:39:29.712 [XNIO-69 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4a732b62
07:39:29.724 [XNIO-69 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1bf6f64
07:39:29.740 [XNIO-69 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-6', selector sun.nio.ch.EPollSelectorImpl@21b53057
07:39:29.744 [XNIO-69 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-4', selector sun.nio.ch.EPollSelectorImpl@286e4247
07:39:29.745 [XNIO-69 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-7', selector sun.nio.ch.EPollSelectorImpl@12d123a
07:39:29.748 [XNIO-69 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-8', selector sun.nio.ch.EPollSelectorImpl@40695628
07:39:29.756 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.757 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.724 [XNIO-69 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1c1c4554
07:39:29.760 [XNIO-69 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 Accept', selector sun.nio.ch.EPollSelectorImpl@41151f7a
07:39:29.744 [XNIO-69 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4809bff0
07:39:29.773 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.773 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.773 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38921
07:39:29.773 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38921
07:39:29.773 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38921
07:39:29.774 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57302&lt;-&gt;127.0.0.1:38921
07:39:29.774 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
07:39:29.774 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.774 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.774 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; POST /charlie HTTP/1.1
07:39:29.774 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.774 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Content-Length: 30
07:39:29.774 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Host: localhost:38921
07:39:29.774 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Connection: Keep-Alive
07:39:29.774 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.774 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
07:39:29.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Host: localhost:38921[\r][\n]&quot;
07:39:29.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.778 [XNIO-69 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38921]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.779 [XNIO-69 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; HTTP/1.1 200 OK
07:39:29.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Content-Encoding: gzip
07:39:29.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Connection: keep-alive
07:39:29.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Content-Type: text/plain
07:39:29.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Content-Length: 27
07:39:29.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.780 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57302&lt;-&gt;127.0.0.1:38921
07:39:29.780 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.781 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.781 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.781 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38921
07:39:29.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
07:39:29.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; POST /charlie HTTP/1.1
07:39:29.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Content-Length: 30
07:39:29.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Host: localhost:38921
07:39:29.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Connection: Keep-Alive
07:39:29.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
07:39:29.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Host: localhost:38921[\r][\n]&quot;
07:39:29.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.785 [XNIO-69 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38921]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.786 [XNIO-69 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-68 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; HTTP/1.1 200 OK
07:39:29.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Content-Encoding: gzip
07:39:29.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Connection: keep-alive
07:39:29.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Content-Type: text/plain
07:39:29.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Content-Length: 27
07:39:29.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-68 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.786 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.787 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57302&lt;-&gt;127.0.0.1:38921
07:39:29.787 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.787 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6b7c635a
07:39:29.792 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@378ca9fb
07:39:29.793 [XNIO-69 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:29.794 [XNIO-70 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-1', selector sun.nio.ch.EPollSelectorImpl@743f2219
07:39:29.797 [XNIO-70 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1c2b049e
07:39:29.797 [XNIO-70 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-3', selector sun.nio.ch.EPollSelectorImpl@76801937
07:39:29.797 [XNIO-70 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-4', selector sun.nio.ch.EPollSelectorImpl@787cb156
07:39:29.808 [XNIO-70 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6a4a26d4
07:39:29.812 [XNIO-70 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3e72f6ad
07:39:29.828 [XNIO-70 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-7', selector sun.nio.ch.EPollSelectorImpl@71b705f
07:39:29.839 [XNIO-70 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-8', selector sun.nio.ch.EPollSelectorImpl@68f700c4
07:39:29.845 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.846 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.847 [XNIO-70 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 Accept', selector sun.nio.ch.EPollSelectorImpl@367457a3
07:39:29.848 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.848 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.848 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36797
07:39:29.848 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36797
07:39:29.848 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36797
07:39:29.848 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47914&lt;-&gt;127.0.0.1:36797
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; POST /charlie HTTP/1.1
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; hat: fedora
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Content-Length: 30
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Host: localhost:36797
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Connection: Keep-Alive
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Host: localhost:36797[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.864 [XNIO-70 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:36797]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.866 [XNIO-70 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; HTTP/1.1 200 OK
07:39:29.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Encoding: gzip
07:39:29.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Connection: keep-alive
07:39:29.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Type: text/plain
07:39:29.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Length: 27
07:39:29.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.866 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.867 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47914&lt;-&gt;127.0.0.1:36797
07:39:29.867 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.867 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.867 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.867 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36797
07:39:29.867 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
07:39:29.867 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.867 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; POST /charlie HTTP/1.1
07:39:29.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:29.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; hat: fedora
07:39:29.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Content-Length: 30
07:39:29.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Host: localhost:36797
07:39:29.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Connection: Keep-Alive
07:39:29.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Host: localhost:36797[\r][\n]&quot;
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:29.880 [XNIO-70 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:36797]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:29.882 [XNIO-70 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:29.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:29.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:29.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:29.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:29.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; HTTP/1.1 200 OK
07:39:29.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Encoding: gzip
07:39:29.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Connection: keep-alive
07:39:29.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Type: text/plain
07:39:29.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Length: 27
07:39:29.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.882 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.883 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47914&lt;-&gt;127.0.0.1:36797
07:39:29.883 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.883 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@378ca9fb
07:39:29.885 [XNIO-70 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ POST /charlie request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:36797]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:29.907 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5cb11682
07:39:29.920 [XNIO-71 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-1', selector sun.nio.ch.EPollSelectorImpl@51738488
07:39:29.922 [XNIO-71 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-2', selector sun.nio.ch.EPollSelectorImpl@11eff032
07:39:29.922 [XNIO-71 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-3', selector sun.nio.ch.EPollSelectorImpl@557c6376
07:39:29.932 [XNIO-71 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-5', selector sun.nio.ch.EPollSelectorImpl@586bf832
07:39:29.933 [XNIO-71 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7b68df0c
07:39:29.933 [XNIO-71 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3c5be932
07:39:29.942 [XNIO-71 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-7', selector sun.nio.ch.EPollSelectorImpl@27cfeca3
07:39:29.950 [XNIO-71 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-8', selector sun.nio.ch.EPollSelectorImpl@66aaee28
07:39:29.950 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.950 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.951 [XNIO-71 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 Accept', selector sun.nio.ch.EPollSelectorImpl@4ca58ff5
07:39:29.965 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:29.965 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:29.965 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33297
07:39:29.965 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33297
07:39:29.965 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33297
07:39:29.966 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40154&lt;-&gt;127.0.0.1:33297
07:39:29.966 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /chars HTTP/1.1
07:39:29.966 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:29.966 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:29.966 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &gt;&gt; POST /chars HTTP/1.1
07:39:29.966 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &gt;&gt; Content-Type: text/plain; charset=utf-8
07:39:29.966 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &gt;&gt; Content-Length: 24
07:39:29.966 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &gt;&gt; Host: localhost:33297
07:39:29.966 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &gt;&gt; Connection: Keep-Alive
07:39:29.966 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:29.966 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:29.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &gt;&gt; &quot;POST /chars HTTP/1.1[\r][\n]&quot;
07:39:29.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &gt;&gt; &quot;Content-Type: text/plain; charset=utf-8[\r][\n]&quot;
07:39:29.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &gt;&gt; &quot;Content-Length: 24[\r][\n]&quot;
07:39:29.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &gt;&gt; &quot;Host: localhost:33297[\r][\n]&quot;
07:39:29.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:29.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:29.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:29.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &gt;&gt; &quot;[\r][\n]&quot;
07:39:29.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &gt;&gt; &quot;This is some plain text.&quot;
07:39:29.972 [XNIO-71 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /chars (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/plain; charset=utf-8], Content-Length=[24], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33297]}, cookies=[:]): This is some plain text. }
07:39:29.972 [XNIO-71 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:29.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:29.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:29.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:29.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:29.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-70 &lt;&lt; &quot;[\r][\n]&quot;
07:39:29.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &lt;&lt; HTTP/1.1 200 OK
07:39:29.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &lt;&lt; Connection: keep-alive
07:39:29.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &lt;&lt; Content-Length: 0
07:39:29.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-70 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:29.972 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:29.972 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40154&lt;-&gt;127.0.0.1:33297
07:39:29.973 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:29.973 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5cb11682
07:39:29.978 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@38c4cd89
07:39:29.980 [XNIO-72 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-72 I/O-1', selector sun.nio.ch.EPollSelectorImpl@63e97e6d
07:39:29.980 [XNIO-72 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-72 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1a2e9b12
07:39:29.985 [XNIO-72 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-72 I/O-4', selector sun.nio.ch.EPollSelectorImpl@77e8da02
07:39:29.985 [XNIO-72 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-72 I/O-5', selector sun.nio.ch.EPollSelectorImpl@72c6bb94
07:39:29.986 [XNIO-72 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-72 I/O-6', selector sun.nio.ch.EPollSelectorImpl@76cb1128
07:39:29.986 [XNIO-72 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-72 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1ca4166d
07:39:29.987 [XNIO-72 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-72 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2bdc441d
07:39:29.996 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:29.997 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:29.980 [XNIO-72 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-72 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6c84f7b5
07:39:30.003 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.003 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.003 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41095
07:39:30.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:41095
07:39:30.003 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41095
07:39:30.003 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:41095 with timeout 0
07:39:30.003 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:30.003 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:30.003 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:30.008 [XNIO-72 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-72 Accept', selector sun.nio.ch.EPollSelectorImpl@478423ea
07:39:30.045 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:30.045 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:30.045 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:30.045 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.045 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.045 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44118&lt;-&gt;127.0.0.1:41095
07:39:30.045 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /chars HTTP/1.1
07:39:30.045 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.045 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &gt;&gt; POST /chars HTTP/1.1
07:39:30.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &gt;&gt; Content-Type: text/plain; charset=utf-8
07:39:30.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &gt;&gt; Content-Length: 24
07:39:30.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &gt;&gt; Host: localhost:41095
07:39:30.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &gt;&gt; Connection: Keep-Alive
07:39:30.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &gt;&gt; &quot;POST /chars HTTP/1.1[\r][\n]&quot;
07:39:30.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &gt;&gt; &quot;Content-Type: text/plain; charset=utf-8[\r][\n]&quot;
07:39:30.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &gt;&gt; &quot;Content-Length: 24[\r][\n]&quot;
07:39:30.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &gt;&gt; &quot;Host: localhost:41095[\r][\n]&quot;
07:39:30.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &gt;&gt; &quot;This is some plain text.&quot;
07:39:30.046 [XNIO-72 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /chars (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/plain; charset=utf-8], Content-Length=[24], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41095]}, cookies=[:]): This is some plain text. }
07:39:30.046 [XNIO-72 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-71 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &lt;&lt; HTTP/1.1 200 OK
07:39:30.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &lt;&lt; Connection: keep-alive
07:39:30.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &lt;&lt; Content-Length: 0
07:39:30.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-71 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.047 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44118&lt;-&gt;127.0.0.1:41095
07:39:30.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.047 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@38c4cd89
07:39:30.053 [XNIO-72 task-3] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:371)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 24 common frames omitted
07:39:30.060 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4497d1bd
07:39:30.065 [XNIO-73 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-73 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2d602b7e
07:39:30.071 [XNIO-73 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-73 I/O-2', selector sun.nio.ch.EPollSelectorImpl@759787dc
07:39:30.076 [XNIO-73 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-73 I/O-4', selector sun.nio.ch.EPollSelectorImpl@77a715a7
07:39:30.080 [XNIO-73 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-73 I/O-5', selector sun.nio.ch.EPollSelectorImpl@22940640
07:39:30.077 [XNIO-73 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-73 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2c2c1ae
07:39:30.081 [XNIO-73 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-73 I/O-6', selector sun.nio.ch.EPollSelectorImpl@79555ebe
07:39:30.081 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.082 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.083 [XNIO-73 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-73 I/O-8', selector sun.nio.ch.EPollSelectorImpl@48a01480
07:39:30.083 [XNIO-73 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-73 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4d97a9a7
07:39:30.083 [XNIO-73 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-73 Accept', selector sun.nio.ch.EPollSelectorImpl@379b722d
07:39:30.092 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.092 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.092 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45055
07:39:30.092 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45055
07:39:30.092 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45055
07:39:30.092 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33754&lt;-&gt;127.0.0.1:45055
07:39:30.092 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.092 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.092 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; POST /delta HTTP/1.1
07:39:30.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Content-Length: 30
07:39:30.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Host: localhost:45055
07:39:30.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Connection: Keep-Alive
07:39:30.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Host: localhost:45055[\r][\n]&quot;
07:39:30.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.096 [XNIO-73 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45055]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.097 [XNIO-73 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; HTTP/1.1 200 OK
07:39:30.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Content-Encoding: gzip
07:39:30.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Connection: keep-alive
07:39:30.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Content-Type: text/date
07:39:30.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Content-Length: 36
07:39:30.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.098 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.098 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33754&lt;-&gt;127.0.0.1:45055
07:39:30.098 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.100 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.100 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.100 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45055
07:39:30.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; POST /delta HTTP/1.1
07:39:30.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Content-Length: 30
07:39:30.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Host: localhost:45055
07:39:30.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Connection: Keep-Alive
07:39:30.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Host: localhost:45055[\r][\n]&quot;
07:39:30.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.101 [XNIO-73 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45055]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.102 [XNIO-73 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.103 [Test worker] DEBUG org.apache.http.wire - http-outgoing-72 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; HTTP/1.1 200 OK
07:39:30.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Content-Encoding: gzip
07:39:30.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Connection: keep-alive
07:39:30.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Content-Type: text/date
07:39:30.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Content-Length: 36
07:39:30.103 [Test worker] DEBUG org.apache.http.headers - http-outgoing-72 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.103 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.103 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33754&lt;-&gt;127.0.0.1:45055
07:39:30.103 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.103 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4497d1bd
07:39:30.108 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4268a17
07:39:30.117 [XNIO-74 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-74 I/O-1', selector sun.nio.ch.EPollSelectorImpl@62d7a722
07:39:30.117 [XNIO-74 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-74 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7769776
07:39:30.117 [XNIO-74 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-74 I/O-3', selector sun.nio.ch.EPollSelectorImpl@44f83143
07:39:30.128 [XNIO-74 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-74 I/O-4', selector sun.nio.ch.EPollSelectorImpl@16f977c0
07:39:30.128 [XNIO-74 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-74 I/O-5', selector sun.nio.ch.EPollSelectorImpl@49f1e66c
07:39:30.128 [XNIO-74 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-74 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1bb71b88
07:39:30.128 [XNIO-74 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-74 I/O-8', selector sun.nio.ch.EPollSelectorImpl@58c0ff86
07:39:30.129 [XNIO-74 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-74 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4bc09e15
07:39:30.132 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.132 [XNIO-74 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-74 Accept', selector sun.nio.ch.EPollSelectorImpl@3b09f101
07:39:30.133 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.135 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.135 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.135 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37133
07:39:30.135 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37133
07:39:30.135 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37133
07:39:30.136 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36854&lt;-&gt;127.0.0.1:37133
07:39:30.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; POST /delta HTTP/1.1
07:39:30.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Content-Length: 30
07:39:30.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Host: localhost:37133
07:39:30.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Connection: Keep-Alive
07:39:30.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Host: localhost:37133[\r][\n]&quot;
07:39:30.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.137 [XNIO-74 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37133]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.143 [XNIO-74 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; HTTP/1.1 200 OK
07:39:30.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Content-Encoding: gzip
07:39:30.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Connection: keep-alive
07:39:30.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Content-Type: text/date
07:39:30.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Content-Length: 36
07:39:30.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.144 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.144 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36854&lt;-&gt;127.0.0.1:37133
07:39:30.144 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.145 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.145 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.145 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37133
07:39:30.145 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.145 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.145 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; POST /delta HTTP/1.1
07:39:30.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Content-Length: 30
07:39:30.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Host: localhost:37133
07:39:30.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Connection: Keep-Alive
07:39:30.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Host: localhost:37133[\r][\n]&quot;
07:39:30.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.145 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.146 [XNIO-74 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37133]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.147 [XNIO-74 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-73 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; HTTP/1.1 200 OK
07:39:30.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Content-Encoding: gzip
07:39:30.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Connection: keep-alive
07:39:30.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Content-Type: text/date
07:39:30.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Content-Length: 36
07:39:30.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-73 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.147 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36854&lt;-&gt;127.0.0.1:37133
07:39:30.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.148 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4268a17
07:39:30.153 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6a75d600
07:39:30.156 [XNIO-75 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-75 I/O-1', selector sun.nio.ch.EPollSelectorImpl@21d37d79
07:39:30.156 [XNIO-75 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-75 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3d183418
07:39:30.158 [XNIO-75 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-75 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2a8b414f
07:39:30.158 [XNIO-75 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-75 I/O-6', selector sun.nio.ch.EPollSelectorImpl@65460583
07:39:30.158 [XNIO-75 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-75 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2648d3fb
07:39:30.158 [XNIO-75 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-75 I/O-4', selector sun.nio.ch.EPollSelectorImpl@56f95f1b
07:39:30.159 [XNIO-75 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-75 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1feafaa2
07:39:30.159 [XNIO-75 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-75 I/O-8', selector sun.nio.ch.EPollSelectorImpl@335bb9b4
07:39:30.159 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.159 [XNIO-75 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-75 Accept', selector sun.nio.ch.EPollSelectorImpl@6aea5dd6
07:39:30.159 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.162 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.162 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.162 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34883
07:39:30.162 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34883
07:39:30.162 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34883
07:39:30.163 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36306&lt;-&gt;127.0.0.1:34883
07:39:30.163 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.163 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.163 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; POST /delta HTTP/1.1
07:39:30.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Cookie: flavor=chocolate-chip
07:39:30.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Content-Length: 30
07:39:30.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Host: localhost:34883
07:39:30.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Connection: Keep-Alive
07:39:30.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Host: localhost:34883[\r][\n]&quot;
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.167 [XNIO-75 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34883]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@54eeb0a6]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.169 [XNIO-75 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; HTTP/1.1 200 OK
07:39:30.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Content-Encoding: gzip
07:39:30.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Connection: keep-alive
07:39:30.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Content-Type: text/date
07:39:30.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Content-Length: 36
07:39:30.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.169 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.170 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36306&lt;-&gt;127.0.0.1:34883
07:39:30.170 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.171 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.171 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.171 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34883
07:39:30.171 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.171 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.171 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; POST /delta HTTP/1.1
07:39:30.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Cookie: flavor=chocolate-chip
07:39:30.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Content-Length: 30
07:39:30.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Host: localhost:34883
07:39:30.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Connection: Keep-Alive
07:39:30.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Host: localhost:34883[\r][\n]&quot;
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.172 [XNIO-75 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34883]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@489b111]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.174 [XNIO-75 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-74 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.174 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; HTTP/1.1 200 OK
07:39:30.174 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Content-Encoding: gzip
07:39:30.174 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Connection: keep-alive
07:39:30.174 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Content-Type: text/date
07:39:30.174 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Content-Length: 36
07:39:30.174 [Test worker] DEBUG org.apache.http.headers - http-outgoing-74 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.174 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.174 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36306&lt;-&gt;127.0.0.1:34883
07:39:30.174 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.175 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6a75d600
07:39:30.180 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@31a20de7
07:39:30.184 [XNIO-76 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-76 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3ea1bfa1
07:39:30.194 [XNIO-76 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-76 I/O-2', selector sun.nio.ch.EPollSelectorImpl@ce95378
07:39:30.196 [XNIO-76 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-76 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3575a5d5
07:39:30.201 [XNIO-76 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-76 I/O-4', selector sun.nio.ch.EPollSelectorImpl@61ed946a
07:39:30.201 [XNIO-76 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-76 I/O-5', selector sun.nio.ch.EPollSelectorImpl@f4a7961
07:39:30.202 [XNIO-76 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-76 I/O-6', selector sun.nio.ch.EPollSelectorImpl@12944671
07:39:30.202 [XNIO-76 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-76 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1e03c40c
07:39:30.202 [XNIO-76 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-76 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5eaefa48
07:39:30.202 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.202 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.203 [XNIO-76 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-76 Accept', selector sun.nio.ch.EPollSelectorImpl@292f0dde
07:39:30.205 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.205 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.205 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32847
07:39:30.205 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32847
07:39:30.205 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32847
07:39:30.205 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36240&lt;-&gt;127.0.0.1:32847
07:39:30.205 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.205 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.205 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; POST /delta HTTP/1.1
07:39:30.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
07:39:30.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Content-Length: 30
07:39:30.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Host: localhost:32847
07:39:30.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Connection: Keep-Alive
07:39:30.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
07:39:30.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Host: localhost:32847[\r][\n]&quot;
07:39:30.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.206 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.206 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.209 [XNIO-76 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32847]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@45abe9e2, flavor:ersatz.undertow.server.handlers.CookieImpl@4b6c1f27]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.221 [XNIO-76 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; HTTP/1.1 200 OK
07:39:30.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Content-Encoding: gzip
07:39:30.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Connection: keep-alive
07:39:30.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Content-Type: text/date
07:39:30.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Content-Length: 36
07:39:30.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.222 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36240&lt;-&gt;127.0.0.1:32847
07:39:30.222 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.224 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.224 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.224 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32847
07:39:30.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; POST /delta HTTP/1.1
07:39:30.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
07:39:30.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Content-Length: 30
07:39:30.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Host: localhost:32847
07:39:30.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Connection: Keep-Alive
07:39:30.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Host: localhost:32847[\r][\n]&quot;
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.229 [XNIO-76 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32847]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@6d4fb369, flavor:ersatz.undertow.server.handlers.CookieImpl@638850b0]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.230 [XNIO-76 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.231 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.231 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.231 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.231 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.231 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.231 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.231 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.231 [Test worker] DEBUG org.apache.http.wire - http-outgoing-75 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.231 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; HTTP/1.1 200 OK
07:39:30.231 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Content-Encoding: gzip
07:39:30.231 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Connection: keep-alive
07:39:30.231 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Content-Type: text/date
07:39:30.231 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Content-Length: 36
07:39:30.231 [Test worker] DEBUG org.apache.http.headers - http-outgoing-75 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.231 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.231 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36240&lt;-&gt;127.0.0.1:32847
07:39:30.231 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.232 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@31a20de7
07:39:30.233 [XNIO-76 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ POST /delta request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32847]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/date], Content-Length=[36], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:30.241 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@37e9f6ac
07:39:30.247 [XNIO-77 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-77 I/O-1', selector sun.nio.ch.EPollSelectorImpl@58247e23
07:39:30.247 [XNIO-77 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-77 I/O-2', selector sun.nio.ch.EPollSelectorImpl@266e76cc
07:39:30.247 [XNIO-77 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-77 I/O-3', selector sun.nio.ch.EPollSelectorImpl@74b7c3c6
07:39:30.248 [XNIO-77 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-77 I/O-4', selector sun.nio.ch.EPollSelectorImpl@552ba604
07:39:30.248 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.249 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.250 [XNIO-77 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-77 I/O-8', selector sun.nio.ch.EPollSelectorImpl@25719433
07:39:30.250 [XNIO-77 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-77 I/O-6', selector sun.nio.ch.EPollSelectorImpl@14200cab
07:39:30.250 [XNIO-77 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-77 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2431f253
07:39:30.250 [XNIO-77 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-77 Accept', selector sun.nio.ch.EPollSelectorImpl@28dd22b5
07:39:30.250 [XNIO-77 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-77 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1c1df470
07:39:30.257 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.257 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.257 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34651
07:39:30.257 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34651
07:39:30.257 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34651
07:39:30.257 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58454&lt;-&gt;127.0.0.1:34651
07:39:30.257 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.257 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.257 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; POST /delta HTTP/1.1
07:39:30.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Content-Length: 30
07:39:30.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Host: localhost:34651
07:39:30.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Connection: Keep-Alive
07:39:30.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Host: localhost:34651[\r][\n]&quot;
07:39:30.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.258 [XNIO-77 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34651]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.259 [XNIO-77 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; HTTP/1.1 200 OK
07:39:30.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Content-Encoding: gzip
07:39:30.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Connection: keep-alive
07:39:30.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Content-Type: text/date
07:39:30.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Content-Length: 36
07:39:30.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.259 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.260 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58454&lt;-&gt;127.0.0.1:34651
07:39:30.260 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.261 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.261 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.261 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34651
07:39:30.261 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.261 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.261 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; POST /delta HTTP/1.1
07:39:30.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Content-Length: 30
07:39:30.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Host: localhost:34651
07:39:30.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Connection: Keep-Alive
07:39:30.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Host: localhost:34651[\r][\n]&quot;
07:39:30.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.262 [XNIO-77 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34651]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.263 [XNIO-77 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-76 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; HTTP/1.1 200 OK
07:39:30.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Content-Encoding: gzip
07:39:30.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Connection: keep-alive
07:39:30.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Content-Type: text/date
07:39:30.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Content-Length: 36
07:39:30.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-76 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.264 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.264 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58454&lt;-&gt;127.0.0.1:34651
07:39:30.264 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.264 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@37e9f6ac
07:39:30.267 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4b30c200
07:39:30.268 [XNIO-78 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-78 I/O-2', selector sun.nio.ch.EPollSelectorImpl@45c32f74
07:39:30.268 [XNIO-78 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-78 I/O-1', selector sun.nio.ch.EPollSelectorImpl@67a9aa14
07:39:30.268 [XNIO-78 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-78 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5b208599
07:39:30.268 [XNIO-78 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-78 I/O-4', selector sun.nio.ch.EPollSelectorImpl@41f196f6
07:39:30.268 [XNIO-78 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-78 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2b7e2e3f
07:39:30.268 [XNIO-78 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-78 I/O-6', selector sun.nio.ch.EPollSelectorImpl@fddc221
07:39:30.275 [XNIO-78 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-78 I/O-7', selector sun.nio.ch.EPollSelectorImpl@122048c5
07:39:30.275 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.275 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.276 [XNIO-78 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-78 I/O-8', selector sun.nio.ch.EPollSelectorImpl@48099be
07:39:30.276 [XNIO-78 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-78 Accept', selector sun.nio.ch.EPollSelectorImpl@40e84bfe
07:39:30.277 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.277 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.277 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40413
07:39:30.277 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40413
07:39:30.277 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40413
07:39:30.278 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41186&lt;-&gt;127.0.0.1:40413
07:39:30.278 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.278 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.278 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.278 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; POST /delta HTTP/1.1
07:39:30.278 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.278 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Content-Length: 30
07:39:30.278 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Host: localhost:40413
07:39:30.278 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Connection: Keep-Alive
07:39:30.278 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.278 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Host: localhost:40413[\r][\n]&quot;
07:39:30.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.278 [XNIO-78 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40413]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.279 [XNIO-78 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.279 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; HTTP/1.1 200 OK
07:39:30.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Content-Encoding: gzip
07:39:30.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Connection: keep-alive
07:39:30.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Content-Type: text/date
07:39:30.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Content-Length: 36
07:39:30.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.279 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.280 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41186&lt;-&gt;127.0.0.1:40413
07:39:30.280 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.280 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.280 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.280 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40413
07:39:30.280 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.280 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.280 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; POST /delta HTTP/1.1
07:39:30.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Content-Length: 30
07:39:30.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Host: localhost:40413
07:39:30.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Connection: Keep-Alive
07:39:30.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Host: localhost:40413[\r][\n]&quot;
07:39:30.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.281 [XNIO-78 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40413]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.281 [XNIO-78 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-77 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; HTTP/1.1 200 OK
07:39:30.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Content-Encoding: gzip
07:39:30.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Connection: keep-alive
07:39:30.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Content-Type: text/date
07:39:30.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Content-Length: 36
07:39:30.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-77 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.282 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41186&lt;-&gt;127.0.0.1:40413
07:39:30.282 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.282 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4b30c200
07:39:30.285 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1028fca8
07:39:30.286 [XNIO-79 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-79 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4f41f9a2
07:39:30.286 [XNIO-79 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-79 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5c6d825d
07:39:30.286 [XNIO-79 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-79 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1bcc8ad3
07:39:30.286 [XNIO-79 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-79 I/O-2', selector sun.nio.ch.EPollSelectorImpl@33edb0d4
07:39:30.286 [XNIO-79 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-79 I/O-5', selector sun.nio.ch.EPollSelectorImpl@35ca97d3
07:39:30.286 [XNIO-79 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-79 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5d36a874
07:39:30.286 [XNIO-79 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-79 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4e1937a6
07:39:30.286 [XNIO-79 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-79 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4e2aa467
07:39:30.287 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.287 [XNIO-79 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-79 Accept', selector sun.nio.ch.EPollSelectorImpl@52c0de07
07:39:30.288 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.289 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.289 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.289 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42873
07:39:30.289 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42873
07:39:30.289 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42873
07:39:30.289 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35702&lt;-&gt;127.0.0.1:42873
07:39:30.289 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.289 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.289 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; POST /delta HTTP/1.1
07:39:30.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Cookie: flavor=peanut-butter
07:39:30.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Content-Length: 30
07:39:30.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Host: localhost:42873
07:39:30.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Connection: Keep-Alive
07:39:30.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Host: localhost:42873[\r][\n]&quot;
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.290 [XNIO-79 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42873]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@6118b132]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.291 [XNIO-79 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; HTTP/1.1 200 OK
07:39:30.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Content-Encoding: gzip
07:39:30.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Connection: keep-alive
07:39:30.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Content-Type: text/date
07:39:30.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Content-Length: 36
07:39:30.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.291 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.292 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35702&lt;-&gt;127.0.0.1:42873
07:39:30.292 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.293 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.293 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.293 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42873
07:39:30.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; POST /delta HTTP/1.1
07:39:30.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Cookie: flavor=peanut-butter
07:39:30.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Content-Length: 30
07:39:30.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Host: localhost:42873
07:39:30.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Connection: Keep-Alive
07:39:30.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Host: localhost:42873[\r][\n]&quot;
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.293 [XNIO-79 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42873]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@126ed6db]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.294 [XNIO-79 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-78 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; HTTP/1.1 200 OK
07:39:30.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Content-Encoding: gzip
07:39:30.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Connection: keep-alive
07:39:30.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Content-Type: text/date
07:39:30.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Content-Length: 36
07:39:30.295 [Test worker] DEBUG org.apache.http.headers - http-outgoing-78 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.295 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.295 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35702&lt;-&gt;127.0.0.1:42873
07:39:30.295 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.295 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1028fca8
07:39:30.299 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@29a9e733
07:39:30.306 [XNIO-80 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-80 I/O-1', selector sun.nio.ch.EPollSelectorImpl@281e92c
07:39:30.306 [XNIO-80 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-80 I/O-2', selector sun.nio.ch.EPollSelectorImpl@f0d6d1c
07:39:30.306 [XNIO-80 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-80 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7f59201b
07:39:30.306 [XNIO-80 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-80 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6a085edd
07:39:30.306 [XNIO-80 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-80 I/O-4', selector sun.nio.ch.EPollSelectorImpl@69ed4d3c
07:39:30.306 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.306 [XNIO-80 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-80 Accept', selector sun.nio.ch.EPollSelectorImpl@c1b9121
07:39:30.306 [XNIO-80 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-80 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5066b428
07:39:30.306 [XNIO-80 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-80 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1cede0fe
07:39:30.306 [XNIO-80 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-80 I/O-5', selector sun.nio.ch.EPollSelectorImpl@36cf251f
07:39:30.307 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.309 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.309 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.309 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40769
07:39:30.309 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40769
07:39:30.309 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40769
07:39:30.309 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35178&lt;-&gt;127.0.0.1:40769
07:39:30.309 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.309 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.309 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; POST /delta HTTP/1.1
07:39:30.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
07:39:30.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Content-Length: 30
07:39:30.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Host: localhost:40769
07:39:30.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Connection: Keep-Alive
07:39:30.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Host: localhost:40769[\r][\n]&quot;
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.312 [XNIO-80 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40769]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@3bd65ee6, flavor:ersatz.undertow.server.handlers.CookieImpl@3511a7ec]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.313 [XNIO-80 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; HTTP/1.1 200 OK
07:39:30.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Content-Encoding: gzip
07:39:30.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Connection: keep-alive
07:39:30.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Content-Type: text/date
07:39:30.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Content-Length: 36
07:39:30.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.321 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.321 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35178&lt;-&gt;127.0.0.1:40769
07:39:30.321 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.322 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.322 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.322 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40769
07:39:30.322 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
07:39:30.322 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.322 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; POST /delta HTTP/1.1
07:39:30.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
07:39:30.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Content-Length: 30
07:39:30.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Host: localhost:40769
07:39:30.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Connection: Keep-Alive
07:39:30.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Host: localhost:40769[\r][\n]&quot;
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.323 [XNIO-80 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40769]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@29dbfe3c, flavor:ersatz.undertow.server.handlers.CookieImpl@271c0577]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.324 [XNIO-80 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
07:39:30.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
07:39:30.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
07:39:30.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-79 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
07:39:30.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; HTTP/1.1 200 OK
07:39:30.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Content-Encoding: gzip
07:39:30.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Connection: keep-alive
07:39:30.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Content-Type: text/date
07:39:30.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Content-Length: 36
07:39:30.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-79 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.324 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.325 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35178&lt;-&gt;127.0.0.1:40769
07:39:30.325 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.325 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@29a9e733
07:39:30.326 [XNIO-80 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
07:39:30.338 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3baf366b
07:39:30.340 [XNIO-81 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-81 I/O-1', selector sun.nio.ch.EPollSelectorImpl@490f2eff
07:39:30.340 [XNIO-81 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-81 I/O-2', selector sun.nio.ch.EPollSelectorImpl@180c0e8
07:39:30.340 [XNIO-81 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-81 I/O-3', selector sun.nio.ch.EPollSelectorImpl@d8af5bc
07:39:30.346 [XNIO-81 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-81 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1232a315
07:39:30.348 [XNIO-81 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-81 I/O-5', selector sun.nio.ch.EPollSelectorImpl@43fa68e7
07:39:30.349 [XNIO-81 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-81 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5ea01d38
07:39:30.349 [XNIO-81 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-81 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1d39423c
07:39:30.349 [XNIO-81 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-81 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4826be63
07:39:30.349 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.349 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.350 [XNIO-81 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-81 Accept', selector sun.nio.ch.EPollSelectorImpl@5dd82cf5
07:39:30.353 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.353 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.353 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35043
07:39:30.353 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35043
07:39:30.354 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35043
07:39:30.354 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38358&lt;-&gt;127.0.0.1:35043
07:39:30.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; POST /basic HTTP/1.1
07:39:30.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Content-Length: 30
07:39:30.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Host: localhost:35043
07:39:30.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Connection: Keep-Alive
07:39:30.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Host: localhost:35043[\r][\n]&quot;
07:39:30.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.354 [XNIO-81 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {}}
07:39:30.354 [XNIO-81 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.354 [XNIO-81 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5ea595b7 for /basic
07:39:30.354 [XNIO-81 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {}}
07:39:30.355 [XNIO-81 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.355 [XNIO-81 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Connection: keep-alive
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Content-Length: 0
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35043 requested authentication
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:30.355 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; POST /basic HTTP/1.1
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Content-Length: 30
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Host: localhost:35043
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Connection: Keep-Alive
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Host: localhost:35043[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.356 [XNIO-81 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {}}
07:39:30.356 [XNIO-81 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.356 [XNIO-81 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {}}
07:39:30.356 [XNIO-81 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:30.356 [XNIO-81 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5ea595b7 for /basic
07:39:30.356 [XNIO-81 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:30.356 [XNIO-81 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.357 [XNIO-81 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:30.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; HTTP/1.1 200 OK
07:39:30.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Content-Encoding: gzip
07:39:30.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Connection: keep-alive
07:39:30.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Content-Type: text/plain
07:39:30.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Content-Length: 27
07:39:30.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.358 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.358 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:30.358 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:35043
07:39:30.358 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38358&lt;-&gt;127.0.0.1:35043
07:39:30.358 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.359 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.359 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.359 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35043
07:39:30.359 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.359 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.359 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; POST /basic HTTP/1.1
07:39:30.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Content-Length: 30
07:39:30.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Host: localhost:35043
07:39:30.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Connection: Keep-Alive
07:39:30.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Host: localhost:35043[\r][\n]&quot;
07:39:30.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.383 [XNIO-81 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {}}
07:39:30.384 [XNIO-81 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.384 [XNIO-81 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5ea595b7 for /basic
07:39:30.384 [XNIO-81 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {}}
07:39:30.384 [XNIO-81 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.384 [XNIO-81 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Connection: keep-alive
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Content-Length: 0
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35043 requested authentication
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:30.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; POST /basic HTTP/1.1
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Content-Length: 30
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Host: localhost:35043
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Connection: Keep-Alive
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Host: localhost:35043[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.388 [XNIO-81 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {}}
07:39:30.389 [XNIO-81 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.389 [XNIO-81 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]} response {}}
07:39:30.389 [XNIO-81 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:30.389 [XNIO-81 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5ea595b7 for /basic
07:39:30.389 [XNIO-81 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:30.389 [XNIO-81 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35043]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.390 [XNIO-81 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:30.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-80 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; HTTP/1.1 200 OK
07:39:30.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Content-Encoding: gzip
07:39:30.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Connection: keep-alive
07:39:30.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Content-Type: text/plain
07:39:30.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Content-Length: 27
07:39:30.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-80 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.390 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.390 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:30.390 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:35043
07:39:30.391 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38358&lt;-&gt;127.0.0.1:35043
07:39:30.391 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.391 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3baf366b
07:39:30.395 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@38a197c3
07:39:30.396 [XNIO-82 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-82 I/O-1', selector sun.nio.ch.EPollSelectorImpl@145e6180
07:39:30.396 [XNIO-81 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 29 common frames omitted
07:39:30.396 [XNIO-82 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-82 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7c723b25
07:39:30.401 [XNIO-82 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-82 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4628781f
07:39:30.401 [XNIO-82 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-82 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5083d4b1
07:39:30.404 [XNIO-82 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-82 I/O-5', selector sun.nio.ch.EPollSelectorImpl@600764f1
07:39:30.404 [XNIO-82 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-82 I/O-6', selector sun.nio.ch.EPollSelectorImpl@10ff6cc
07:39:30.407 [XNIO-82 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-82 I/O-7', selector sun.nio.ch.EPollSelectorImpl@44bd90e7
07:39:30.407 [XNIO-82 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-82 I/O-8', selector sun.nio.ch.EPollSelectorImpl@45d9424
07:39:30.408 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.408 [XNIO-82 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-82 Accept', selector sun.nio.ch.EPollSelectorImpl@6e696011
07:39:30.409 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.414 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.415 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.415 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43915
07:39:30.415 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:43915
07:39:30.415 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43915
07:39:30.415 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:43915 with timeout 0
07:39:30.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:30.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:30.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:30.438 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:30.438 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:30.438 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:30.438 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.438 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.438 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54562&lt;-&gt;127.0.0.1:43915
07:39:30.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; POST /basic HTTP/1.1
07:39:30.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Content-Length: 30
07:39:30.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Host: localhost:43915
07:39:30.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Connection: Keep-Alive
07:39:30.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Host: localhost:43915[\r][\n]&quot;
07:39:30.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.443 [XNIO-82 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {}}
07:39:30.443 [XNIO-82 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.443 [XNIO-82 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@37a48197 for /basic
07:39:30.443 [XNIO-82 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {}}
07:39:30.443 [XNIO-82 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.443 [XNIO-82 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Connection: keep-alive
07:39:30.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Content-Length: 0
07:39:30.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:43915 requested authentication
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:30.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; POST /basic HTTP/1.1
07:39:30.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Content-Length: 30
07:39:30.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Host: localhost:43915
07:39:30.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Connection: Keep-Alive
07:39:30.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Host: localhost:43915[\r][\n]&quot;
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.445 [XNIO-82 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {}}
07:39:30.445 [XNIO-82 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.445 [XNIO-82 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {}}
07:39:30.445 [XNIO-82 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:30.445 [XNIO-82 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@37a48197 for /basic
07:39:30.445 [XNIO-82 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:30.445 [XNIO-82 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.446 [XNIO-82 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:30.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; HTTP/1.1 200 OK
07:39:30.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Content-Encoding: gzip
07:39:30.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Connection: keep-alive
07:39:30.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Content-Type: text/plain
07:39:30.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Content-Length: 27
07:39:30.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.447 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:30.447 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:43915
07:39:30.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54562&lt;-&gt;127.0.0.1:43915
07:39:30.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.448 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.448 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.448 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43915
07:39:30.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; POST /basic HTTP/1.1
07:39:30.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Content-Length: 30
07:39:30.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Host: localhost:43915
07:39:30.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Connection: Keep-Alive
07:39:30.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Host: localhost:43915[\r][\n]&quot;
07:39:30.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.449 [XNIO-82 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {}}
07:39:30.449 [XNIO-82 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.449 [XNIO-82 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@37a48197 for /basic
07:39:30.449 [XNIO-82 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {}}
07:39:30.449 [XNIO-82 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.449 [XNIO-82 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Connection: keep-alive
07:39:30.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Content-Length: 0
07:39:30.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:43915 requested authentication
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:30.450 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; POST /basic HTTP/1.1
07:39:30.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Content-Length: 30
07:39:30.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Host: localhost:43915
07:39:30.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Connection: Keep-Alive
07:39:30.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Host: localhost:43915[\r][\n]&quot;
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.451 [XNIO-82 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {}}
07:39:30.451 [XNIO-82 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.451 [XNIO-82 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]} response {}}
07:39:30.451 [XNIO-82 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:30.451 [XNIO-82 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@37a48197 for /basic
07:39:30.451 [XNIO-82 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
07:39:30.451 [XNIO-82 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43915]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.452 [XNIO-82 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:30.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-81 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; HTTP/1.1 200 OK
07:39:30.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Content-Encoding: gzip
07:39:30.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Connection: keep-alive
07:39:30.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Content-Type: text/plain
07:39:30.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Content-Length: 27
07:39:30.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-81 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.452 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.452 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:30.452 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:43915
07:39:30.453 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54562&lt;-&gt;127.0.0.1:43915
07:39:30.453 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.453 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@38a197c3
07:39:30.461 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@494d856e
07:39:30.463 [XNIO-83 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-83 I/O-1', selector sun.nio.ch.EPollSelectorImpl@243091f0
07:39:30.463 [XNIO-83 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-83 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3dc8c98a
07:39:30.463 [XNIO-83 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-83 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3ff9d3bd
07:39:30.463 [XNIO-83 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-83 I/O-5', selector sun.nio.ch.EPollSelectorImpl@79ef11a5
07:39:30.463 [XNIO-83 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-83 I/O-8', selector sun.nio.ch.EPollSelectorImpl@bb91bef
07:39:30.463 [XNIO-83 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-83 I/O-2', selector sun.nio.ch.EPollSelectorImpl@f2c5759
07:39:30.463 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.463 [XNIO-83 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-83 I/O-6', selector sun.nio.ch.EPollSelectorImpl@574056a6
07:39:30.463 [XNIO-83 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-83 I/O-7', selector sun.nio.ch.EPollSelectorImpl@48ea6e76
07:39:30.463 [XNIO-83 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-83 Accept', selector sun.nio.ch.EPollSelectorImpl@5f57ccb4
07:39:30.463 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.467 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.467 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.467 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36659
07:39:30.467 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36659
07:39:30.468 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36659
07:39:30.468 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59496&lt;-&gt;127.0.0.1:36659
07:39:30.468 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.468 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.468 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; POST /basic HTTP/1.1
07:39:30.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Content-Length: 30
07:39:30.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Host: localhost:36659
07:39:30.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Connection: Keep-Alive
07:39:30.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Host: localhost:36659[\r][\n]&quot;
07:39:30.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.468 [XNIO-83 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.468 [XNIO-83 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.468 [XNIO-83 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@79f40e72 for /basic
07:39:30.469 [XNIO-83 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.469 [XNIO-83 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.469 [XNIO-83 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Connection: keep-alive
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Content-Length: 0
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36659 requested authentication
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:30.469 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; POST /basic HTTP/1.1
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Content-Length: 30
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Host: localhost:36659
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Connection: Keep-Alive
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Host: localhost:36659[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.470 [XNIO-83 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.470 [XNIO-83 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.470 [XNIO-83 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.470 [XNIO-83 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.470 [XNIO-83 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@79f40e72 for /basic
07:39:30.470 [XNIO-83 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.470 [XNIO-83 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.470 [XNIO-83 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Connection: keep-alive
07:39:30.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Content-Length: 0
07:39:30.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.470 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.470 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.470 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36659 requested authentication
07:39:30.470 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:30.470 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:30.470 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59496&lt;-&gt;127.0.0.1:36659
07:39:30.470 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.474 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.474 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.474 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36659
07:39:30.474 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.474 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.474 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; POST /basic HTTP/1.1
07:39:30.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Content-Length: 30
07:39:30.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Host: localhost:36659
07:39:30.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Connection: Keep-Alive
07:39:30.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Host: localhost:36659[\r][\n]&quot;
07:39:30.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.475 [XNIO-83 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.475 [XNIO-83 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.475 [XNIO-83 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@79f40e72 for /basic
07:39:30.475 [XNIO-83 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.475 [XNIO-83 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.475 [XNIO-83 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Connection: keep-alive
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Content-Length: 0
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36659 requested authentication
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:30.475 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; POST /basic HTTP/1.1
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Content-Length: 30
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Host: localhost:36659
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Connection: Keep-Alive
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.475 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Host: localhost:36659[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.476 [XNIO-83 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.476 [XNIO-83 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.476 [XNIO-83 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.476 [XNIO-83 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.476 [XNIO-83 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@79f40e72 for /basic
07:39:30.476 [XNIO-83 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {}}
07:39:30.476 [XNIO-83 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36659]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.476 [XNIO-83 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.476 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.476 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.476 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.476 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.476 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.476 [Test worker] DEBUG org.apache.http.wire - http-outgoing-82 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Connection: keep-alive
07:39:30.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Content-Length: 0
07:39:30.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-82 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.477 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.477 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.477 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36659 requested authentication
07:39:30.477 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:30.477 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:30.477 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59496&lt;-&gt;127.0.0.1:36659
07:39:30.477 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.477 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@494d856e
07:39:30.482 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7844f7b2
07:39:30.484 [XNIO-84 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-84 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4a86164d
07:39:30.484 [XNIO-84 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-84 I/O-7', selector sun.nio.ch.EPollSelectorImpl@530b1267
07:39:30.484 [XNIO-84 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-84 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5f1e9fa0
07:39:30.484 [XNIO-84 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-84 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4403df0e
07:39:30.485 [XNIO-84 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-84 Accept', selector sun.nio.ch.EPollSelectorImpl@583ba8c5
07:39:30.484 [XNIO-84 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-84 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3d639c60
07:39:30.485 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.484 [XNIO-84 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-84 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5f4462d0
07:39:30.484 [XNIO-84 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-84 I/O-4', selector sun.nio.ch.EPollSelectorImpl@27688907
07:39:30.485 [XNIO-84 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-84 I/O-8', selector sun.nio.ch.EPollSelectorImpl@33b02b42
07:39:30.485 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.487 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.487 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.487 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45475
07:39:30.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:45475
07:39:30.487 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45475
07:39:30.487 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:45475 with timeout 0
07:39:30.487 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:30.488 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:30.488 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:30.502 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:30.502 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:30.502 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:30.502 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.502 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.502 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40882&lt;-&gt;127.0.0.1:45475
07:39:30.502 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.502 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.502 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; POST /basic HTTP/1.1
07:39:30.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Content-Length: 30
07:39:30.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Host: localhost:45475
07:39:30.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Connection: Keep-Alive
07:39:30.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Host: localhost:45475[\r][\n]&quot;
07:39:30.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.504 [XNIO-84 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.504 [XNIO-84 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.504 [XNIO-84 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e76d09f for /basic
07:39:30.504 [XNIO-84 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.504 [XNIO-84 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.504 [XNIO-84 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Connection: keep-alive
07:39:30.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Content-Length: 0
07:39:30.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45475 requested authentication
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:30.505 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; POST /basic HTTP/1.1
07:39:30.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Content-Length: 30
07:39:30.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Host: localhost:45475
07:39:30.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Connection: Keep-Alive
07:39:30.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.505 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Host: localhost:45475[\r][\n]&quot;
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.505 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.505 [XNIO-84 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.506 [XNIO-84 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.506 [XNIO-84 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.506 [XNIO-84 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.506 [XNIO-84 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e76d09f for /basic
07:39:30.506 [XNIO-84 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.506 [XNIO-84 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.506 [XNIO-84 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Connection: keep-alive
07:39:30.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Content-Length: 0
07:39:30.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.506 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.506 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.506 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45475 requested authentication
07:39:30.506 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:30.506 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:30.506 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40882&lt;-&gt;127.0.0.1:45475
07:39:30.506 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.507 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.507 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.507 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45475
07:39:30.507 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.507 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.507 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; POST /basic HTTP/1.1
07:39:30.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Content-Length: 30
07:39:30.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Host: localhost:45475
07:39:30.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Connection: Keep-Alive
07:39:30.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Host: localhost:45475[\r][\n]&quot;
07:39:30.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.508 [XNIO-84 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.508 [XNIO-84 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.508 [XNIO-84 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e76d09f for /basic
07:39:30.508 [XNIO-84 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.508 [XNIO-84 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.508 [XNIO-84 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Connection: keep-alive
07:39:30.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Content-Length: 0
07:39:30.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.508 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.508 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.508 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45475 requested authentication
07:39:30.508 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.508 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.508 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.508 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.508 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
07:39:30.509 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
07:39:30.509 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
07:39:30.509 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.509 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
07:39:30.509 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; POST /basic HTTP/1.1
07:39:30.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Content-Length: 30
07:39:30.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Host: localhost:45475
07:39:30.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Connection: Keep-Alive
07:39:30.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Host: localhost:45475[\r][\n]&quot;
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.509 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.509 [XNIO-84 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.509 [XNIO-84 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
07:39:30.509 [XNIO-84 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.509 [XNIO-84 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.509 [XNIO-84 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@1e76d09f for /basic
07:39:30.509 [XNIO-84 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {}}
07:39:30.509 [XNIO-84 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45475]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
07:39:30.509 [XNIO-84 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
07:39:30.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
07:39:30.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-83 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.510 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.510 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Connection: keep-alive
07:39:30.510 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
07:39:30.510 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Content-Length: 0
07:39:30.510 [Test worker] DEBUG org.apache.http.headers - http-outgoing-83 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.510 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.510 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.510 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45475 requested authentication
07:39:30.510 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:30.510 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:30.510 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40882&lt;-&gt;127.0.0.1:45475
07:39:30.510 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.510 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7844f7b2
07:39:30.517 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6efb8a2b
07:39:30.518 [XNIO-85 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-85 I/O-2', selector sun.nio.ch.EPollSelectorImpl@17a05f06
07:39:30.520 [XNIO-85 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-85 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4d9fd330
07:39:30.518 [XNIO-85 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-85 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2e6e9993
07:39:30.518 [XNIO-85 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-85 I/O-3', selector sun.nio.ch.EPollSelectorImpl@321d1645
07:39:30.521 [XNIO-85 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-85 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4855391
07:39:30.518 [XNIO-85 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-85 I/O-4', selector sun.nio.ch.EPollSelectorImpl@73b4f65
07:39:30.521 [XNIO-85 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-85 I/O-7', selector sun.nio.ch.EPollSelectorImpl@27c6232a
07:39:30.521 [XNIO-85 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-85 I/O-8', selector sun.nio.ch.EPollSelectorImpl@136f54c5
07:39:30.521 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.521 [XNIO-85 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-85 Accept', selector sun.nio.ch.EPollSelectorImpl@6f8b5226
07:39:30.522 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.525 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.525 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.525 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34653
07:39:30.525 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34653
07:39:30.525 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34653
07:39:30.525 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34500&lt;-&gt;127.0.0.1:34653
07:39:30.525 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.525 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.525 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; POST /digest HTTP/1.1
07:39:30.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Content-Length: 30
07:39:30.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Host: localhost:34653
07:39:30.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Connection: Keep-Alive
07:39:30.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Host: localhost:34653[\r][\n]&quot;
07:39:30.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.526 [XNIO-85 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]} response {}}
07:39:30.527 [XNIO-85 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.527 [XNIO-85 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1827824b for /digest
07:39:30.527 [XNIO-85 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]} response {}}
07:39:30.527 [XNIO-85 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Connection: keep-alive
07:39:30.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Content-Length: 0
07:39:30.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.527 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34653 requested authentication
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:30.528 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; POST /digest HTTP/1.1
07:39:30.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Content-Length: 30
07:39:30.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Host: localhost:34653
07:39:30.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Connection: Keep-Alive
07:39:30.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;, uri=&quot;/digest&quot;, response=&quot;24eb4855779c25da2c7df09b73c8c383&quot;, qop=auth, nc=00000001, cnonce=&quot;f82ecd1a91020224&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Host: localhost:34653[\r][\n]&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;, uri=&quot;/digest&quot;, response=&quot;24eb4855779c25da2c7df09b73c8c383&quot;, qop=auth, nc=00000001, cnonce=&quot;f82ecd1a91020224&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.529 [XNIO-85 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;, uri=&quot;/digest&quot;, response=&quot;24eb4855779c25da2c7df09b73c8c383&quot;, qop=auth, nc=00000001, cnonce=&quot;f82ecd1a91020224&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]} response {}}
07:39:30.529 [XNIO-85 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.529 [XNIO-85 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;, uri=&quot;/digest&quot;, response=&quot;24eb4855779c25da2c7df09b73c8c383&quot;, qop=auth, nc=00000001, cnonce=&quot;f82ecd1a91020224&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;, uri=&quot;/digest&quot;, response=&quot;24eb4855779c25da2c7df09b73c8c383&quot;, qop=auth, nc=00000001, cnonce=&quot;f82ecd1a91020224&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]} response {}}
07:39:30.529 [XNIO-85 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:30.529 [XNIO-85 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1827824b for /digest
07:39:30.529 [XNIO-85 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:30.529 [XNIO-85 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;, uri=&quot;/digest&quot;, response=&quot;24eb4855779c25da2c7df09b73c8c383&quot;, qop=auth, nc=00000001, cnonce=&quot;f82ecd1a91020224&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.530 [XNIO-85 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;,qop=&quot;auth&quot;,rspauth=&quot;b2c2588a00581d87daa17970a0c57bac&quot;,cnonce=&quot;f82ecd1a91020224&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
07:39:30.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;,qop=&quot;auth&quot;,rspauth=&quot;b2c2588a00581d87daa17970a0c57bac&quot;,cnonce=&quot;f82ecd1a91020224&quot;,nc=00000001[\r][\n]&quot;
07:39:30.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; HTTP/1.1 200 OK
07:39:30.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Content-Encoding: gzip
07:39:30.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Connection: keep-alive
07:39:30.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Authentication-Info: nextnonce=&quot;JDrt7i6zr8gNMTUwNzg5ODM3MDUyN6O7FQMs6DTbT5f3Zaf6MqY=&quot;,qop=&quot;auth&quot;,rspauth=&quot;b2c2588a00581d87daa17970a0c57bac&quot;,cnonce=&quot;f82ecd1a91020224&quot;,nc=00000001
07:39:30.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Content-Type: text/plain
07:39:30.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Content-Length: 27
07:39:30.530 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.530 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.530 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:30.530 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:34653
07:39:30.531 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34500&lt;-&gt;127.0.0.1:34653
07:39:30.531 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.531 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.532 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.532 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34653
07:39:30.532 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.532 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.532 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; POST /digest HTTP/1.1
07:39:30.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Content-Length: 30
07:39:30.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Host: localhost:34653
07:39:30.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Connection: Keep-Alive
07:39:30.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Host: localhost:34653[\r][\n]&quot;
07:39:30.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.533 [XNIO-85 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]} response {}}
07:39:30.533 [XNIO-85 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.533 [XNIO-85 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1827824b for /digest
07:39:30.533 [XNIO-85 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]} response {}}
07:39:30.533 [XNIO-85 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Connection: keep-alive
07:39:30.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Content-Length: 0
07:39:30.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.533 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34653 requested authentication
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:30.534 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; POST /digest HTTP/1.1
07:39:30.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Content-Length: 30
07:39:30.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Host: localhost:34653
07:39:30.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Connection: Keep-Alive
07:39:30.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;, uri=&quot;/digest&quot;, response=&quot;dc38a7b5bb657131f9b38c2f265ca8c5&quot;, qop=auth, nc=00000001, cnonce=&quot;234a30432327dceb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Host: localhost:34653[\r][\n]&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;, uri=&quot;/digest&quot;, response=&quot;dc38a7b5bb657131f9b38c2f265ca8c5&quot;, qop=auth, nc=00000001, cnonce=&quot;234a30432327dceb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.535 [XNIO-85 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;, uri=&quot;/digest&quot;, response=&quot;dc38a7b5bb657131f9b38c2f265ca8c5&quot;, qop=auth, nc=00000001, cnonce=&quot;234a30432327dceb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]} response {}}
07:39:30.535 [XNIO-85 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.535 [XNIO-85 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;, uri=&quot;/digest&quot;, response=&quot;dc38a7b5bb657131f9b38c2f265ca8c5&quot;, qop=auth, nc=00000001, cnonce=&quot;234a30432327dceb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;, uri=&quot;/digest&quot;, response=&quot;dc38a7b5bb657131f9b38c2f265ca8c5&quot;, qop=auth, nc=00000001, cnonce=&quot;234a30432327dceb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]} response {}}
07:39:30.535 [XNIO-85 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:30.535 [XNIO-85 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1827824b for /digest
07:39:30.535 [XNIO-85 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:30.536 [XNIO-85 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;, uri=&quot;/digest&quot;, response=&quot;dc38a7b5bb657131f9b38c2f265ca8c5&quot;, qop=auth, nc=00000001, cnonce=&quot;234a30432327dceb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.536 [XNIO-85 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e55913efada36de56b04f3977ed79271&quot;,cnonce=&quot;234a30432327dceb&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
07:39:30.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e55913efada36de56b04f3977ed79271&quot;,cnonce=&quot;234a30432327dceb&quot;,nc=00000001[\r][\n]&quot;
07:39:30.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-84 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; HTTP/1.1 200 OK
07:39:30.537 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Content-Encoding: gzip
07:39:30.537 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Connection: keep-alive
07:39:30.537 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Authentication-Info: nextnonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e55913efada36de56b04f3977ed79271&quot;,cnonce=&quot;234a30432327dceb&quot;,nc=00000001
07:39:30.537 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Content-Type: text/plain
07:39:30.537 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Content-Length: 27
07:39:30.537 [Test worker] DEBUG org.apache.http.headers - http-outgoing-84 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.537 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.537 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:30.537 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:34653
07:39:30.537 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34500&lt;-&gt;127.0.0.1:34653
07:39:30.537 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.537 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6efb8a2b
07:39:30.539 [XNIO-85 task-4] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;, uri=&quot;/digest&quot;, response=&quot;dc38a7b5bb657131f9b38c2f265ca8c5&quot;, qop=auth, nc=00000001, cnonce=&quot;234a30432327dceb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34653]} response {Content-Encoding=[gzip], Connection=[keep-alive], Authentication-Info=[nextnonce=&quot;TEbM7AsO6hENMTUwNzg5ODM3MDUzM4S+FDqPsQ+nFNl36R0RIG4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e55913efada36de56b04f3977ed79271&quot;,cnonce=&quot;234a30432327dceb&quot;,nc=00000001], Content-Type=[text/plain], Content-Length=[27], Date=[Fri, 13 Oct 2017 12:39:23 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
07:39:30.541 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@233ed4eb
07:39:30.542 [XNIO-86 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-86 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3e08cd3b
07:39:30.543 [XNIO-86 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-86 I/O-2', selector sun.nio.ch.EPollSelectorImpl@49a77a83
07:39:30.544 [XNIO-86 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-86 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6c2e4c0e
07:39:30.544 [XNIO-86 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-86 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1a8e3554
07:39:30.544 [XNIO-86 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-86 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2bdcdc75
07:39:30.545 [XNIO-86 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-86 I/O-6', selector sun.nio.ch.EPollSelectorImpl@39a1668f
07:39:30.545 [XNIO-86 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-86 I/O-7', selector sun.nio.ch.EPollSelectorImpl@60b45c44
07:39:30.545 [XNIO-86 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-86 I/O-8', selector sun.nio.ch.EPollSelectorImpl@38f08a92
07:39:30.545 [XNIO-86 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-86 Accept', selector sun.nio.ch.EPollSelectorImpl@18d106ab
07:39:30.545 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.545 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.547 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.547 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.547 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:38479
07:39:30.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:38479
07:39:30.547 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38479
07:39:30.547 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:38479 with timeout 0
07:39:30.547 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:30.547 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:30.548 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:30.561 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:30.561 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:30.561 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:30.561 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.561 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.561 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48990&lt;-&gt;127.0.0.1:38479
07:39:30.561 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.561 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.561 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; POST /digest HTTP/1.1
07:39:30.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Content-Length: 30
07:39:30.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Host: localhost:38479
07:39:30.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Connection: Keep-Alive
07:39:30.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Host: localhost:38479[\r][\n]&quot;
07:39:30.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.562 [XNIO-86 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]} response {}}
07:39:30.562 [XNIO-86 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.562 [XNIO-86 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@29b17256 for /digest
07:39:30.562 [XNIO-86 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]} response {}}
07:39:30.562 [XNIO-86 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.562 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Connection: keep-alive
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Content-Length: 0
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38479 requested authentication
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:30.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; POST /digest HTTP/1.1
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Content-Length: 30
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Host: localhost:38479
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Connection: Keep-Alive
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;, uri=&quot;/digest&quot;, response=&quot;8f0d465410bf5e61d1a179e5ae7a7cd1&quot;, qop=auth, nc=00000001, cnonce=&quot;fe43f5bebb3f3bcc&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Host: localhost:38479[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;, uri=&quot;/digest&quot;, response=&quot;8f0d465410bf5e61d1a179e5ae7a7cd1&quot;, qop=auth, nc=00000001, cnonce=&quot;fe43f5bebb3f3bcc&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.566 [XNIO-86 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;, uri=&quot;/digest&quot;, response=&quot;8f0d465410bf5e61d1a179e5ae7a7cd1&quot;, qop=auth, nc=00000001, cnonce=&quot;fe43f5bebb3f3bcc&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]} response {}}
07:39:30.566 [XNIO-86 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.566 [XNIO-86 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;, uri=&quot;/digest&quot;, response=&quot;8f0d465410bf5e61d1a179e5ae7a7cd1&quot;, qop=auth, nc=00000001, cnonce=&quot;fe43f5bebb3f3bcc&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;, uri=&quot;/digest&quot;, response=&quot;8f0d465410bf5e61d1a179e5ae7a7cd1&quot;, qop=auth, nc=00000001, cnonce=&quot;fe43f5bebb3f3bcc&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]} response {}}
07:39:30.566 [XNIO-86 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:30.566 [XNIO-86 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@29b17256 for /digest
07:39:30.566 [XNIO-86 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:30.566 [XNIO-86 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;, uri=&quot;/digest&quot;, response=&quot;8f0d465410bf5e61d1a179e5ae7a7cd1&quot;, qop=auth, nc=00000001, cnonce=&quot;fe43f5bebb3f3bcc&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.567 [XNIO-86 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;,qop=&quot;auth&quot;,rspauth=&quot;58d761d2ef093728c72a4a18429f3be5&quot;,cnonce=&quot;fe43f5bebb3f3bcc&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
07:39:30.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;,qop=&quot;auth&quot;,rspauth=&quot;58d761d2ef093728c72a4a18429f3be5&quot;,cnonce=&quot;fe43f5bebb3f3bcc&quot;,nc=00000001[\r][\n]&quot;
07:39:30.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; HTTP/1.1 200 OK
07:39:30.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Content-Encoding: gzip
07:39:30.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Connection: keep-alive
07:39:30.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Authentication-Info: nextnonce=&quot;Gk06TAzu+34NMTUwNzg5ODM3MDU2MrJwRcVXsrhKX0IBxwhJpJ0=&quot;,qop=&quot;auth&quot;,rspauth=&quot;58d761d2ef093728c72a4a18429f3be5&quot;,cnonce=&quot;fe43f5bebb3f3bcc&quot;,nc=00000001
07:39:30.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Content-Type: text/plain
07:39:30.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Content-Length: 27
07:39:30.568 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.568 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.568 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:30.568 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:38479
07:39:30.568 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48990&lt;-&gt;127.0.0.1:38479
07:39:30.568 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.569 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.569 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.569 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:38479
07:39:30.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; POST /digest HTTP/1.1
07:39:30.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Content-Length: 30
07:39:30.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Host: localhost:38479
07:39:30.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Connection: Keep-Alive
07:39:30.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Host: localhost:38479[\r][\n]&quot;
07:39:30.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.570 [XNIO-86 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]} response {}}
07:39:30.570 [XNIO-86 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.570 [XNIO-86 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@29b17256 for /digest
07:39:30.570 [XNIO-86 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]} response {}}
07:39:30.570 [XNIO-86 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Connection: keep-alive
07:39:30.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Content-Length: 0
07:39:30.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.570 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38479 requested authentication
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:30.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; POST /digest HTTP/1.1
07:39:30.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Content-Length: 30
07:39:30.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Host: localhost:38479
07:39:30.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Connection: Keep-Alive
07:39:30.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;, uri=&quot;/digest&quot;, response=&quot;7abd654d69a17e1dc2e4d38d680356cb&quot;, qop=auth, nc=00000001, cnonce=&quot;10c69a4c9646afc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Host: localhost:38479[\r][\n]&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;, uri=&quot;/digest&quot;, response=&quot;7abd654d69a17e1dc2e4d38d680356cb&quot;, qop=auth, nc=00000001, cnonce=&quot;10c69a4c9646afc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.572 [XNIO-86 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;, uri=&quot;/digest&quot;, response=&quot;7abd654d69a17e1dc2e4d38d680356cb&quot;, qop=auth, nc=00000001, cnonce=&quot;10c69a4c9646afc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]} response {}}
07:39:30.572 [XNIO-86 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.572 [XNIO-86 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;, uri=&quot;/digest&quot;, response=&quot;7abd654d69a17e1dc2e4d38d680356cb&quot;, qop=auth, nc=00000001, cnonce=&quot;10c69a4c9646afc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;, uri=&quot;/digest&quot;, response=&quot;7abd654d69a17e1dc2e4d38d680356cb&quot;, qop=auth, nc=00000001, cnonce=&quot;10c69a4c9646afc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]} response {}}
07:39:30.573 [XNIO-86 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
07:39:30.573 [XNIO-86 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@29b17256 for /digest
07:39:30.573 [XNIO-86 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
07:39:30.573 [XNIO-86 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;, uri=&quot;/digest&quot;, response=&quot;7abd654d69a17e1dc2e4d38d680356cb&quot;, qop=auth, nc=00000001, cnonce=&quot;10c69a4c9646afc5&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38479]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.573 [XNIO-86 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;,qop=&quot;auth&quot;,rspauth=&quot;5334e9b54c5d04215695a18d710c7f76&quot;,cnonce=&quot;10c69a4c9646afc5&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
07:39:30.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;,qop=&quot;auth&quot;,rspauth=&quot;5334e9b54c5d04215695a18d710c7f76&quot;,cnonce=&quot;10c69a4c9646afc5&quot;,nc=00000001[\r][\n]&quot;
07:39:30.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-85 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; HTTP/1.1 200 OK
07:39:30.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Content-Encoding: gzip
07:39:30.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Connection: keep-alive
07:39:30.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Authentication-Info: nextnonce=&quot;x02fFQ0BBNQNMTUwNzg5ODM3MDU3MMIyOWnrNFF9le/cjPsIfqs=&quot;,qop=&quot;auth&quot;,rspauth=&quot;5334e9b54c5d04215695a18d710c7f76&quot;,cnonce=&quot;10c69a4c9646afc5&quot;,nc=00000001
07:39:30.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Content-Type: text/plain
07:39:30.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Content-Length: 27
07:39:30.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-85 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.574 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.574 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
07:39:30.574 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:38479
07:39:30.575 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48990&lt;-&gt;127.0.0.1:38479
07:39:30.575 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.575 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@233ed4eb
07:39:30.581 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6852e4b8
07:39:30.583 [XNIO-87 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-87 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5fe93d95
07:39:30.583 [XNIO-87 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-87 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2405f90d
07:39:30.584 [XNIO-87 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-87 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4295148a
07:39:30.583 [XNIO-87 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-87 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1f4a8a2
07:39:30.588 [XNIO-87 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-87 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4c0b4e85
07:39:30.588 [XNIO-87 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-87 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5d5fbc18
07:39:30.589 [XNIO-87 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-87 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6e4b0126
07:39:30.589 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.589 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.589 [XNIO-87 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-87 I/O-7', selector sun.nio.ch.EPollSelectorImpl@61d3d9be
07:39:30.589 [XNIO-87 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-87 Accept', selector sun.nio.ch.EPollSelectorImpl@509c3b4a
07:39:30.594 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.594 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.594 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41249
07:39:30.594 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41249
07:39:30.594 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41249
07:39:30.594 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49202&lt;-&gt;127.0.0.1:41249
07:39:30.595 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.595 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.595 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; POST /digest HTTP/1.1
07:39:30.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Content-Length: 30
07:39:30.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Host: localhost:41249
07:39:30.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Connection: Keep-Alive
07:39:30.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Host: localhost:41249[\r][\n]&quot;
07:39:30.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.604 [XNIO-87 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.604 [XNIO-87 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.605 [XNIO-87 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6e985c42 for /digest
07:39:30.605 [XNIO-87 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.605 [XNIO-87 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;wgga12x2HWANMTUwNzg5ODM3MDYwNY/Q2U6Teg3lW/hBjrI5vYc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Connection: keep-alive
07:39:30.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;wgga12x2HWANMTUwNzg5ODM3MDYwNY/Q2U6Teg3lW/hBjrI5vYc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Content-Length: 0
07:39:30.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41249 requested authentication
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:30.606 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; POST /digest HTTP/1.1
07:39:30.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Content-Length: 30
07:39:30.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Host: localhost:41249
07:39:30.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Connection: Keep-Alive
07:39:30.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wgga12x2HWANMTUwNzg5ODM3MDYwNY/Q2U6Teg3lW/hBjrI5vYc=&quot;, uri=&quot;/digest&quot;, response=&quot;fde090222bef4d0f610e8c04cedb60f8&quot;, qop=auth, nc=00000001, cnonce=&quot;bac3d5be4ea8f33c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Host: localhost:41249[\r][\n]&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wgga12x2HWANMTUwNzg5ODM3MDYwNY/Q2U6Teg3lW/hBjrI5vYc=&quot;, uri=&quot;/digest&quot;, response=&quot;fde090222bef4d0f610e8c04cedb60f8&quot;, qop=auth, nc=00000001, cnonce=&quot;bac3d5be4ea8f33c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.610 [XNIO-87 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wgga12x2HWANMTUwNzg5ODM3MDYwNY/Q2U6Teg3lW/hBjrI5vYc=&quot;, uri=&quot;/digest&quot;, response=&quot;fde090222bef4d0f610e8c04cedb60f8&quot;, qop=auth, nc=00000001, cnonce=&quot;bac3d5be4ea8f33c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.610 [XNIO-87 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.610 [XNIO-87 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wgga12x2HWANMTUwNzg5ODM3MDYwNY/Q2U6Teg3lW/hBjrI5vYc=&quot;, uri=&quot;/digest&quot;, response=&quot;fde090222bef4d0f610e8c04cedb60f8&quot;, qop=auth, nc=00000001, cnonce=&quot;bac3d5be4ea8f33c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wgga12x2HWANMTUwNzg5ODM3MDYwNY/Q2U6Teg3lW/hBjrI5vYc=&quot;, uri=&quot;/digest&quot;, response=&quot;fde090222bef4d0f610e8c04cedb60f8&quot;, qop=auth, nc=00000001, cnonce=&quot;bac3d5be4ea8f33c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.611 [XNIO-87 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wgga12x2HWANMTUwNzg5ODM3MDYwNY/Q2U6Teg3lW/hBjrI5vYc=&quot;, uri=&quot;/digest&quot;, response=&quot;fde090222bef4d0f610e8c04cedb60f8&quot;, qop=auth, nc=00000001, cnonce=&quot;bac3d5be4ea8f33c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.611 [XNIO-87 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6e985c42 for /digest
07:39:30.611 [XNIO-87 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wgga12x2HWANMTUwNzg5ODM3MDYwNY/Q2U6Teg3lW/hBjrI5vYc=&quot;, uri=&quot;/digest&quot;, response=&quot;fde090222bef4d0f610e8c04cedb60f8&quot;, qop=auth, nc=00000001, cnonce=&quot;bac3d5be4ea8f33c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.611 [XNIO-87 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;xghxSw1kSBQNMTUwNzg5ODM3MDYxMbdsojx0QpaLtO7ueuVxZr0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Connection: keep-alive
07:39:30.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;xghxSw1kSBQNMTUwNzg5ODM3MDYxMbdsojx0QpaLtO7ueuVxZr0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Content-Length: 0
07:39:30.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.611 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.611 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.611 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41249 requested authentication
07:39:30.611 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:30.611 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:30.611 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49202&lt;-&gt;127.0.0.1:41249
07:39:30.612 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.613 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.613 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.613 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41249
07:39:30.613 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.613 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.613 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.613 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; POST /digest HTTP/1.1
07:39:30.613 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.613 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Content-Length: 30
07:39:30.613 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Host: localhost:41249
07:39:30.613 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Connection: Keep-Alive
07:39:30.613 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.613 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.613 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.613 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.613 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.613 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Host: localhost:41249[\r][\n]&quot;
07:39:30.613 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.613 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.613 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.613 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.613 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.616 [XNIO-87 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.617 [XNIO-87 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.617 [XNIO-87 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6e985c42 for /digest
07:39:30.617 [XNIO-87 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.618 [XNIO-87 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;F4Hj/5u9Ln0NMTUwNzg5ODM3MDYxN+PDsA05Zx92EtT3lxnA0sU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Connection: keep-alive
07:39:30.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;F4Hj/5u9Ln0NMTUwNzg5ODM3MDYxN+PDsA05Zx92EtT3lxnA0sU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Content-Length: 0
07:39:30.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.618 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.618 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.618 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41249 requested authentication
07:39:30.618 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.618 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.618 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.619 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.619 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:30.619 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:30.619 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.619 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.619 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:30.619 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; POST /digest HTTP/1.1
07:39:30.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Content-Length: 30
07:39:30.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Host: localhost:41249
07:39:30.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Connection: Keep-Alive
07:39:30.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;F4Hj/5u9Ln0NMTUwNzg5ODM3MDYxN+PDsA05Zx92EtT3lxnA0sU=&quot;, uri=&quot;/digest&quot;, response=&quot;3fa30295ada3ab1fb845ddf8cf940fe2&quot;, qop=auth, nc=00000001, cnonce=&quot;c6be7cc0cbda5140&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Host: localhost:41249[\r][\n]&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;F4Hj/5u9Ln0NMTUwNzg5ODM3MDYxN+PDsA05Zx92EtT3lxnA0sU=&quot;, uri=&quot;/digest&quot;, response=&quot;3fa30295ada3ab1fb845ddf8cf940fe2&quot;, qop=auth, nc=00000001, cnonce=&quot;c6be7cc0cbda5140&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.624 [XNIO-87 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;F4Hj/5u9Ln0NMTUwNzg5ODM3MDYxN+PDsA05Zx92EtT3lxnA0sU=&quot;, uri=&quot;/digest&quot;, response=&quot;3fa30295ada3ab1fb845ddf8cf940fe2&quot;, qop=auth, nc=00000001, cnonce=&quot;c6be7cc0cbda5140&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.624 [XNIO-87 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.624 [XNIO-87 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;F4Hj/5u9Ln0NMTUwNzg5ODM3MDYxN+PDsA05Zx92EtT3lxnA0sU=&quot;, uri=&quot;/digest&quot;, response=&quot;3fa30295ada3ab1fb845ddf8cf940fe2&quot;, qop=auth, nc=00000001, cnonce=&quot;c6be7cc0cbda5140&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;F4Hj/5u9Ln0NMTUwNzg5ODM3MDYxN+PDsA05Zx92EtT3lxnA0sU=&quot;, uri=&quot;/digest&quot;, response=&quot;3fa30295ada3ab1fb845ddf8cf940fe2&quot;, qop=auth, nc=00000001, cnonce=&quot;c6be7cc0cbda5140&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.624 [XNIO-87 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;F4Hj/5u9Ln0NMTUwNzg5ODM3MDYxN+PDsA05Zx92EtT3lxnA0sU=&quot;, uri=&quot;/digest&quot;, response=&quot;3fa30295ada3ab1fb845ddf8cf940fe2&quot;, qop=auth, nc=00000001, cnonce=&quot;c6be7cc0cbda5140&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.624 [XNIO-87 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6e985c42 for /digest
07:39:30.624 [XNIO-87 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;F4Hj/5u9Ln0NMTUwNzg5ODM3MDYxN+PDsA05Zx92EtT3lxnA0sU=&quot;, uri=&quot;/digest&quot;, response=&quot;3fa30295ada3ab1fb845ddf8cf940fe2&quot;, qop=auth, nc=00000001, cnonce=&quot;c6be7cc0cbda5140&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41249]} response {}}
07:39:30.624 [XNIO-87 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;xGOuGooCRmwNMTUwNzg5ODM3MDYyNJjyANB+Yy31eDJJZpB5tos=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-86 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Connection: keep-alive
07:39:30.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;xGOuGooCRmwNMTUwNzg5ODM3MDYyNJjyANB+Yy31eDJJZpB5tos=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Content-Length: 0
07:39:30.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-86 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.625 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.625 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.625 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41249 requested authentication
07:39:30.625 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:30.625 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:30.625 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49202&lt;-&gt;127.0.0.1:41249
07:39:30.625 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.626 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6852e4b8
07:39:30.630 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@28a8a428
07:39:30.631 [XNIO-88 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-88 I/O-1', selector sun.nio.ch.EPollSelectorImpl@79661e95
07:39:30.631 [XNIO-87 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.server.HttpServerExchange$DefaultBlockingHttpExchange.close(HttpServerExchange.java:1890)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1599)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:55)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 19 common frames omitted
07:39:30.632 [XNIO-88 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-88 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1706602e
07:39:30.635 [XNIO-88 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-88 I/O-3', selector sun.nio.ch.EPollSelectorImpl@159da990
07:39:30.636 [XNIO-88 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-88 I/O-4', selector sun.nio.ch.EPollSelectorImpl@782adb32
07:39:30.640 [XNIO-88 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-88 I/O-5', selector sun.nio.ch.EPollSelectorImpl@59444944
07:39:30.640 [XNIO-88 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-88 I/O-6', selector sun.nio.ch.EPollSelectorImpl@25f85226
07:39:30.640 [XNIO-88 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-88 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6f0c5f35
07:39:30.641 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.641 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.641 [XNIO-88 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-88 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2b934b43
07:39:30.642 [XNIO-88 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-88 Accept', selector sun.nio.ch.EPollSelectorImpl@7309f6d0
07:39:30.643 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.643 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.643 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34953
07:39:30.643 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:34953
07:39:30.643 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34953
07:39:30.643 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:34953 with timeout 0
07:39:30.643 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:30.644 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:30.644 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:30.670 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:30.670 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:30.670 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:30.670 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.670 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:30.670 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59574&lt;-&gt;127.0.0.1:34953
07:39:30.670 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.670 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.670 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; POST /digest HTTP/1.1
07:39:30.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Content-Length: 30
07:39:30.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Host: localhost:34953
07:39:30.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Connection: Keep-Alive
07:39:30.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.670 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Host: localhost:34953[\r][\n]&quot;
07:39:30.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.670 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.671 [XNIO-88 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.671 [XNIO-88 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.671 [XNIO-88 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@36483ee1 for /digest
07:39:30.671 [XNIO-88 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.671 [XNIO-88 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;6OE2MmC8s6ANMTUwNzg5ODM3MDY3MS8FHwKKMqchvdBH7rh856I=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Connection: keep-alive
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;6OE2MmC8s6ANMTUwNzg5ODM3MDY3MS8FHwKKMqchvdBH7rh856I=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Content-Length: 0
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34953 requested authentication
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:30.672 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; POST /digest HTTP/1.1
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Content-Length: 30
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Host: localhost:34953
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Connection: Keep-Alive
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6OE2MmC8s6ANMTUwNzg5ODM3MDY3MS8FHwKKMqchvdBH7rh856I=&quot;, uri=&quot;/digest&quot;, response=&quot;2d975979251aa1f058765fa06477bcaa&quot;, qop=auth, nc=00000001, cnonce=&quot;a5f8fd7a1caae6de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Host: localhost:34953[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6OE2MmC8s6ANMTUwNzg5ODM3MDY3MS8FHwKKMqchvdBH7rh856I=&quot;, uri=&quot;/digest&quot;, response=&quot;2d975979251aa1f058765fa06477bcaa&quot;, qop=auth, nc=00000001, cnonce=&quot;a5f8fd7a1caae6de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.672 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.673 [XNIO-88 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6OE2MmC8s6ANMTUwNzg5ODM3MDY3MS8FHwKKMqchvdBH7rh856I=&quot;, uri=&quot;/digest&quot;, response=&quot;2d975979251aa1f058765fa06477bcaa&quot;, qop=auth, nc=00000001, cnonce=&quot;a5f8fd7a1caae6de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.673 [XNIO-88 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.673 [XNIO-88 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6OE2MmC8s6ANMTUwNzg5ODM3MDY3MS8FHwKKMqchvdBH7rh856I=&quot;, uri=&quot;/digest&quot;, response=&quot;2d975979251aa1f058765fa06477bcaa&quot;, qop=auth, nc=00000001, cnonce=&quot;a5f8fd7a1caae6de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6OE2MmC8s6ANMTUwNzg5ODM3MDY3MS8FHwKKMqchvdBH7rh856I=&quot;, uri=&quot;/digest&quot;, response=&quot;2d975979251aa1f058765fa06477bcaa&quot;, qop=auth, nc=00000001, cnonce=&quot;a5f8fd7a1caae6de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.674 [XNIO-88 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6OE2MmC8s6ANMTUwNzg5ODM3MDY3MS8FHwKKMqchvdBH7rh856I=&quot;, uri=&quot;/digest&quot;, response=&quot;2d975979251aa1f058765fa06477bcaa&quot;, qop=auth, nc=00000001, cnonce=&quot;a5f8fd7a1caae6de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.674 [XNIO-88 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@36483ee1 for /digest
07:39:30.674 [XNIO-88 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6OE2MmC8s6ANMTUwNzg5ODM3MDY3MS8FHwKKMqchvdBH7rh856I=&quot;, uri=&quot;/digest&quot;, response=&quot;2d975979251aa1f058765fa06477bcaa&quot;, qop=auth, nc=00000001, cnonce=&quot;a5f8fd7a1caae6de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.674 [XNIO-88 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.674 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.674 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.674 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;nCleZOw1wNYNMTUwNzg5ODM3MDY3NMAxWrK67c32Cgf2fyDrPXA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.674 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.674 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.674 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.674 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.674 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Connection: keep-alive
07:39:30.674 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;nCleZOw1wNYNMTUwNzg5ODM3MDY3NMAxWrK67c32Cgf2fyDrPXA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.674 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Content-Length: 0
07:39:30.674 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.674 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.674 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.674 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34953 requested authentication
07:39:30.674 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:30.674 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:30.674 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59574&lt;-&gt;127.0.0.1:34953
07:39:30.674 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.675 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.675 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.675 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34953
07:39:30.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; POST /digest HTTP/1.1
07:39:30.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Content-Length: 30
07:39:30.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Host: localhost:34953
07:39:30.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Connection: Keep-Alive
07:39:30.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Host: localhost:34953[\r][\n]&quot;
07:39:30.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.676 [XNIO-88 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.677 [XNIO-88 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.677 [XNIO-88 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@36483ee1 for /digest
07:39:30.677 [XNIO-88 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.677 [XNIO-88 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;EvizF9Ba4poNMTUwNzg5ODM3MDY3NwuuroR/bjZ7EKur4fZ3a5c=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Connection: keep-alive
07:39:30.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;EvizF9Ba4poNMTUwNzg5ODM3MDY3NwuuroR/bjZ7EKur4fZ3a5c=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Content-Length: 0
07:39:30.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34953 requested authentication
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
07:39:30.677 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
07:39:30.678 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; POST /digest HTTP/1.1
07:39:30.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Content-Length: 30
07:39:30.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Host: localhost:34953
07:39:30.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Connection: Keep-Alive
07:39:30.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EvizF9Ba4poNMTUwNzg5ODM3MDY3NwuuroR/bjZ7EKur4fZ3a5c=&quot;, uri=&quot;/digest&quot;, response=&quot;16377c591d2a1da609ecf1dc7a2906fa&quot;, qop=auth, nc=00000001, cnonce=&quot;2eea954070114a91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Host: localhost:34953[\r][\n]&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EvizF9Ba4poNMTUwNzg5ODM3MDY3NwuuroR/bjZ7EKur4fZ3a5c=&quot;, uri=&quot;/digest&quot;, response=&quot;16377c591d2a1da609ecf1dc7a2906fa&quot;, qop=auth, nc=00000001, cnonce=&quot;2eea954070114a91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.679 [XNIO-88 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EvizF9Ba4poNMTUwNzg5ODM3MDY3NwuuroR/bjZ7EKur4fZ3a5c=&quot;, uri=&quot;/digest&quot;, response=&quot;16377c591d2a1da609ecf1dc7a2906fa&quot;, qop=auth, nc=00000001, cnonce=&quot;2eea954070114a91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.679 [XNIO-88 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
07:39:30.679 [XNIO-88 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EvizF9Ba4poNMTUwNzg5ODM3MDY3NwuuroR/bjZ7EKur4fZ3a5c=&quot;, uri=&quot;/digest&quot;, response=&quot;16377c591d2a1da609ecf1dc7a2906fa&quot;, qop=auth, nc=00000001, cnonce=&quot;2eea954070114a91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EvizF9Ba4poNMTUwNzg5ODM3MDY3NwuuroR/bjZ7EKur4fZ3a5c=&quot;, uri=&quot;/digest&quot;, response=&quot;16377c591d2a1da609ecf1dc7a2906fa&quot;, qop=auth, nc=00000001, cnonce=&quot;2eea954070114a91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.679 [XNIO-88 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EvizF9Ba4poNMTUwNzg5ODM3MDY3NwuuroR/bjZ7EKur4fZ3a5c=&quot;, uri=&quot;/digest&quot;, response=&quot;16377c591d2a1da609ecf1dc7a2906fa&quot;, qop=auth, nc=00000001, cnonce=&quot;2eea954070114a91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.679 [XNIO-88 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@36483ee1 for /digest
07:39:30.679 [XNIO-88 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;EvizF9Ba4poNMTUwNzg5ODM3MDY3NwuuroR/bjZ7EKur4fZ3a5c=&quot;, uri=&quot;/digest&quot;, response=&quot;16377c591d2a1da609ecf1dc7a2906fa&quot;, qop=auth, nc=00000001, cnonce=&quot;2eea954070114a91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34953]} response {}}
07:39:30.679 [XNIO-88 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
07:39:30.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
07:39:30.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;7qMcSB1m/pINMTUwNzg5ODM3MDY3OSkXBoroU2BcVGGHceFs+kw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
07:39:30.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-87 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; HTTP/1.1 401 Unauthorized
07:39:30.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Connection: keep-alive
07:39:30.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;7qMcSB1m/pINMTUwNzg5ODM3MDY3OSkXBoroU2BcVGGHceFs+kw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
07:39:30.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Content-Length: 0
07:39:30.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-87 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.680 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
07:39:30.680 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34953 requested authentication
07:39:30.680 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
07:39:30.680 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
07:39:30.680 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59574&lt;-&gt;127.0.0.1:34953
07:39:30.680 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.681 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@28a8a428
07:39:30.686 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3c9422cd
07:39:30.692 [XNIO-89 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-89 I/O-2', selector sun.nio.ch.EPollSelectorImpl@34714a04
07:39:30.692 [XNIO-89 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-89 I/O-1', selector sun.nio.ch.EPollSelectorImpl@14f2bc4a
07:39:30.692 [XNIO-89 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-89 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4976b6e6
07:39:30.692 [XNIO-89 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-89 I/O-4', selector sun.nio.ch.EPollSelectorImpl@59a32075
07:39:30.692 [XNIO-89 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-89 I/O-5', selector sun.nio.ch.EPollSelectorImpl@162ddb4f
07:39:30.692 [XNIO-89 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-89 I/O-6', selector sun.nio.ch.EPollSelectorImpl@483b5313
07:39:30.693 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.693 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.693 [XNIO-89 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-89 Accept', selector sun.nio.ch.EPollSelectorImpl@7eb0d71a
07:39:30.693 [XNIO-89 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-89 I/O-7', selector sun.nio.ch.EPollSelectorImpl@14cc25d3
07:39:30.693 [XNIO-89 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-89 I/O-8', selector sun.nio.ch.EPollSelectorImpl@626c393b
07:39:30.700 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.700 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.700 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35829
07:39:30.700 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35829
07:39:30.700 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35829
07:39:30.700 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35856&lt;-&gt;127.0.0.1:35829
07:39:30.701 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /pass HTTP/1.1
07:39:30.701 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.701 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; POST /pass HTTP/1.1
07:39:30.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Content-Length: 30
07:39:30.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Host: localhost:35829
07:39:30.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Connection: Keep-Alive
07:39:30.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;POST /pass HTTP/1.1[\r][\n]&quot;
07:39:30.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Host: localhost:35829[\r][\n]&quot;
07:39:30.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.701 [XNIO-89 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35829]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.702 [XNIO-89 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:30.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.702 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; HTTP/1.1 200 OK
07:39:30.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Content-Encoding: gzip
07:39:30.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Connection: keep-alive
07:39:30.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Content-Type: text/plain
07:39:30.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Content-Length: 27
07:39:30.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.702 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.703 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35856&lt;-&gt;127.0.0.1:35829
07:39:30.703 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.703 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.703 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.703 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35829
07:39:30.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /pass HTTP/1.1
07:39:30.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; POST /pass HTTP/1.1
07:39:30.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Content-Length: 30
07:39:30.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Host: localhost:35829
07:39:30.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Connection: Keep-Alive
07:39:30.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;POST /pass HTTP/1.1[\r][\n]&quot;
07:39:30.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Host: localhost:35829[\r][\n]&quot;
07:39:30.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.705 [XNIO-89 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35829]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.705 [XNIO-89 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:30.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:30.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:30.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:30.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-88 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:30.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; HTTP/1.1 200 OK
07:39:30.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Content-Encoding: gzip
07:39:30.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Connection: keep-alive
07:39:30.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Content-Type: text/plain
07:39:30.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Content-Length: 27
07:39:30.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-88 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.706 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.706 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35856&lt;-&gt;127.0.0.1:35829
07:39:30.706 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.707 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3c9422cd
07:39:30.712 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@54206cda
07:39:30.714 [XNIO-90 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-90 I/O-2', selector sun.nio.ch.EPollSelectorImpl@264de67b
07:39:30.714 [XNIO-90 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-90 I/O-7', selector sun.nio.ch.EPollSelectorImpl@67eeee4d
07:39:30.716 [XNIO-90 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-90 I/O-8', selector sun.nio.ch.EPollSelectorImpl@972417e
07:39:30.714 [XNIO-90 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-90 I/O-3', selector sun.nio.ch.EPollSelectorImpl@62c28c51
07:39:30.714 [XNIO-90 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-90 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7cab09e2
07:39:30.714 [XNIO-90 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-90 I/O-1', selector sun.nio.ch.EPollSelectorImpl@150120b
07:39:30.714 [XNIO-90 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-90 I/O-4', selector sun.nio.ch.EPollSelectorImpl@14fdd058
07:39:30.714 [XNIO-90 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-90 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7b9126
07:39:30.716 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.716 [XNIO-90 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-90 Accept', selector sun.nio.ch.EPollSelectorImpl@939f749
07:39:30.717 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.723 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.723 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.723 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33457
07:39:30.724 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33457
07:39:30.724 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33457
07:39:30.724 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49390&lt;-&gt;127.0.0.1:33457
07:39:30.724 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.724 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.724 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; POST /handling HTTP/1.1
07:39:30.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Content-Length: 30
07:39:30.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Host: localhost:33457
07:39:30.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Connection: Keep-Alive
07:39:30.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Host: localhost:33457[\r][\n]&quot;
07:39:30.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.725 [XNIO-90 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33457]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.726 [XNIO-90 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:30.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:30.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &lt;&lt; Connection: keep-alive
07:39:30.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &lt;&lt; Content-Length: 0
07:39:30.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.726 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.726 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49390&lt;-&gt;127.0.0.1:33457
07:39:30.726 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.727 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.727 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.727 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33457
07:39:30.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; POST /handling HTTP/1.1
07:39:30.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Content-Length: 30
07:39:30.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Host: localhost:33457
07:39:30.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Connection: Keep-Alive
07:39:30.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Host: localhost:33457[\r][\n]&quot;
07:39:30.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.727 [XNIO-90 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33457]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.728 [XNIO-90 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:30.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-89 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:30.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &lt;&lt; Connection: keep-alive
07:39:30.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &lt;&lt; Content-Length: 0
07:39:30.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-89 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.728 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.728 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49390&lt;-&gt;127.0.0.1:33457
07:39:30.728 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.729 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@54206cda
07:39:30.731 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7663ed50
07:39:30.732 [XNIO-91 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-91 I/O-1', selector sun.nio.ch.EPollSelectorImpl@14ba00f7
07:39:30.732 [XNIO-91 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-91 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4810bf4d
07:39:30.736 [XNIO-91 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-91 I/O-5', selector sun.nio.ch.EPollSelectorImpl@763c7363
07:39:30.732 [XNIO-91 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-91 I/O-3', selector sun.nio.ch.EPollSelectorImpl@47d46fad
07:39:30.732 [XNIO-91 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-91 I/O-2', selector sun.nio.ch.EPollSelectorImpl@13343a57
07:39:30.736 [XNIO-91 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-91 I/O-6', selector sun.nio.ch.EPollSelectorImpl@142e490e
07:39:30.740 [XNIO-91 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-91 I/O-7', selector sun.nio.ch.EPollSelectorImpl@54e8903f
07:39:30.740 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.740 [XNIO-91 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-91 Accept', selector sun.nio.ch.EPollSelectorImpl@5944f478
07:39:30.740 [XNIO-91 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-91 I/O-8', selector sun.nio.ch.EPollSelectorImpl@575c07e9
07:39:30.741 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.743 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.743 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.743 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37733
07:39:30.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37733
07:39:30.743 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37733
07:39:30.743 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38002&lt;-&gt;127.0.0.1:37733
07:39:30.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; POST /handling HTTP/1.1
07:39:30.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Content-Length: 30
07:39:30.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Host: localhost:37733
07:39:30.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Connection: Keep-Alive
07:39:30.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Host: localhost:37733[\r][\n]&quot;
07:39:30.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.744 [XNIO-91 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.744 [XNIO-91 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:30.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &lt;&lt; HTTP/1.1 210 Unknown
07:39:30.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &lt;&lt; Connection: keep-alive
07:39:30.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &lt;&lt; Content-Length: 0
07:39:30.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.744 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.745 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38002&lt;-&gt;127.0.0.1:37733
07:39:30.745 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.745 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.745 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.745 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37733
07:39:30.745 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.745 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.745 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; POST /handling HTTP/1.1
07:39:30.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Content-Length: 30
07:39:30.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Host: localhost:37733
07:39:30.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Connection: Keep-Alive
07:39:30.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Host: localhost:37733[\r][\n]&quot;
07:39:30.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.746 [XNIO-91 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.746 [XNIO-91 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:30.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-90 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.747 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &lt;&lt; HTTP/1.1 210 Unknown
07:39:30.747 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &lt;&lt; Connection: keep-alive
07:39:30.747 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &lt;&lt; Content-Length: 0
07:39:30.747 [Test worker] DEBUG org.apache.http.headers - http-outgoing-90 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.747 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.747 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38002&lt;-&gt;127.0.0.1:37733
07:39:30.747 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.747 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7663ed50
07:39:30.751 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5475ba1f
07:39:30.752 [XNIO-92 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-92 I/O-1', selector sun.nio.ch.EPollSelectorImpl@467b80d9
07:39:30.756 [XNIO-92 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-92 I/O-2', selector sun.nio.ch.EPollSelectorImpl@a93f446
07:39:30.756 [XNIO-92 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-92 I/O-3', selector sun.nio.ch.EPollSelectorImpl@468f4d1f
07:39:30.756 [XNIO-92 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-92 I/O-4', selector sun.nio.ch.EPollSelectorImpl@69f9ea90
07:39:30.761 [XNIO-92 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-92 I/O-6', selector sun.nio.ch.EPollSelectorImpl@20434386
07:39:30.761 [XNIO-92 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-92 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4ca5e320
07:39:30.761 [XNIO-92 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-92 I/O-7', selector sun.nio.ch.EPollSelectorImpl@45e56416
07:39:30.762 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.762 [XNIO-92 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-92 I/O-8', selector sun.nio.ch.EPollSelectorImpl@44eba80a
07:39:30.762 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.763 [XNIO-92 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-92 Accept', selector sun.nio.ch.EPollSelectorImpl@6b3dd079
07:39:30.764 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.764 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.764 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46217
07:39:30.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46217
07:39:30.764 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46217
07:39:30.764 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39084&lt;-&gt;127.0.0.1:46217
07:39:30.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; POST /handling HTTP/1.1
07:39:30.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Content-Length: 30
07:39:30.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Host: localhost:46217
07:39:30.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Connection: Keep-Alive
07:39:30.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Host: localhost:46217[\r][\n]&quot;
07:39:30.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.766 [XNIO-92 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46217]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.766 [XNIO-92 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:30.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &lt;&lt; HTTP/1.1 211 Unknown
07:39:30.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &lt;&lt; Connection: keep-alive
07:39:30.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &lt;&lt; Content-Length: 0
07:39:30.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.767 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.767 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39084&lt;-&gt;127.0.0.1:46217
07:39:30.767 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.767 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.767 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.767 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46217
07:39:30.767 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.767 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.767 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; POST /handling HTTP/1.1
07:39:30.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Content-Length: 30
07:39:30.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Host: localhost:46217
07:39:30.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Connection: Keep-Alive
07:39:30.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.768 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.768 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.768 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.768 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Host: localhost:46217[\r][\n]&quot;
07:39:30.768 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.768 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.768 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.768 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.768 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.768 [XNIO-92 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46217]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.769 [XNIO-92 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:30.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.769 [Test worker] DEBUG org.apache.http.wire - http-outgoing-91 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &lt;&lt; HTTP/1.1 211 Unknown
07:39:30.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &lt;&lt; Connection: keep-alive
07:39:30.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &lt;&lt; Content-Length: 0
07:39:30.769 [Test worker] DEBUG org.apache.http.headers - http-outgoing-91 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.769 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.770 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39084&lt;-&gt;127.0.0.1:46217
07:39:30.770 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.770 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5475ba1f
07:39:30.880 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.880 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-84: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-63: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-62: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-68: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-67: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-66: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-65: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-64: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-73: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-72: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-71: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-70: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-69: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-91: Shutdown connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.881 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-90: Shutdown connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-89: Shutdown connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-88: Shutdown connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-87: Shutdown connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-78: Shutdown connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-77: Shutdown connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-76: Shutdown connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.882 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-75: Shutdown connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-74: Shutdown connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-82: Shutdown connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-81: Shutdown connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-80: Shutdown connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-79: Shutdown connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-86: Shutdown connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.883 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-85: Shutdown connection
07:39:30.884 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
07:39:30.884 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-83: Shutdown connection
07:39:30.884 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6241d6ae
07:39:30.885 [XNIO-93 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-93 I/O-4', selector sun.nio.ch.EPollSelectorImpl@8247312
07:39:30.885 [XNIO-93 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-93 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6a0811af
07:39:30.885 [XNIO-93 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-93 I/O-1', selector sun.nio.ch.EPollSelectorImpl@63f82845
07:39:30.886 [XNIO-93 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-93 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3ce13229
07:39:30.885 [XNIO-93 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-93 I/O-3', selector sun.nio.ch.EPollSelectorImpl@33d7eff6
07:39:30.886 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.886 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.886 [XNIO-93 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-93 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4bb1221e
07:39:30.886 [XNIO-93 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-93 I/O-8', selector sun.nio.ch.EPollSelectorImpl@72e6ad99
07:39:30.886 [XNIO-93 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-93 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2407104c
07:39:30.886 [XNIO-93 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-93 Accept', selector sun.nio.ch.EPollSelectorImpl@39032b13
07:39:30.894 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.894 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.894 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44055
07:39:30.894 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44055
07:39:30.894 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44055
07:39:30.894 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:46734&lt;-&gt;127.0.0.1:44055
07:39:30.894 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.894 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.894 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.894 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; POST /handling HTTP/1.1
07:39:30.894 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.894 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Content-Length: 30
07:39:30.894 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Host: localhost:44055
07:39:30.894 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Connection: Keep-Alive
07:39:30.894 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.894 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.894 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.894 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.894 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.894 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Host: localhost:44055[\r][\n]&quot;
07:39:30.894 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.894 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.894 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.894 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.894 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.896 [XNIO-93 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44055]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.897 [XNIO-93 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:30.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:30.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &lt;&lt; Connection: keep-alive
07:39:30.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &lt;&lt; Content-Length: 0
07:39:30.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.897 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.897 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46734&lt;-&gt;127.0.0.1:44055
07:39:30.897 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.898 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.898 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44055
07:39:30.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; POST /handling HTTP/1.1
07:39:30.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Content-Length: 30
07:39:30.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Host: localhost:44055
07:39:30.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Connection: Keep-Alive
07:39:30.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Host: localhost:44055[\r][\n]&quot;
07:39:30.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.898 [XNIO-93 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44055]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.899 [XNIO-93 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
07:39:30.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-92 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &lt;&lt; HTTP/1.1 205 Reset Content
07:39:30.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &lt;&lt; Connection: keep-alive
07:39:30.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &lt;&lt; Content-Length: 0
07:39:30.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-92 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.899 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.899 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46734&lt;-&gt;127.0.0.1:44055
07:39:30.899 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.900 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6241d6ae
07:39:30.903 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7a7e0f6b
07:39:30.904 [XNIO-94 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-94 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7ecc99b2
07:39:30.904 [XNIO-94 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-94 I/O-2', selector sun.nio.ch.EPollSelectorImpl@a426f5c
07:39:30.904 [XNIO-94 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-94 I/O-3', selector sun.nio.ch.EPollSelectorImpl@33dd7c42
07:39:30.904 [XNIO-94 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-94 I/O-4', selector sun.nio.ch.EPollSelectorImpl@31623b2d
07:39:30.905 [XNIO-94 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-94 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2e9e302a
07:39:30.905 [XNIO-94 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-94 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4603a370
07:39:30.905 [XNIO-94 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-94 I/O-8', selector sun.nio.ch.EPollSelectorImpl@184fd1f5
07:39:30.905 [XNIO-94 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-94 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3eb02388
07:39:30.908 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.908 [XNIO-94 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-94 Accept', selector sun.nio.ch.EPollSelectorImpl@52197546
07:39:30.909 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.911 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.911 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.911 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44801
07:39:30.911 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44801
07:39:30.911 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44801
07:39:30.911 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36116&lt;-&gt;127.0.0.1:44801
07:39:30.911 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.911 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.911 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; POST /handling HTTP/1.1
07:39:30.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Content-Length: 30
07:39:30.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Host: localhost:44801
07:39:30.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Connection: Keep-Alive
07:39:30.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Host: localhost:44801[\r][\n]&quot;
07:39:30.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.913 [XNIO-94 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44801]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.913 [XNIO-94 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:30.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &lt;&lt; HTTP/1.1 210 Unknown
07:39:30.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &lt;&lt; Connection: keep-alive
07:39:30.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &lt;&lt; Content-Length: 0
07:39:30.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.913 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.913 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36116&lt;-&gt;127.0.0.1:44801
07:39:30.913 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.914 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.914 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.914 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44801
07:39:30.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; POST /handling HTTP/1.1
07:39:30.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Content-Length: 30
07:39:30.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Host: localhost:44801
07:39:30.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Connection: Keep-Alive
07:39:30.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Host: localhost:44801[\r][\n]&quot;
07:39:30.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.915 [XNIO-94 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44801]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.915 [XNIO-94 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
07:39:30.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-93 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &lt;&lt; HTTP/1.1 210 Unknown
07:39:30.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &lt;&lt; Connection: keep-alive
07:39:30.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &lt;&lt; Content-Length: 0
07:39:30.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-93 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.916 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.916 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36116&lt;-&gt;127.0.0.1:44801
07:39:30.916 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.916 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7a7e0f6b
07:39:30.919 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4976ee47
07:39:30.920 [XNIO-95 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-95 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2a2e6fbc
07:39:30.920 [XNIO-95 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-95 I/O-2', selector sun.nio.ch.EPollSelectorImpl@615d6494
07:39:30.921 [XNIO-95 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-95 I/O-3', selector sun.nio.ch.EPollSelectorImpl@57fb1afd
07:39:30.924 [XNIO-95 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-95 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4c765b6
07:39:30.925 [XNIO-95 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-95 I/O-7', selector sun.nio.ch.EPollSelectorImpl@e60f13a
07:39:30.921 [XNIO-95 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-95 I/O-4', selector sun.nio.ch.EPollSelectorImpl@503788b2
07:39:30.921 [XNIO-95 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-95 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2d1e4466
07:39:30.928 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.928 [XNIO-95 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-95 I/O-8', selector sun.nio.ch.EPollSelectorImpl@43f5328a
07:39:30.928 [XNIO-95 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-95 Accept', selector sun.nio.ch.EPollSelectorImpl@63bed306
07:39:30.929 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.931 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.931 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.931 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43445
07:39:30.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43445
07:39:30.931 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43445
07:39:30.931 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44866&lt;-&gt;127.0.0.1:43445
07:39:30.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; POST /handling HTTP/1.1
07:39:30.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Content-Length: 30
07:39:30.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Host: localhost:43445
07:39:30.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Connection: Keep-Alive
07:39:30.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Host: localhost:43445[\r][\n]&quot;
07:39:30.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.932 [XNIO-95 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43445]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.933 [XNIO-95 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:30.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &lt;&lt; HTTP/1.1 211 Unknown
07:39:30.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &lt;&lt; Connection: keep-alive
07:39:30.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &lt;&lt; Content-Length: 0
07:39:30.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.933 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.933 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44866&lt;-&gt;127.0.0.1:43445
07:39:30.933 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.934 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.934 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.934 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43445
07:39:30.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; POST /handling HTTP/1.1
07:39:30.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Content-Length: 30
07:39:30.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Host: localhost:43445
07:39:30.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Connection: Keep-Alive
07:39:30.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Host: localhost:43445[\r][\n]&quot;
07:39:30.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.935 [XNIO-95 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43445]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.936 [XNIO-95 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
07:39:30.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-94 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &lt;&lt; HTTP/1.1 211 Unknown
07:39:30.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &lt;&lt; Connection: keep-alive
07:39:30.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &lt;&lt; Content-Length: 0
07:39:30.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-94 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.936 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.937 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44866&lt;-&gt;127.0.0.1:43445
07:39:30.937 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.937 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4976ee47
07:39:30.943 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@444bb3dd
07:39:30.944 [XNIO-96 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-96 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4141ef27
07:39:30.947 [XNIO-96 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-96 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4dad3a84
07:39:30.948 [XNIO-96 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-96 I/O-3', selector sun.nio.ch.EPollSelectorImpl@56d583ff
07:39:30.948 [XNIO-96 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-96 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1af29bb4
07:39:30.948 [XNIO-96 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-96 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6572a78e
07:39:30.948 [XNIO-96 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-96 I/O-6', selector sun.nio.ch.EPollSelectorImpl@77df26b6
07:39:30.948 [XNIO-96 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-96 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7d45574e
07:39:30.954 [XNIO-96 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-96 I/O-8', selector sun.nio.ch.EPollSelectorImpl@582be6a2
07:39:30.957 [XNIO-96 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-96 Accept', selector sun.nio.ch.EPollSelectorImpl@1f0284a4
07:39:30.960 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.961 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.970 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.970 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.970 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41047
07:39:30.970 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41047
07:39:30.970 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41047
07:39:30.970 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59670&lt;-&gt;127.0.0.1:41047
07:39:30.970 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.970 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.970 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; POST /handling HTTP/1.1
07:39:30.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Content-Length: 30
07:39:30.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Host: localhost:41047
07:39:30.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Connection: Keep-Alive
07:39:30.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Host: localhost:41047[\r][\n]&quot;
07:39:30.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.972 [XNIO-96 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41047]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.973 [XNIO-96 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.973 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.973 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &lt;&lt; HTTP/1.1 200 OK
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &lt;&lt; Connection: keep-alive
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &lt;&lt; Content-Length: 0
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.974 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.974 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59670&lt;-&gt;127.0.0.1:41047
07:39:30.974 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.974 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.974 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.974 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41047
07:39:30.974 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.974 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.974 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; POST /handling HTTP/1.1
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Content-Length: 30
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Host: localhost:41047
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Connection: Keep-Alive
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Host: localhost:41047[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.975 [XNIO-96 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41047]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.975 [XNIO-96 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.975 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:30.975 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.975 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.975 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.975 [Test worker] DEBUG org.apache.http.wire - http-outgoing-95 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &lt;&lt; HTTP/1.1 200 OK
07:39:30.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &lt;&lt; Connection: keep-alive
07:39:30.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &lt;&lt; Content-Length: 0
07:39:30.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-95 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.976 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.976 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59670&lt;-&gt;127.0.0.1:41047
07:39:30.976 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.976 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@444bb3dd
07:39:30.978 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@27be4732
07:39:30.979 [XNIO-97 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-97 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1bfc9bde
07:39:30.979 [XNIO-97 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-97 I/O-1', selector sun.nio.ch.EPollSelectorImpl@597428bf
07:39:30.980 [XNIO-97 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-97 I/O-3', selector sun.nio.ch.EPollSelectorImpl@33950b7d
07:39:30.984 [XNIO-97 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-97 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3bf23d9b
07:39:30.986 [XNIO-97 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-97 I/O-5', selector sun.nio.ch.EPollSelectorImpl@66714641
07:39:30.986 [XNIO-97 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-97 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6dc2cc82
07:39:30.986 [XNIO-97 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-97 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6b709129
07:39:30.986 [XNIO-97 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-97 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3c204628
07:39:30.988 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:30.988 [XNIO-97 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-97 Accept', selector sun.nio.ch.EPollSelectorImpl@46ac3654
07:39:30.989 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:30.990 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.990 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.990 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35669
07:39:30.990 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35669
07:39:30.991 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35669
07:39:30.991 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43320&lt;-&gt;127.0.0.1:35669
07:39:30.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; POST /handling HTTP/1.1
07:39:30.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Content-Length: 30
07:39:30.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Host: localhost:35669
07:39:30.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Connection: Keep-Alive
07:39:30.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Host: localhost:35669[\r][\n]&quot;
07:39:30.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.992 [XNIO-97 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35669]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.993 [XNIO-97 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:30.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.993 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:30.993 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &lt;&lt; Connection: keep-alive
07:39:30.994 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &lt;&lt; Content-Length: 0
07:39:30.994 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.994 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.994 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43320&lt;-&gt;127.0.0.1:35669
07:39:30.994 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.995 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:30.995 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:30.995 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35669
07:39:30.995 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:30.995 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:30.995 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:30.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; POST /handling HTTP/1.1
07:39:30.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:30.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Content-Length: 30
07:39:30.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Host: localhost:35669
07:39:30.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Connection: Keep-Alive
07:39:30.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:30.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:30.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:30.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:30.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:30.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Host: localhost:35669[\r][\n]&quot;
07:39:30.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:30.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:30.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:30.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;[\r][\n]&quot;
07:39:30.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:30.995 [XNIO-97 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35669]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:30.996 [XNIO-97 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:30.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:30.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:30.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:30.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:30.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-96 &lt;&lt; &quot;[\r][\n]&quot;
07:39:30.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:30.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &lt;&lt; Connection: keep-alive
07:39:30.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &lt;&lt; Content-Length: 0
07:39:30.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-96 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:30.996 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:30.996 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43320&lt;-&gt;127.0.0.1:35669
07:39:30.996 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:30.997 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@27be4732
07:39:31.000 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1948360c
07:39:31.002 [XNIO-98 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-98 I/O-1', selector sun.nio.ch.EPollSelectorImpl@f8d1313
07:39:31.002 [XNIO-98 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-98 I/O-2', selector sun.nio.ch.EPollSelectorImpl@22bff9d4
07:39:31.004 [XNIO-98 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-98 I/O-4', selector sun.nio.ch.EPollSelectorImpl@651ae024
07:39:31.002 [XNIO-98 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-98 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6366b239
07:39:31.005 [XNIO-98 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-98 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2f87ad2b
07:39:31.005 [XNIO-98 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-98 I/O-6', selector sun.nio.ch.EPollSelectorImpl@37e81b7c
07:39:31.005 [XNIO-98 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-98 I/O-7', selector sun.nio.ch.EPollSelectorImpl@616c5687
07:39:31.005 [XNIO-98 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-98 I/O-8', selector sun.nio.ch.EPollSelectorImpl@d6cc273
07:39:31.005 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.005 [XNIO-98 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-98 Accept', selector sun.nio.ch.EPollSelectorImpl@45546a39
07:39:31.006 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.008 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.008 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.008 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34047
07:39:31.008 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34047
07:39:31.008 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34047
07:39:31.008 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38758&lt;-&gt;127.0.0.1:34047
07:39:31.008 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.008 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.008 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; POST /handling HTTP/1.1
07:39:31.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Content-Length: 30
07:39:31.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Host: localhost:34047
07:39:31.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Connection: Keep-Alive
07:39:31.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Host: localhost:34047[\r][\n]&quot;
07:39:31.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.010 [XNIO-98 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34047]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.011 [XNIO-98 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:31.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:31.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &lt;&lt; Connection: keep-alive
07:39:31.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &lt;&lt; Content-Length: 0
07:39:31.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.011 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.011 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38758&lt;-&gt;127.0.0.1:34047
07:39:31.011 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.012 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.012 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.012 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34047
07:39:31.012 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.012 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.012 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; POST /handling HTTP/1.1
07:39:31.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Content-Length: 30
07:39:31.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Host: localhost:34047
07:39:31.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Connection: Keep-Alive
07:39:31.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Host: localhost:34047[\r][\n]&quot;
07:39:31.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.017 [XNIO-98 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34047]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.018 [XNIO-98 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.020 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:31.020 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.020 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.020 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.020 [Test worker] DEBUG org.apache.http.wire - http-outgoing-97 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.020 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:31.020 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &lt;&lt; Connection: keep-alive
07:39:31.020 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &lt;&lt; Content-Length: 0
07:39:31.020 [Test worker] DEBUG org.apache.http.headers - http-outgoing-97 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.021 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38758&lt;-&gt;127.0.0.1:34047
07:39:31.021 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.021 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1948360c
07:39:31.024 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3b786637
07:39:31.026 [XNIO-99 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-99 I/O-1', selector sun.nio.ch.EPollSelectorImpl@55eeb986
07:39:31.026 [XNIO-99 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-99 I/O-2', selector sun.nio.ch.EPollSelectorImpl@793e6227
07:39:31.026 [XNIO-99 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-99 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3112b54e
07:39:31.026 [XNIO-99 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-99 I/O-4', selector sun.nio.ch.EPollSelectorImpl@32264f0c
07:39:31.026 [XNIO-99 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-99 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5678e339
07:39:31.028 [XNIO-99 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-99 I/O-7', selector sun.nio.ch.EPollSelectorImpl@22fe70b2
07:39:31.026 [XNIO-99 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-99 I/O-6', selector sun.nio.ch.EPollSelectorImpl@422b2534
07:39:31.032 [XNIO-99 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-99 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7d7addb1
07:39:31.034 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.034 [XNIO-99 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-99 Accept', selector sun.nio.ch.EPollSelectorImpl@7f197bd0
07:39:31.035 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.036 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.036 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.036 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34281
07:39:31.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34281
07:39:31.036 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34281
07:39:31.037 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48848&lt;-&gt;127.0.0.1:34281
07:39:31.037 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.037 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.037 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; POST /handling HTTP/1.1
07:39:31.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Content-Length: 30
07:39:31.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Host: localhost:34281
07:39:31.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Connection: Keep-Alive
07:39:31.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Host: localhost:34281[\r][\n]&quot;
07:39:31.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.040 [XNIO-99 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34281]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.041 [XNIO-99 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:31.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:31.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &lt;&lt; Connection: keep-alive
07:39:31.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &lt;&lt; Content-Length: 0
07:39:31.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.042 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.042 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48848&lt;-&gt;127.0.0.1:34281
07:39:31.042 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.042 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.043 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.043 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34281
07:39:31.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; POST /handling HTTP/1.1
07:39:31.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Content-Length: 30
07:39:31.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Host: localhost:34281
07:39:31.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Connection: Keep-Alive
07:39:31.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Host: localhost:34281[\r][\n]&quot;
07:39:31.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.043 [XNIO-99 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34281]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.044 [XNIO-99 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:31.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-98 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:31.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &lt;&lt; Connection: keep-alive
07:39:31.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &lt;&lt; Content-Length: 0
07:39:31.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-98 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.045 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.045 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48848&lt;-&gt;127.0.0.1:34281
07:39:31.045 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.045 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3b786637
07:39:31.050 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@51add44f
07:39:31.051 [XNIO-100 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-100 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2d230665
07:39:31.052 [XNIO-100 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-100 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2bd82ef6
07:39:31.052 [XNIO-100 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-100 I/O-3', selector sun.nio.ch.EPollSelectorImpl@473b723d
07:39:31.056 [XNIO-100 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-100 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5a043dc8
07:39:31.057 [XNIO-100 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-100 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3c2d863b
07:39:31.061 [XNIO-100 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-100 I/O-6', selector sun.nio.ch.EPollSelectorImpl@60c6c917
07:39:31.063 [XNIO-100 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-100 I/O-7', selector sun.nio.ch.EPollSelectorImpl@12065b9b
07:39:31.063 [XNIO-100 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-100 I/O-8', selector sun.nio.ch.EPollSelectorImpl@841aa4a
07:39:31.065 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.065 [XNIO-100 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-100 Accept', selector sun.nio.ch.EPollSelectorImpl@5e8cf3a6
07:39:31.065 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.078 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.078 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.078 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44833
07:39:31.078 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44833
07:39:31.078 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44833
07:39:31.078 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56076&lt;-&gt;127.0.0.1:44833
07:39:31.078 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.078 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.078 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; POST /handling HTTP/1.1
07:39:31.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Content-Length: 30
07:39:31.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Host: localhost:44833
07:39:31.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Connection: Keep-Alive
07:39:31.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Host: localhost:44833[\r][\n]&quot;
07:39:31.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.079 [XNIO-100 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44833]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.079 [XNIO-100 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &lt;&lt; HTTP/1.1 200 OK
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &lt;&lt; Connection: keep-alive
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &lt;&lt; Content-Length: 0
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.080 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.080 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56076&lt;-&gt;127.0.0.1:44833
07:39:31.080 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.080 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.080 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.080 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44833
07:39:31.080 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.080 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.080 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; POST /handling HTTP/1.1
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Content-Length: 30
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Host: localhost:44833
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Connection: Keep-Alive
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Host: localhost:44833[\r][\n]&quot;
07:39:31.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.081 [XNIO-100 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44833]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.082 [XNIO-100 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-99 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &lt;&lt; HTTP/1.1 200 OK
07:39:31.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &lt;&lt; Connection: keep-alive
07:39:31.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &lt;&lt; Content-Length: 0
07:39:31.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-99 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.082 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56076&lt;-&gt;127.0.0.1:44833
07:39:31.082 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.082 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@51add44f
07:39:31.086 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1d64e04b
07:39:31.087 [XNIO-101 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-101 I/O-3', selector sun.nio.ch.EPollSelectorImpl@350348eb
07:39:31.087 [XNIO-101 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-101 I/O-1', selector sun.nio.ch.EPollSelectorImpl@67391a40
07:39:31.087 [XNIO-101 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-101 I/O-2', selector sun.nio.ch.EPollSelectorImpl@181bfa51
07:39:31.088 [XNIO-101 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-101 I/O-5', selector sun.nio.ch.EPollSelectorImpl@16391e06
07:39:31.089 [XNIO-101 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-101 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2ec5e45a
07:39:31.089 [XNIO-101 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-101 I/O-8', selector sun.nio.ch.EPollSelectorImpl@77875bd4
07:39:31.089 [XNIO-101 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-101 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6a70bfc9
07:39:31.088 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.089 [XNIO-101 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-101 Accept', selector sun.nio.ch.EPollSelectorImpl@204cbb2b
07:39:31.089 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.089 [XNIO-101 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-101 I/O-7', selector sun.nio.ch.EPollSelectorImpl@a8e142c
07:39:31.091 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.091 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.091 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43885
07:39:31.091 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43885
07:39:31.091 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43885
07:39:31.091 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55910&lt;-&gt;127.0.0.1:43885
07:39:31.091 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.091 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.091 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.091 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; POST /handling HTTP/1.1
07:39:31.091 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.091 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Content-Length: 30
07:39:31.091 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Host: localhost:43885
07:39:31.091 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Connection: Keep-Alive
07:39:31.091 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.091 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Host: localhost:43885[\r][\n]&quot;
07:39:31.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.093 [XNIO-101 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43885]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.094 [XNIO-101 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:31.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.094 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:31.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &lt;&lt; Connection: keep-alive
07:39:31.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &lt;&lt; Content-Length: 0
07:39:31.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.094 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.094 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55910&lt;-&gt;127.0.0.1:43885
07:39:31.094 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.095 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.095 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.095 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43885
07:39:31.095 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.095 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.095 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; POST /handling HTTP/1.1
07:39:31.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Content-Length: 30
07:39:31.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Host: localhost:43885
07:39:31.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Connection: Keep-Alive
07:39:31.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Host: localhost:43885[\r][\n]&quot;
07:39:31.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.095 [XNIO-101 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43885]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.096 [XNIO-101 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
07:39:31.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-100 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.096 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &lt;&lt; HTTP/1.1 300 Multiple Choices
07:39:31.096 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &lt;&lt; Connection: keep-alive
07:39:31.096 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &lt;&lt; Content-Length: 0
07:39:31.096 [Test worker] DEBUG org.apache.http.headers - http-outgoing-100 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.096 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.096 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55910&lt;-&gt;127.0.0.1:43885
07:39:31.096 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.096 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1d64e04b
07:39:31.099 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@522562e6
07:39:31.101 [XNIO-102 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-102 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4c289c71
07:39:31.104 [XNIO-102 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-102 I/O-3', selector sun.nio.ch.EPollSelectorImpl@488937e3
07:39:31.105 [XNIO-102 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-102 I/O-4', selector sun.nio.ch.EPollSelectorImpl@37a21624
07:39:31.106 [XNIO-102 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-102 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5e302218
07:39:31.106 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.106 [XNIO-102 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-102 Accept', selector sun.nio.ch.EPollSelectorImpl@c464a0d
07:39:31.106 [XNIO-102 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-102 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3b89def0
07:39:31.101 [XNIO-102 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-102 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6edeb39b
07:39:31.105 [XNIO-102 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-102 I/O-5', selector sun.nio.ch.EPollSelectorImpl@35db9ca4
07:39:31.106 [XNIO-102 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-102 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7193979f
07:39:31.107 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.108 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.108 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.108 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41633
07:39:31.108 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41633
07:39:31.108 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41633
07:39:31.109 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37578&lt;-&gt;127.0.0.1:41633
07:39:31.109 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.109 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.109 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; POST /handling HTTP/1.1
07:39:31.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Content-Length: 30
07:39:31.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Host: localhost:41633
07:39:31.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Connection: Keep-Alive
07:39:31.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Host: localhost:41633[\r][\n]&quot;
07:39:31.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.109 [XNIO-102 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41633]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.110 [XNIO-102 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:31.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.111 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:31.111 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &lt;&lt; Connection: keep-alive
07:39:31.111 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &lt;&lt; Content-Length: 0
07:39:31.111 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.111 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.111 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37578&lt;-&gt;127.0.0.1:41633
07:39:31.111 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.112 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.112 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.112 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41633
07:39:31.112 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.112 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.112 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; POST /handling HTTP/1.1
07:39:31.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Content-Length: 30
07:39:31.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Host: localhost:41633
07:39:31.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Connection: Keep-Alive
07:39:31.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Host: localhost:41633[\r][\n]&quot;
07:39:31.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.112 [XNIO-102 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41633]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.113 [XNIO-102 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
07:39:31.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-101 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &lt;&lt; HTTP/1.1 400 Bad Request
07:39:31.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &lt;&lt; Connection: keep-alive
07:39:31.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &lt;&lt; Content-Length: 0
07:39:31.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-101 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.113 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.113 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37578&lt;-&gt;127.0.0.1:41633
07:39:31.113 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.113 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@522562e6
07:39:31.117 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@208b87c0
07:39:31.127 [XNIO-103 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-103 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7e75a580
07:39:31.128 [XNIO-103 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-103 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5f022773
07:39:31.132 [XNIO-103 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-103 I/O-3', selector sun.nio.ch.EPollSelectorImpl@319c68b9
07:39:31.136 [XNIO-103 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-103 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2ee8831c
07:39:31.132 [XNIO-103 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-103 I/O-4', selector sun.nio.ch.EPollSelectorImpl@63615a9b
07:39:31.132 [XNIO-103 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-103 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1638e3ae
07:39:31.140 [XNIO-103 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-103 I/O-8', selector sun.nio.ch.EPollSelectorImpl@57b10222
07:39:31.136 [XNIO-103 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-103 I/O-7', selector sun.nio.ch.EPollSelectorImpl@13ac518
07:39:31.144 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.144 [XNIO-103 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-103 Accept', selector sun.nio.ch.EPollSelectorImpl@2ca8f65a
07:39:31.145 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.148 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.148 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41983
07:39:31.148 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41983
07:39:31.148 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41983
07:39:31.148 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38278&lt;-&gt;127.0.0.1:41983
07:39:31.148 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.148 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.148 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; POST /handling HTTP/1.1
07:39:31.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Content-Length: 30
07:39:31.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Host: localhost:41983
07:39:31.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Connection: Keep-Alive
07:39:31.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Host: localhost:41983[\r][\n]&quot;
07:39:31.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.150 [XNIO-103 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41983]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.151 [XNIO-103 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:31.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:31.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &lt;&lt; Connection: keep-alive
07:39:31.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &lt;&lt; Content-Length: 0
07:39:31.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.152 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38278&lt;-&gt;127.0.0.1:41983
07:39:31.152 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.152 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.152 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.152 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41983
07:39:31.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
07:39:31.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; POST /handling HTTP/1.1
07:39:31.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Content-Length: 30
07:39:31.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Host: localhost:41983
07:39:31.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Connection: Keep-Alive
07:39:31.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
07:39:31.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Host: localhost:41983[\r][\n]&quot;
07:39:31.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.156 [XNIO-103 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41983]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.157 [XNIO-103 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
07:39:31.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
07:39:31.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
07:39:31.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-102 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &lt;&lt; HTTP/1.1 500 Internal Server Error
07:39:31.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &lt;&lt; Connection: keep-alive
07:39:31.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &lt;&lt; Content-Length: 0
07:39:31.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-102 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.158 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.158 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38278&lt;-&gt;127.0.0.1:41983
07:39:31.159 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.159 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@208b87c0
07:39:31.167 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5b1686e5
07:39:31.168 [XNIO-104 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-104 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6552f5f2
07:39:31.168 [XNIO-104 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-104 I/O-3', selector sun.nio.ch.EPollSelectorImpl@38b1f0c4
07:39:31.168 [XNIO-104 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-104 I/O-4', selector sun.nio.ch.EPollSelectorImpl@49c1aa32
07:39:31.170 [XNIO-104 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-104 I/O-5', selector sun.nio.ch.EPollSelectorImpl@64d8b76a
07:39:31.172 [XNIO-104 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-104 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6a45bcb6
07:39:31.176 [XNIO-104 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-104 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6d115190
07:39:31.168 [XNIO-104 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-104 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2bba9f4e
07:39:31.176 [XNIO-104 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-104 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3799def3
07:39:31.176 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.177 [XNIO-104 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-104 Accept', selector sun.nio.ch.EPollSelectorImpl@1436884b
07:39:31.177 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.185 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.185 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.185 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37085
07:39:31.185 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37085
07:39:31.185 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37085
07:39:31.186 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59484&lt;-&gt;127.0.0.1:37085
07:39:31.186 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /gzip HTTP/1.1
07:39:31.186 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.186 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; POST /gzip HTTP/1.1
07:39:31.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Accept-Encoding: gzip
07:39:31.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Content-Length: 30
07:39:31.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Host: localhost:37085
07:39:31.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Connection: Keep-Alive
07:39:31.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;POST /gzip HTTP/1.1[\r][\n]&quot;
07:39:31.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
07:39:31.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Host: localhost:37085[\r][\n]&quot;
07:39:31.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.186 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.187 [XNIO-104 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37085]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.188 [XNIO-104 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
07:39:31.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
07:39:31.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
07:39:31.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; HTTP/1.1 200 OK
07:39:31.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Content-Encoding: gzip
07:39:31.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Connection: keep-alive
07:39:31.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Content-Type: text/plain
07:39:31.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Content-Length: 29
07:39:31.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.189 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.193 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59484&lt;-&gt;127.0.0.1:37085
07:39:31.193 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.193 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.194 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.194 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37085
07:39:31.194 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /gzip HTTP/1.1
07:39:31.194 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.194 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; POST /gzip HTTP/1.1
07:39:31.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Accept-Encoding: gzip
07:39:31.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Content-Length: 30
07:39:31.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Host: localhost:37085
07:39:31.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; Connection: Keep-Alive
07:39:31.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;POST /gzip HTTP/1.1[\r][\n]&quot;
07:39:31.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
07:39:31.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
07:39:31.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Host: localhost:37085[\r][\n]&quot;
07:39:31.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
07:39:31.195 [XNIO-104 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37085]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
07:39:31.196 [XNIO-104 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
07:39:31.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
07:39:31.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.196 [Test worker] DEBUG org.apache.http.wire - http-outgoing-103 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
07:39:31.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; HTTP/1.1 200 OK
07:39:31.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Content-Encoding: gzip
07:39:31.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Connection: keep-alive
07:39:31.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Content-Type: text/plain
07:39:31.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Content-Length: 29
07:39:31.197 [Test worker] DEBUG org.apache.http.headers - http-outgoing-103 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.197 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.198 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59484&lt;-&gt;127.0.0.1:37085
07:39:31.198 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.198 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5b1686e5
07:39:31.207 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@53ee7963
07:39:31.208 [XNIO-105 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-105 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5d21b0a3
07:39:31.209 [XNIO-105 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-105 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7779594e
07:39:31.209 [XNIO-105 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-105 I/O-3', selector sun.nio.ch.EPollSelectorImpl@29dd208b
07:39:31.212 [XNIO-105 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-105 I/O-4', selector sun.nio.ch.EPollSelectorImpl@51d04a1a
07:39:31.216 [XNIO-105 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-105 I/O-5', selector sun.nio.ch.EPollSelectorImpl@60137160
07:39:31.219 [XNIO-105 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-105 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2b24b26b
07:39:31.219 [XNIO-105 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-105 Accept', selector sun.nio.ch.EPollSelectorImpl@790fa67
07:39:31.219 [XNIO-105 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-105 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6d3026b2
07:39:31.219 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.219 [XNIO-105 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-105 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3c76ab11
07:39:31.219 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.223 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.223 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.223 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44329
07:39:31.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44329
07:39:31.223 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44329
07:39:31.223 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55686&lt;-&gt;127.0.0.1:44329
07:39:31.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
07:39:31.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; POST /types HTTP/1.1
07:39:31.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Content-Length: 19
07:39:31.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Host: localhost:44329
07:39:31.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Connection: Keep-Alive
07:39:31.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
07:39:31.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
07:39:31.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Host: localhost:44329[\r][\n]&quot;
07:39:31.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
07:39:31.226 [XNIO-105 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44329]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
07:39:31.227 [XNIO-105 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; HTTP/1.1 200 OK
07:39:31.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Content-Encoding: gzip
07:39:31.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Connection: keep-alive
07:39:31.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Content-Type: text/plain
07:39:31.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Content-Length: 27
07:39:31.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.228 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.228 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55686&lt;-&gt;127.0.0.1:44329
07:39:31.228 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.229 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.229 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.229 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44329
07:39:31.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
07:39:31.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; POST /types HTTP/1.1
07:39:31.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Content-Type: application/json; charset=utf-8
07:39:31.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Content-Length: 19
07:39:31.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Host: localhost:44329
07:39:31.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Connection: Keep-Alive
07:39:31.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
07:39:31.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
07:39:31.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
07:39:31.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Host: localhost:44329[\r][\n]&quot;
07:39:31.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
07:39:31.232 [XNIO-105 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44329]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
07:39:31.233 [XNIO-105 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-104 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; HTTP/1.1 200 OK
07:39:31.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Content-Encoding: gzip
07:39:31.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Connection: keep-alive
07:39:31.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Content-Type: text/plain
07:39:31.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Content-Length: 27
07:39:31.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-104 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.234 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.234 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55686&lt;-&gt;127.0.0.1:44329
07:39:31.234 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.234 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@53ee7963
07:39:31.240 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@236fc4b5
07:39:31.243 [XNIO-106 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-106 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4d3df0cd
07:39:31.243 [XNIO-106 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-106 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7f73e7cc
07:39:31.244 [XNIO-106 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-106 I/O-3', selector sun.nio.ch.EPollSelectorImpl@66fff13
07:39:31.248 [XNIO-106 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-106 I/O-4', selector sun.nio.ch.EPollSelectorImpl@27c7647f
07:39:31.256 [XNIO-106 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-106 I/O-6', selector sun.nio.ch.EPollSelectorImpl@44003420
07:39:31.256 [XNIO-106 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-106 I/O-5', selector sun.nio.ch.EPollSelectorImpl@20cc7b36
07:39:31.260 [XNIO-106 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-106 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5fe25000
07:39:31.260 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.261 [XNIO-106 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-106 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1e874d17
07:39:31.261 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.261 [XNIO-106 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-106 Accept', selector sun.nio.ch.EPollSelectorImpl@31d99831
07:39:31.262 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.262 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.262 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43483
07:39:31.262 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43483
07:39:31.263 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43483
07:39:31.263 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41448&lt;-&gt;127.0.0.1:43483
07:39:31.263 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
07:39:31.263 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.263 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; POST /types HTTP/1.1
07:39:31.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Content-Type: application/xml; charset=utf-8
07:39:31.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Content-Length: 46
07:39:31.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Host: localhost:43483
07:39:31.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Connection: Keep-Alive
07:39:31.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
07:39:31.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
07:39:31.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
07:39:31.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Host: localhost:43483[\r][\n]&quot;
07:39:31.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
07:39:31.263 [XNIO-106 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43483]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
07:39:31.264 [XNIO-106 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; HTTP/1.1 200 OK
07:39:31.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Content-Encoding: gzip
07:39:31.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Connection: keep-alive
07:39:31.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Content-Type: text/plain
07:39:31.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Content-Length: 27
07:39:31.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.265 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41448&lt;-&gt;127.0.0.1:43483
07:39:31.265 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.266 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.266 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.266 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43483
07:39:31.266 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
07:39:31.266 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.266 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.266 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; POST /types HTTP/1.1
07:39:31.266 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Content-Type: application/xml; charset=utf-8
07:39:31.266 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Content-Length: 46
07:39:31.266 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Host: localhost:43483
07:39:31.266 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Connection: Keep-Alive
07:39:31.266 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.266 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
07:39:31.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
07:39:31.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
07:39:31.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Host: localhost:43483[\r][\n]&quot;
07:39:31.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
07:39:31.268 [XNIO-106 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43483]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
07:39:31.270 [XNIO-106 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-105 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; HTTP/1.1 200 OK
07:39:31.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Content-Encoding: gzip
07:39:31.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Connection: keep-alive
07:39:31.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Content-Type: text/plain
07:39:31.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Content-Length: 27
07:39:31.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-105 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.272 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41448&lt;-&gt;127.0.0.1:43483
07:39:31.272 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.272 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@236fc4b5
07:39:31.275 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6082e094
07:39:31.277 [XNIO-107 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-107 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7207cb6
07:39:31.279 [XNIO-107 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-107 I/O-2', selector sun.nio.ch.EPollSelectorImpl@35bb82f0
07:39:31.279 [XNIO-107 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-107 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7b0cef2c
07:39:31.280 [XNIO-107 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-107 I/O-5', selector sun.nio.ch.EPollSelectorImpl@366b848b
07:39:31.279 [XNIO-107 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-107 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3f3e66fe
07:39:31.280 [XNIO-107 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-107 I/O-7', selector sun.nio.ch.EPollSelectorImpl@42657f2d
07:39:31.280 [XNIO-107 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-107 Accept', selector sun.nio.ch.EPollSelectorImpl@4fc181a9
07:39:31.280 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.280 [XNIO-107 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-107 I/O-8', selector sun.nio.ch.EPollSelectorImpl@30457a4c
07:39:31.280 [XNIO-107 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-107 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4101ae38
07:39:31.280 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.282 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.282 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.282 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34969
07:39:31.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34969
07:39:31.282 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34969
07:39:31.282 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37418&lt;-&gt;127.0.0.1:34969
07:39:31.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
07:39:31.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; POST /types HTTP/1.1
07:39:31.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Content-Type: text/html; charset=utf-8
07:39:31.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Content-Length: 7
07:39:31.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Host: localhost:34969
07:39:31.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Connection: Keep-Alive
07:39:31.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
07:39:31.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
07:39:31.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
07:39:31.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Host: localhost:34969[\r][\n]&quot;
07:39:31.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;ok-html&quot;
07:39:31.284 [XNIO-107 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34969]}, cookies=[:]): ok-html }
07:39:31.286 [XNIO-107 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.286 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; HTTP/1.1 200 OK
07:39:31.286 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Content-Encoding: gzip
07:39:31.286 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Connection: keep-alive
07:39:31.286 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Content-Type: text/plain
07:39:31.286 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Content-Length: 27
07:39:31.286 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.286 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.287 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37418&lt;-&gt;127.0.0.1:34969
07:39:31.287 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.287 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.287 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.287 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34969
07:39:31.287 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
07:39:31.287 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.287 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; POST /types HTTP/1.1
07:39:31.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Content-Type: text/html; charset=utf-8
07:39:31.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Content-Length: 7
07:39:31.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Host: localhost:34969
07:39:31.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Connection: Keep-Alive
07:39:31.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
07:39:31.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
07:39:31.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
07:39:31.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Host: localhost:34969[\r][\n]&quot;
07:39:31.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &gt;&gt; &quot;ok-html&quot;
07:39:31.288 [XNIO-107 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34969]}, cookies=[:]): ok-html }
07:39:31.289 [XNIO-107 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.290 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.290 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.290 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.290 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.290 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.290 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.290 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.290 [Test worker] DEBUG org.apache.http.wire - http-outgoing-106 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.290 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; HTTP/1.1 200 OK
07:39:31.290 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Content-Encoding: gzip
07:39:31.290 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Connection: keep-alive
07:39:31.290 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Content-Type: text/plain
07:39:31.290 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Content-Length: 27
07:39:31.290 [Test worker] DEBUG org.apache.http.headers - http-outgoing-106 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.290 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.290 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37418&lt;-&gt;127.0.0.1:34969
07:39:31.290 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.290 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6082e094
07:39:31.298 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@512987f4
07:39:31.300 [XNIO-108 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-108 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1880984d
07:39:31.304 [XNIO-108 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-108 I/O-3', selector sun.nio.ch.EPollSelectorImpl@59957342
07:39:31.304 [XNIO-108 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-108 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1a5bd50f
07:39:31.305 [XNIO-108 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-108 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6ec57afd
07:39:31.305 [XNIO-108 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-108 I/O-6', selector sun.nio.ch.EPollSelectorImpl@22a36e4a
07:39:31.305 [XNIO-108 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-108 I/O-7', selector sun.nio.ch.EPollSelectorImpl@fb83946
07:39:31.304 [XNIO-108 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-108 I/O-2', selector sun.nio.ch.EPollSelectorImpl@d84d8ae
07:39:31.305 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.305 [XNIO-108 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-108 Accept', selector sun.nio.ch.EPollSelectorImpl@17767f4c
07:39:31.305 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.306 [XNIO-108 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-108 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5aac888d
07:39:31.323 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.323 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.323 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39977
07:39:31.323 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39977
07:39:31.323 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39977
07:39:31.323 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48938&lt;-&gt;127.0.0.1:39977
07:39:31.323 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /form HTTP/1.1
07:39:31.323 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.323 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; POST /form HTTP/1.1
07:39:31.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
07:39:31.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Content-Length: 34
07:39:31.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Host: localhost:39977
07:39:31.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Connection: Keep-Alive
07:39:31.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;POST /form HTTP/1.1[\r][\n]&quot;
07:39:31.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
07:39:31.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
07:39:31.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Host: localhost:39977[\r][\n]&quot;
07:39:31.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
07:39:31.324 [XNIO-108 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39977]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
07:39:31.344 [XNIO-108 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; HTTP/1.1 200 OK
07:39:31.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Content-Encoding: gzip
07:39:31.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Connection: keep-alive
07:39:31.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Content-Type: text/plain
07:39:31.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Content-Length: 27
07:39:31.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.345 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.345 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48938&lt;-&gt;127.0.0.1:39977
07:39:31.345 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.346 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39977
07:39:31.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /form HTTP/1.1
07:39:31.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; POST /form HTTP/1.1
07:39:31.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
07:39:31.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Content-Length: 34
07:39:31.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Host: localhost:39977
07:39:31.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Connection: Keep-Alive
07:39:31.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;POST /form HTTP/1.1[\r][\n]&quot;
07:39:31.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
07:39:31.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
07:39:31.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Host: localhost:39977[\r][\n]&quot;
07:39:31.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
07:39:31.348 [XNIO-108 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39977]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
07:39:31.349 [XNIO-108 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-107 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; HTTP/1.1 200 OK
07:39:31.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Content-Encoding: gzip
07:39:31.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Connection: keep-alive
07:39:31.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Content-Type: text/plain
07:39:31.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Content-Length: 27
07:39:31.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-107 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.350 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48938&lt;-&gt;127.0.0.1:39977
07:39:31.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.350 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@512987f4
07:39:31.353 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2b4bbe5
07:39:31.355 [XNIO-109 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-109 I/O-1', selector sun.nio.ch.EPollSelectorImpl@21dbf2a0
07:39:31.356 [XNIO-109 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-109 I/O-2', selector sun.nio.ch.EPollSelectorImpl@33c69e35
07:39:31.360 [XNIO-109 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-109 I/O-4', selector sun.nio.ch.EPollSelectorImpl@cd99ba6
07:39:31.360 [XNIO-109 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-109 I/O-5', selector sun.nio.ch.EPollSelectorImpl@340c0cfc
07:39:31.361 [XNIO-109 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-109 I/O-6', selector sun.nio.ch.EPollSelectorImpl@31abf6cb
07:39:31.361 [XNIO-109 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-109 I/O-7', selector sun.nio.ch.EPollSelectorImpl@730ba63e
07:39:31.361 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.361 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.363 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.363 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.363 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44091
07:39:31.363 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:44091
07:39:31.363 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44091
07:39:31.363 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:44091 with timeout 0
07:39:31.363 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:31.363 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:31.363 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:31.356 [XNIO-109 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-109 I/O-3', selector sun.nio.ch.EPollSelectorImpl@207baf63
07:39:31.361 [XNIO-109 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-109 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7292420
07:39:31.361 [XNIO-109 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-109 Accept', selector sun.nio.ch.EPollSelectorImpl@31254ca4
07:39:31.402 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:31.402 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:31.402 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:31.402 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:31.402 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:31.402 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39964&lt;-&gt;127.0.0.1:44091
07:39:31.402 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /form HTTP/1.1
07:39:31.402 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.402 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; POST /form HTTP/1.1
07:39:31.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
07:39:31.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Content-Length: 34
07:39:31.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Host: localhost:44091
07:39:31.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Connection: Keep-Alive
07:39:31.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.402 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;POST /form HTTP/1.1[\r][\n]&quot;
07:39:31.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
07:39:31.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
07:39:31.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Host: localhost:44091[\r][\n]&quot;
07:39:31.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.402 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
07:39:31.404 [XNIO-109 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44091]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
07:39:31.405 [XNIO-109 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.405 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; HTTP/1.1 200 OK
07:39:31.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Content-Encoding: gzip
07:39:31.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Connection: keep-alive
07:39:31.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Content-Type: text/plain
07:39:31.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Content-Length: 27
07:39:31.406 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.406 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.406 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39964&lt;-&gt;127.0.0.1:44091
07:39:31.406 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.406 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.407 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.407 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44091
07:39:31.407 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /form HTTP/1.1
07:39:31.407 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.407 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; POST /form HTTP/1.1
07:39:31.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
07:39:31.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Content-Length: 34
07:39:31.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Host: localhost:44091
07:39:31.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Connection: Keep-Alive
07:39:31.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;POST /form HTTP/1.1[\r][\n]&quot;
07:39:31.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
07:39:31.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
07:39:31.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Host: localhost:44091[\r][\n]&quot;
07:39:31.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
07:39:31.417 [XNIO-109 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44091]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
07:39:31.418 [XNIO-109 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.418 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.418 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.418 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.418 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.418 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.418 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.418 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.418 [Test worker] DEBUG org.apache.http.wire - http-outgoing-108 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.418 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; HTTP/1.1 200 OK
07:39:31.418 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Content-Encoding: gzip
07:39:31.418 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Connection: keep-alive
07:39:31.418 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Content-Type: text/plain
07:39:31.418 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Content-Length: 27
07:39:31.418 [Test worker] DEBUG org.apache.http.headers - http-outgoing-108 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.418 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.419 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39964&lt;-&gt;127.0.0.1:44091
07:39:31.419 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.419 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2b4bbe5
07:39:31.421 [XNIO-109 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 27 common frames omitted
07:39:31.442 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5a465b76
07:39:31.443 [XNIO-110 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-110 I/O-1', selector sun.nio.ch.EPollSelectorImpl@27355fc4
07:39:31.443 [XNIO-110 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-110 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3394c9b
07:39:31.444 [XNIO-110 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-110 I/O-3', selector sun.nio.ch.EPollSelectorImpl@74e367f5
07:39:31.448 [XNIO-110 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-110 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6998015
07:39:31.452 [XNIO-110 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-110 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1f62c552
07:39:31.454 [XNIO-110 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-110 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1955c119
07:39:31.454 [XNIO-110 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-110 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3e032e32
07:39:31.454 [XNIO-110 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-110 I/O-8', selector sun.nio.ch.EPollSelectorImpl@18acdedb
07:39:31.454 [XNIO-110 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-110 Accept', selector sun.nio.ch.EPollSelectorImpl@314861a0
07:39:31.454 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.455 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.493 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.493 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.493 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36583
07:39:31.494 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36583
07:39:31.494 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36583
07:39:31.494 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56038&lt;-&gt;127.0.0.1:36583
07:39:31.494 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
07:39:31.494 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.494 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; POST /upload HTTP/1.1
07:39:31.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Content-Type: multipart/form-data; boundary=NSmWln5bni; charset=utf-8
07:39:31.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Content-Length: 336
07:39:31.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Host: localhost:36583
07:39:31.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Connection: Keep-Alive
07:39:31.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.494 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=NSmWln5bni; charset=utf-8[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Host: localhost:36583[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;--NSmWln5bni[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;some data[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;--NSmWln5bni[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
07:39:31.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;--NSmWln5bni--[\r][\n]&quot;
07:39:31.494 [XNIO-110 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=NSmWln5bni; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36583]}, cookies=[:]): --NSmWln5bni
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--NSmWln5bni
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--NSmWln5bni--
 }
07:39:31.574 [XNIO-110 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.575 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; HTTP/1.1 200 OK
07:39:31.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Content-Encoding: gzip
07:39:31.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Connection: keep-alive
07:39:31.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Content-Type: text/plain
07:39:31.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Content-Length: 27
07:39:31.575 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.575 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.575 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56038&lt;-&gt;127.0.0.1:36583
07:39:31.575 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.576 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.576 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.576 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36583
07:39:31.576 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
07:39:31.576 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.576 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; POST /upload HTTP/1.1
07:39:31.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Content-Type: multipart/form-data; boundary=meePMMjnY6; charset=utf-8
07:39:31.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Content-Length: 336
07:39:31.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Host: localhost:36583
07:39:31.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Connection: Keep-Alive
07:39:31.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=meePMMjnY6; charset=utf-8[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Host: localhost:36583[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;--meePMMjnY6[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;some data[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;--meePMMjnY6[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
07:39:31.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &gt;&gt; &quot;--meePMMjnY6--[\r][\n]&quot;
07:39:31.577 [XNIO-110 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=meePMMjnY6; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36583]}, cookies=[:]): --meePMMjnY6
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--meePMMjnY6
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--meePMMjnY6--
 }
07:39:31.579 [XNIO-110 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-109 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; HTTP/1.1 200 OK
07:39:31.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Content-Encoding: gzip
07:39:31.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Connection: keep-alive
07:39:31.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Content-Type: text/plain
07:39:31.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Content-Length: 27
07:39:31.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-109 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.579 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.580 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56038&lt;-&gt;127.0.0.1:36583
07:39:31.580 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.580 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5a465b76
07:39:31.583 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@c300bbb
07:39:31.584 [XNIO-111 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-111 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2bb22def
07:39:31.584 [XNIO-111 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-111 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3dcb2137
07:39:31.586 [XNIO-111 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-111 I/O-4', selector sun.nio.ch.EPollSelectorImpl@38cc3af6
07:39:31.584 [XNIO-111 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-111 I/O-3', selector sun.nio.ch.EPollSelectorImpl@311f84b3
07:39:31.586 [XNIO-111 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-111 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6ada674f
07:39:31.587 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.587 [XNIO-111 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-111 I/O-6', selector sun.nio.ch.EPollSelectorImpl@cde788a
07:39:31.587 [XNIO-111 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-111 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5e34793d
07:39:31.587 [XNIO-111 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-111 Accept', selector sun.nio.ch.EPollSelectorImpl@a98444f
07:39:31.587 [XNIO-111 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-111 I/O-8', selector sun.nio.ch.EPollSelectorImpl@35ffbcda
07:39:31.587 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.589 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.589 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.589 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35355
07:39:31.589 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:35355
07:39:31.589 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35355
07:39:31.589 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:35355 with timeout 0
07:39:31.589 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:31.589 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:31.589 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:31.603 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:31.603 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:31.603 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:31.603 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:31.603 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:31.603 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53224&lt;-&gt;127.0.0.1:35355
07:39:31.603 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
07:39:31.603 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.603 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; POST /upload HTTP/1.1
07:39:31.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Content-Type: multipart/form-data; boundary=TB5uzcLgIp; charset=utf-8
07:39:31.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Content-Length: 336
07:39:31.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Host: localhost:35355
07:39:31.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Connection: Keep-Alive
07:39:31.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=TB5uzcLgIp; charset=utf-8[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Host: localhost:35355[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;--TB5uzcLgIp[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;some data[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;--TB5uzcLgIp[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
07:39:31.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;--TB5uzcLgIp--[\r][\n]&quot;
07:39:31.604 [XNIO-111 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=TB5uzcLgIp; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35355]}, cookies=[:]): --TB5uzcLgIp
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--TB5uzcLgIp
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--TB5uzcLgIp--
 }
07:39:31.605 [XNIO-111 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; HTTP/1.1 200 OK
07:39:31.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Content-Encoding: gzip
07:39:31.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Connection: keep-alive
07:39:31.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Content-Type: text/plain
07:39:31.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Content-Length: 27
07:39:31.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.606 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.606 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53224&lt;-&gt;127.0.0.1:35355
07:39:31.606 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.607 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.607 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.607 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35355
07:39:31.607 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
07:39:31.607 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.607 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; POST /upload HTTP/1.1
07:39:31.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Content-Type: multipart/form-data; boundary=CNCpprRw4c; charset=utf-8
07:39:31.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Content-Length: 336
07:39:31.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Host: localhost:35355
07:39:31.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Connection: Keep-Alive
07:39:31.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=CNCpprRw4c; charset=utf-8[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Host: localhost:35355[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;--CNCpprRw4c[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;some data[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;--CNCpprRw4c[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
07:39:31.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &gt;&gt; &quot;--CNCpprRw4c--[\r][\n]&quot;
07:39:31.609 [XNIO-111 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=CNCpprRw4c; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35355]}, cookies=[:]): --CNCpprRw4c
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--CNCpprRw4c
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--CNCpprRw4c--
 }
07:39:31.611 [XNIO-111 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-110 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; HTTP/1.1 200 OK
07:39:31.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Content-Encoding: gzip
07:39:31.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Connection: keep-alive
07:39:31.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Content-Type: text/plain
07:39:31.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Content-Length: 27
07:39:31.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-110 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.612 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.612 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53224&lt;-&gt;127.0.0.1:35355
07:39:31.612 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.613 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@c300bbb
07:39:31.622 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3ecaa9a7
07:39:31.623 [XNIO-112 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-112 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1ae67897
07:39:31.624 [XNIO-112 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-112 I/O-2', selector sun.nio.ch.EPollSelectorImpl@735b9fe
07:39:31.624 [XNIO-112 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-112 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7c35910e
07:39:31.624 [XNIO-112 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-112 I/O-3', selector sun.nio.ch.EPollSelectorImpl@213446e5
07:39:31.624 [XNIO-112 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-112 I/O-5', selector sun.nio.ch.EPollSelectorImpl@112c3f5b
07:39:31.624 [XNIO-112 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-112 I/O-7', selector sun.nio.ch.EPollSelectorImpl@186882db
07:39:31.625 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.624 [XNIO-112 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-112 I/O-8', selector sun.nio.ch.EPollSelectorImpl@327c3633
07:39:31.626 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.624 [XNIO-112 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-112 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2e2e241e
07:39:31.625 [XNIO-112 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-112 Accept', selector sun.nio.ch.EPollSelectorImpl@ffb76e4
07:39:31.682 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.682 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.682 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43361
07:39:31.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43361
07:39:31.682 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43361
07:39:31.682 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38208&lt;-&gt;127.0.0.1:43361
07:39:31.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
07:39:31.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; POST /upload HTTP/1.1
07:39:31.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Content-Type: multipart/mixed; 
	boundary=&quot;----=_Part_0_519313272.1507898371643&quot;; charset=utf-8
07:39:31.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Content-Length: 326
07:39:31.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Host: localhost:43361
07:39:31.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Connection: Keep-Alive
07:39:31.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Type: multipart/mixed; [\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;[0x9]boundary=&quot;----=_Part_0_519313272.1507898371643&quot;; charset=utf-8[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Length: 326[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Host: localhost:43361[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;------=_Part_0_519313272.1507898371643[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;some data[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;------=_Part_0_519313272.1507898371643[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
07:39:31.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;------=_Part_0_519313272.1507898371643--[\r][\n]&quot;
07:39:31.683 [XNIO-112 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/mixed; boundary=&quot;----=_Part_0_519313272.1507898371643&quot;; charset=utf-8], Content-Length=[326], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43361]}, cookies=[:]): ------=_Part_0_519313272.1507898371643
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;alpha&quot;

some data
------=_Part_0_519313272.1507898371643
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;

This is bravo content
------=_Part_0_519313272.1507898371643--
 }
07:39:31.684 [XNIO-112 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; HTTP/1.1 200 OK
07:39:31.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Content-Encoding: gzip
07:39:31.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Connection: keep-alive
07:39:31.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Content-Type: text/plain
07:39:31.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Content-Length: 27
07:39:31.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.685 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38208&lt;-&gt;127.0.0.1:43361
07:39:31.685 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.686 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.686 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.686 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43361
07:39:31.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
07:39:31.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; POST /upload HTTP/1.1
07:39:31.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Content-Type: multipart/mixed; 
	boundary=&quot;----=_Part_1_1996631747.1507898371685&quot;; charset=utf-8
07:39:31.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Content-Length: 329
07:39:31.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Host: localhost:43361
07:39:31.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Connection: Keep-Alive
07:39:31.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Type: multipart/mixed; [\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;[0x9]boundary=&quot;----=_Part_1_1996631747.1507898371685&quot;; charset=utf-8[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Length: 329[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Host: localhost:43361[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;------=_Part_1_1996631747.1507898371685[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;some data[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;------=_Part_1_1996631747.1507898371685[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
07:39:31.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &gt;&gt; &quot;------=_Part_1_1996631747.1507898371685--[\r][\n]&quot;
07:39:31.687 [XNIO-112 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/mixed; boundary=&quot;----=_Part_1_1996631747.1507898371685&quot;; charset=utf-8], Content-Length=[329], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43361]}, cookies=[:]): ------=_Part_1_1996631747.1507898371685
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;alpha&quot;

some data
------=_Part_1_1996631747.1507898371685
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;

This is bravo content
------=_Part_1_1996631747.1507898371685--
 }
07:39:31.689 [XNIO-112 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-111 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; HTTP/1.1 200 OK
07:39:31.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Content-Encoding: gzip
07:39:31.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Connection: keep-alive
07:39:31.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Content-Type: text/plain
07:39:31.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Content-Length: 27
07:39:31.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-111 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.689 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.689 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38208&lt;-&gt;127.0.0.1:43361
07:39:31.689 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.689 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3ecaa9a7
07:39:31.693 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1cd59ec
07:39:31.696 [XNIO-113 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-113 I/O-3', selector sun.nio.ch.EPollSelectorImpl@d6990c2
07:39:31.696 [XNIO-113 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-113 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1cf56455
07:39:31.696 [XNIO-113 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-113 I/O-1', selector sun.nio.ch.EPollSelectorImpl@131abfd2
07:39:31.697 [XNIO-113 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-113 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3dfeef63
07:39:31.696 [XNIO-113 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-113 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7d5cb951
07:39:31.697 [XNIO-113 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-113 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4008dcaa
07:39:31.699 [XNIO-113 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-113 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3d69272a
07:39:31.700 [XNIO-113 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-113 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2bed1729
07:39:31.700 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
07:39:31.700 [XNIO-113 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-113 Accept', selector sun.nio.ch.EPollSelectorImpl@dc84d4
07:39:31.700 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
07:39:31.702 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.702 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.702 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37115
07:39:31.702 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:37115
07:39:31.702 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37115
07:39:31.702 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:37115 with timeout 0
07:39:31.703 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
07:39:31.703 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
07:39:31.703 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
07:39:31.717 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
07:39:31.717 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
07:39:31.717 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
07:39:31.717 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:31.717 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
07:39:31.717 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53652&lt;-&gt;127.0.0.1:37115
07:39:31.717 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
07:39:31.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; POST /upload HTTP/1.1
07:39:31.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Content-Type: multipart/mixed; 
	boundary=&quot;----=_Part_2_690336026.1507898371701&quot;; charset=utf-8
07:39:31.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Content-Length: 326
07:39:31.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Host: localhost:37115
07:39:31.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Connection: Keep-Alive
07:39:31.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Type: multipart/mixed; [\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;[0x9]boundary=&quot;----=_Part_2_690336026.1507898371701&quot;; charset=utf-8[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Length: 326[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Host: localhost:37115[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;------=_Part_2_690336026.1507898371701[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;some data[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;------=_Part_2_690336026.1507898371701[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
07:39:31.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;------=_Part_2_690336026.1507898371701--[\r][\n]&quot;
07:39:31.718 [XNIO-113 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/mixed; boundary=&quot;----=_Part_2_690336026.1507898371701&quot;; charset=utf-8], Content-Length=[326], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37115]}, cookies=[:]): ------=_Part_2_690336026.1507898371701
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;alpha&quot;

some data
------=_Part_2_690336026.1507898371701
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;

This is bravo content
------=_Part_2_690336026.1507898371701--
 }
07:39:31.719 [XNIO-113 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; HTTP/1.1 200 OK
07:39:31.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Content-Encoding: gzip
07:39:31.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Connection: keep-alive
07:39:31.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Content-Type: text/plain
07:39:31.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Content-Length: 27
07:39:31.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.720 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.720 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53652&lt;-&gt;127.0.0.1:37115
07:39:31.721 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.721 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
07:39:31.721 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
07:39:31.722 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37115
07:39:31.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
07:39:31.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
07:39:31.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
07:39:31.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; POST /upload HTTP/1.1
07:39:31.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Content-Type: multipart/mixed; 
	boundary=&quot;----=_Part_3_1266009230.1507898371721&quot;; charset=utf-8
07:39:31.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Content-Length: 329
07:39:31.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Host: localhost:37115
07:39:31.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Connection: Keep-Alive
07:39:31.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
07:39:31.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &gt;&gt; Accept-Encoding: gzip,deflate
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Type: multipart/mixed; [\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;[0x9]boundary=&quot;----=_Part_3_1266009230.1507898371721&quot;; charset=utf-8[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Length: 329[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Host: localhost:37115[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;------=_Part_3_1266009230.1507898371721[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;some data[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;------=_Part_3_1266009230.1507898371721[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
07:39:31.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &gt;&gt; &quot;------=_Part_3_1266009230.1507898371721--[\r][\n]&quot;
07:39:31.724 [XNIO-113 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/mixed; boundary=&quot;----=_Part_3_1266009230.1507898371721&quot;; charset=utf-8], Content-Length=[329], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37115]}, cookies=[:]): ------=_Part_3_1266009230.1507898371721
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;alpha&quot;

some data
------=_Part_3_1266009230.1507898371721
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;

This is bravo content
------=_Part_3_1266009230.1507898371721--
 }
07:39:31.727 [XNIO-113 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
07:39:31.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
07:39:31.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
07:39:31.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
07:39:31.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
07:39:31.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
07:39:31.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;Date: Fri, 13 Oct 2017 12:39:23 GMT[\r][\n]&quot;
07:39:31.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;[\r][\n]&quot;
07:39:31.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-112 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
07:39:31.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; HTTP/1.1 200 OK
07:39:31.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Content-Encoding: gzip
07:39:31.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Connection: keep-alive
07:39:31.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Content-Type: text/plain
07:39:31.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Content-Length: 27
07:39:31.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-112 &lt;&lt; Date: Fri, 13 Oct 2017 12:39:23 GMT
07:39:31.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
07:39:31.728 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53652&lt;-&gt;127.0.0.1:37115
07:39:31.728 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
07:39:31.728 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1cd59ec
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.2.1</a> at Oct 13, 2017 7:39:32 AM</p>
</div>
</div>
</body>
</html>
