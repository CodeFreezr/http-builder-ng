<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpGetSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpGetSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpGetSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">61</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">1</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">4.960s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox skipped" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP GET with BASIC authentication (authorized)</td>
<td>0.260s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP GET with BASIC authentication (unauthorized)</td>
<td>0.160s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP GET with DIGEST authentication (authorized)</td>
<td>0.160s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP GET with DIGEST authentication (unauthorized)</td>
<td>0.074s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with BASIC authentication (authorized)</td>
<td>0.140s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with BASIC authentication (unauthorized)</td>
<td>0.143s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with DIGEST authentication (authorized)</td>
<td>0.106s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with DIGEST authentication (unauthorized)</td>
<td>0.077s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">cookies are not stored when disabled</td>
<td>0.093s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">cookies are only set once</td>
<td>0.120s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">exception handler chain works correctly</td>
<td>0.030s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">exception handler works with closure</td>
<td>0.084s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">exception handler works with function</td>
<td>0.037s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP application/json</td>
<td>0.118s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP application/xml</td>
<td>0.068s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP text/csv</td>
<td>0.082s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP text/html</td>
<td>0.076s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP text/plain</td>
<td>0.208s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS application/json</td>
<td>0.082s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS application/xml</td>
<td>0.112s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS text/csv</td>
<td>0.081s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS text/html</td>
<td>0.115s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS text/plain</td>
<td>0.068s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; [:]</td>
<td>0.040s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; [flavor:chocolate-chip, count:dozen]</td>
<td>0.048s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; [flavor:chocolate-chip]</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; null</td>
<td>0.084s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; [:]</td>
<td>0.053s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; [flavor:oatmeal, count:dozen]</td>
<td>0.089s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; [flavor:peanut-butter]</td>
<td>0.102s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; null</td>
<td>0.074s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [:]</td>
<td>0.032s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:[one, two], bravo:three]</td>
<td>0.022s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:[one, two]]</td>
<td>0.049s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:[one]]</td>
<td>0.058s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:one]</td>
<td>0.077s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; null</td>
<td>0.046s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; [:]</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; [coat:overcoat something]</td>
<td>0.036s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; [hat:fedora]</td>
<td>0.052s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; null</td>
<td>0.043s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">gzip compression supported</td>
<td>0.063s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">handles basic errors</td>
<td>0.031s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.056s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">proxied get(): HTTP com.stehno.ersatz.ContentType(text/plain)</td>
<td>0.405s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">server set cookies are honored</td>
<td>0.121s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="skipped">socks proxied get(): #protocol #contentType</td>
<td>-</td>
<td class="skipped">ignored</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.128s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.038s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.088s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.078s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.044s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.020s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.025s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.092s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.035s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.043s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.075s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.060s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.047s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>06:24:12.451 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.451 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-6: Shutdown connection
06:24:12.452 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.452 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection
06:24:12.453 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.453 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-9: Shutdown connection
06:24:12.453 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.453 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-4: Shutdown connection
06:24:12.455 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.456 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-3: Shutdown connection
06:24:12.456 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.456 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-1: Shutdown connection
06:24:12.459 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.459 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5: Shutdown connection
06:24:12.459 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.459 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-7: Shutdown connection
06:24:12.459 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.459 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-8: Shutdown connection
06:24:12.495 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@11c10189
06:24:12.497 [XNIO-11 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-1', selector sun.nio.ch.EPollSelectorImpl@ea59010
06:24:12.498 [XNIO-11 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6f43ca6c
06:24:12.501 [XNIO-11 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-3', selector sun.nio.ch.EPollSelectorImpl@71b92b9b
06:24:12.501 [XNIO-11 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3cd67c5
06:24:12.502 [XNIO-11 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-5', selector sun.nio.ch.EPollSelectorImpl@41430269
06:24:12.506 [XNIO-11 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5c4dc117
06:24:12.510 [XNIO-11 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-7', selector sun.nio.ch.EPollSelectorImpl@55de6283
06:24:12.513 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.513 [XNIO-11 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 Accept', selector sun.nio.ch.EPollSelectorImpl@60947a74
06:24:12.513 [XNIO-11 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1e748280
06:24:12.514 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.521 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.521 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.521 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39563
06:24:12.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39563
06:24:12.521 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39563
06:24:12.521 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:46754&lt;-&gt;127.0.0.1:39563
06:24:12.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:12.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; GET /alpha HTTP/1.1
06:24:12.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:39563
06:24:12.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
06:24:12.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:39563[\r][\n]&quot;
06:24:12.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.529 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39563]}, cookies=[:]): &lt;empty&gt; }
06:24:12.589 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:12.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:12.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:12.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:12.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
06:24:12.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
06:24:12.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
06:24:12.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/plain
06:24:12.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 27
06:24:12.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.598 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.677 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46754&lt;-&gt;127.0.0.1:39563
06:24:12.678 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.682 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.682 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.682 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39563
06:24:12.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:12.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; GET /alpha HTTP/1.1
06:24:12.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:39563
06:24:12.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
06:24:12.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:39563[\r][\n]&quot;
06:24:12.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.683 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39563]}, cookies=[:]): &lt;empty&gt; }
06:24:12.684 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:12.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:12.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:12.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:12.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
06:24:12.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
06:24:12.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
06:24:12.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/plain
06:24:12.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 27
06:24:12.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.684 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.685 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46754&lt;-&gt;127.0.0.1:39563
06:24:12.685 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.685 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@11c10189
06:24:12.698 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6e5d40e5
06:24:12.699 [XNIO-12 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4ddde997
06:24:12.701 [XNIO-12 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-2', selector sun.nio.ch.EPollSelectorImpl@67b531f9
06:24:12.703 [XNIO-12 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3c09c3cc
06:24:12.706 [XNIO-12 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2f33defe
06:24:12.708 [XNIO-12 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4a3bd312
06:24:12.710 [XNIO-12 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-6', selector sun.nio.ch.EPollSelectorImpl@79bf3ec8
06:24:12.710 [XNIO-12 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7714c1b4
06:24:12.712 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.713 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.713 [XNIO-12 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-8', selector sun.nio.ch.EPollSelectorImpl@284efde4
06:24:12.714 [XNIO-12 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 Accept', selector sun.nio.ch.EPollSelectorImpl@32400234
06:24:12.715 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.715 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.715 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34485
06:24:12.715 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:34485
06:24:12.716 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34485
06:24:12.716 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:34485 with timeout 0
06:24:12.716 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:12.716 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:12.716 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:12.738 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:12.738 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:12.738 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:12.738 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.738 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.738 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45124&lt;-&gt;127.0.0.1:34485
06:24:12.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:12.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; GET /alpha HTTP/1.1
06:24:12.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:34485
06:24:12.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
06:24:12.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:34485[\r][\n]&quot;
06:24:12.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.739 [XNIO-12 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34485]}, cookies=[:]): &lt;empty&gt; }
06:24:12.740 [XNIO-12 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:12.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:12.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:12.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:12.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
06:24:12.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
06:24:12.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
06:24:12.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/plain
06:24:12.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 27
06:24:12.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.742 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.742 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45124&lt;-&gt;127.0.0.1:34485
06:24:12.742 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.743 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.743 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.743 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34485
06:24:12.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:12.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; GET /alpha HTTP/1.1
06:24:12.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:34485
06:24:12.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
06:24:12.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:34485[\r][\n]&quot;
06:24:12.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.750 [XNIO-12 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34485]}, cookies=[:]): &lt;empty&gt; }
06:24:12.758 [XNIO-12 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:12.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:12.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:12.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:12.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
06:24:12.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
06:24:12.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
06:24:12.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/plain
06:24:12.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 27
06:24:12.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.759 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.760 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45124&lt;-&gt;127.0.0.1:34485
06:24:12.760 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.760 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6e5d40e5
06:24:12.774 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3a479b22
06:24:12.790 [XNIO-13 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-1', selector sun.nio.ch.EPollSelectorImpl@16a06f20
06:24:12.799 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.800 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.810 [XNIO-13 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-3', selector sun.nio.ch.EPollSelectorImpl@49c6dad3
06:24:12.810 [XNIO-13 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1fa61a6e
06:24:12.810 [XNIO-13 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4f94f166
06:24:12.810 [XNIO-13 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-5', selector sun.nio.ch.EPollSelectorImpl@39e4b01d
06:24:12.810 [XNIO-13 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4444143b
06:24:12.810 [XNIO-13 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6d450e56
06:24:12.814 [XNIO-13 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7ab2ae4e
06:24:12.816 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.816 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.816 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41871
06:24:12.816 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41871
06:24:12.816 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41871
06:24:12.817 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53782&lt;-&gt;127.0.0.1:41871
06:24:12.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:12.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; GET /alpha HTTP/1.1
06:24:12.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:41871
06:24:12.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
06:24:12.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:41871[\r][\n]&quot;
06:24:12.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.815 [XNIO-13 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 Accept', selector sun.nio.ch.EPollSelectorImpl@1d8c9ef8
06:24:12.822 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41871]}, cookies=[:]): &lt;empty&gt; }
06:24:12.834 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
06:24:12.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
06:24:12.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
06:24:12.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
06:24:12.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
06:24:12.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
06:24:12.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
06:24:12.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: application/json
06:24:12.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 39
06:24:12.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.835 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.866 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53782&lt;-&gt;127.0.0.1:41871
06:24:12.866 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.875 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.875 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.875 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41871
06:24:12.875 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:12.875 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.875 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; GET /alpha HTTP/1.1
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:41871
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:41871[\r][\n]&quot;
06:24:12.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.877 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41871]}, cookies=[:]): &lt;empty&gt; }
06:24:12.878 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
06:24:12.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
06:24:12.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
06:24:12.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
06:24:12.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
06:24:12.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
06:24:12.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
06:24:12.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: application/json
06:24:12.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 39
06:24:12.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.879 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53782&lt;-&gt;127.0.0.1:41871
06:24:12.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.880 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3a479b22
06:24:12.886 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3188d55a
06:24:12.888 [XNIO-14 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2a2680e1
06:24:12.891 [XNIO-14 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-3', selector sun.nio.ch.EPollSelectorImpl@900a0c6
06:24:12.892 [XNIO-14 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3d3229b4
06:24:12.892 [XNIO-14 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-4', selector sun.nio.ch.EPollSelectorImpl@646bc289
06:24:12.893 [XNIO-14 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-5', selector sun.nio.ch.EPollSelectorImpl@42e35aaa
06:24:12.894 [XNIO-14 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3ca3b018
06:24:12.898 [XNIO-14 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5271e139
06:24:12.898 [XNIO-14 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7b54a7f5
06:24:12.905 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.906 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.907 [XNIO-14 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 Accept', selector sun.nio.ch.EPollSelectorImpl@520603a5
06:24:12.910 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.911 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.911 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39057
06:24:12.911 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:39057
06:24:12.911 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39057
06:24:12.911 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:39057 with timeout 0
06:24:12.911 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:12.911 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:12.911 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:12.945 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:12.945 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:12.945 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:12.945 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.945 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.945 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47952&lt;-&gt;127.0.0.1:39057
06:24:12.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:12.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; GET /alpha HTTP/1.1
06:24:12.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:39057
06:24:12.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
06:24:12.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:39057[\r][\n]&quot;
06:24:12.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.946 [XNIO-14 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39057]}, cookies=[:]): &lt;empty&gt; }
06:24:12.947 [XNIO-14 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
06:24:12.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
06:24:12.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
06:24:12.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
06:24:12.948 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
06:24:12.948 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
06:24:12.948 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
06:24:12.948 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: application/json
06:24:12.948 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 39
06:24:12.948 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.948 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47952&lt;-&gt;127.0.0.1:39057
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.949 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.949 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39057
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; GET /alpha HTTP/1.1
06:24:12.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:39057
06:24:12.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
06:24:12.950 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.950 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.950 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.950 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:39057[\r][\n]&quot;
06:24:12.950 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.952 [XNIO-14 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39057]}, cookies=[:]): &lt;empty&gt; }
06:24:12.953 [XNIO-14 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
06:24:12.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
06:24:12.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
06:24:12.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
06:24:12.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: application/json
06:24:12.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 39
06:24:12.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.956 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.957 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47952&lt;-&gt;127.0.0.1:39057
06:24:12.957 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.957 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3188d55a
06:24:12.984 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@19f1221e
06:24:12.985 [XNIO-15 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-1', selector sun.nio.ch.EPollSelectorImpl@559d567e
06:24:12.986 [XNIO-15 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-2', selector sun.nio.ch.EPollSelectorImpl@20475169
06:24:12.986 [XNIO-15 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-3', selector sun.nio.ch.EPollSelectorImpl@606ecb0e
06:24:12.994 [XNIO-15 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-4', selector sun.nio.ch.EPollSelectorImpl@61b37a4b
06:24:12.997 [XNIO-15 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3652dd02
06:24:12.997 [XNIO-15 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1f4424b9
06:24:12.998 [XNIO-15 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2f239a91
06:24:12.998 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.999 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.002 [XNIO-15 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 Accept', selector sun.nio.ch.EPollSelectorImpl@2e46c3c0
06:24:13.003 [XNIO-15 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-8', selector sun.nio.ch.EPollSelectorImpl@25d81880
06:24:13.005 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.005 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.005 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33455
06:24:13.005 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33455
06:24:13.005 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33455
06:24:13.006 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49346&lt;-&gt;127.0.0.1:33455
06:24:13.006 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.006 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.006 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:33455
06:24:13.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
06:24:13.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:33455[\r][\n]&quot;
06:24:13.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.009 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33455]}, cookies=[:]): &lt;empty&gt; }
06:24:13.010 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
06:24:13.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
06:24:13.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
06:24:13.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
06:24:13.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: application/xml
06:24:13.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 65
06:24:13.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.012 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.017 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49346&lt;-&gt;127.0.0.1:33455
06:24:13.017 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.018 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.018 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.018 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33455
06:24:13.019 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.019 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.019 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:33455
06:24:13.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
06:24:13.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:33455[\r][\n]&quot;
06:24:13.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.027 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33455]}, cookies=[:]): &lt;empty&gt; }
06:24:13.028 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
06:24:13.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
06:24:13.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
06:24:13.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
06:24:13.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
06:24:13.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
06:24:13.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
06:24:13.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: application/xml
06:24:13.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 65
06:24:13.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.033 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.036 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49346&lt;-&gt;127.0.0.1:33455
06:24:13.036 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.036 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@19f1221e
06:24:13.061 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2558d2a
06:24:13.067 [XNIO-16 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-1', selector sun.nio.ch.EPollSelectorImpl@70e9ea10
06:24:13.069 [XNIO-16 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-3', selector sun.nio.ch.EPollSelectorImpl@74e34e72
06:24:13.069 [XNIO-16 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6737c675
06:24:13.070 [XNIO-16 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3dabefbf
06:24:13.070 [XNIO-16 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1734bb55
06:24:13.073 [XNIO-16 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-7', selector sun.nio.ch.EPollSelectorImpl@70f10847
06:24:13.078 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.078 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.069 [XNIO-16 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-2', selector sun.nio.ch.EPollSelectorImpl@56cd6e76
06:24:13.074 [XNIO-16 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7ac02677
06:24:13.081 [XNIO-16 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 Accept', selector sun.nio.ch.EPollSelectorImpl@4f137c92
06:24:13.082 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.082 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.082 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37731
06:24:13.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:37731
06:24:13.082 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37731
06:24:13.082 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:37731 with timeout 0
06:24:13.083 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:13.083 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:13.083 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:13.116 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:13.117 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:13.117 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:13.117 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.117 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.117 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52108&lt;-&gt;127.0.0.1:37731
06:24:13.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:37731
06:24:13.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
06:24:13.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:37731[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.120 [XNIO-16 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37731]}, cookies=[:]): &lt;empty&gt; }
06:24:13.121 [XNIO-16 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
06:24:13.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
06:24:13.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
06:24:13.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
06:24:13.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
06:24:13.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
06:24:13.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
06:24:13.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: application/xml
06:24:13.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 65
06:24:13.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.122 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.136 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52108&lt;-&gt;127.0.0.1:37731
06:24:13.136 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.137 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.137 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.137 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37731
06:24:13.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.137 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.137 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.138 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:37731
06:24:13.138 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
06:24:13.138 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.138 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:37731[\r][\n]&quot;
06:24:13.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.138 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.158 [XNIO-16 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37731]}, cookies=[:]): &lt;empty&gt; }
06:24:13.158 [XNIO-16 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
06:24:13.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
06:24:13.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
06:24:13.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
06:24:13.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
06:24:13.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
06:24:13.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
06:24:13.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: application/xml
06:24:13.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 65
06:24:13.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.160 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.165 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52108&lt;-&gt;127.0.0.1:37731
06:24:13.166 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.166 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2558d2a
06:24:13.175 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@36c3173
06:24:13.178 [XNIO-17 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-1', selector sun.nio.ch.EPollSelectorImpl@53b98521
06:24:13.178 [XNIO-17 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4235a84
06:24:13.179 [XNIO-17 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7d84243a
06:24:13.179 [XNIO-17 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-3', selector sun.nio.ch.EPollSelectorImpl@101d7fc0
06:24:13.191 [XNIO-17 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-7', selector sun.nio.ch.EPollSelectorImpl@17867005
06:24:13.194 [XNIO-17 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-8', selector sun.nio.ch.EPollSelectorImpl@37da2f53
06:24:13.195 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.191 [XNIO-17 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-5', selector sun.nio.ch.EPollSelectorImpl@69d7f3b
06:24:13.191 [XNIO-17 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-6', selector sun.nio.ch.EPollSelectorImpl@130d4d49
06:24:13.195 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.197 [XNIO-17 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 Accept', selector sun.nio.ch.EPollSelectorImpl@4693a125
06:24:13.198 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.198 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.199 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44703
06:24:13.199 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44703
06:24:13.199 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44703
06:24:13.199 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41324&lt;-&gt;127.0.0.1:44703
06:24:13.199 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.199 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.199 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:44703
06:24:13.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
06:24:13.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:44703[\r][\n]&quot;
06:24:13.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.205 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44703]}, cookies=[:]): &lt;empty&gt; }
06:24:13.206 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
06:24:13.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
06:24:13.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
06:24:13.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
06:24:13.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
06:24:13.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
06:24:13.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
06:24:13.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/html
06:24:13.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 40
06:24:13.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.207 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.211 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41324&lt;-&gt;127.0.0.1:44703
06:24:13.211 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.233 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.233 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.233 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44703
06:24:13.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:44703
06:24:13.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
06:24:13.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:44703[\r][\n]&quot;
06:24:13.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.237 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44703]}, cookies=[:]): &lt;empty&gt; }
06:24:13.237 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
06:24:13.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
06:24:13.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
06:24:13.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
06:24:13.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
06:24:13.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
06:24:13.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
06:24:13.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/html
06:24:13.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 40
06:24:13.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.239 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.244 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41324&lt;-&gt;127.0.0.1:44703
06:24:13.244 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.245 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@36c3173
06:24:13.252 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@72ede22b
06:24:13.254 [XNIO-18 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-1', selector sun.nio.ch.EPollSelectorImpl@49838e57
06:24:13.254 [XNIO-18 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-2', selector sun.nio.ch.EPollSelectorImpl@50010db1
06:24:13.263 [XNIO-18 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4c1c96c3
06:24:13.263 [XNIO-18 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2576ba4
06:24:13.263 [XNIO-18 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-5', selector sun.nio.ch.EPollSelectorImpl@790a690e
06:24:13.267 [XNIO-18 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3c7f2801
06:24:13.270 [XNIO-18 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-7', selector sun.nio.ch.EPollSelectorImpl@51076782
06:24:13.277 [XNIO-18 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-8', selector sun.nio.ch.EPollSelectorImpl@434361bb
06:24:13.278 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.279 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.284 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.284 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.284 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43977
06:24:13.284 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:43977
06:24:13.284 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43977
06:24:13.284 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:43977 with timeout 0
06:24:13.284 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:13.284 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:13.284 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:13.286 [XNIO-18 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 Accept', selector sun.nio.ch.EPollSelectorImpl@4b153236
06:24:13.327 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:13.327 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:13.327 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:13.327 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.327 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.327 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:32824&lt;-&gt;127.0.0.1:43977
06:24:13.327 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.327 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.327 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:43977
06:24:13.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
06:24:13.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:43977[\r][\n]&quot;
06:24:13.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.353 [XNIO-18 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43977]}, cookies=[:]): &lt;empty&gt; }
06:24:13.354 [XNIO-18 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
06:24:13.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
06:24:13.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
06:24:13.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
06:24:13.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
06:24:13.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
06:24:13.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
06:24:13.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/html
06:24:13.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 40
06:24:13.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.356 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.356 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32824&lt;-&gt;127.0.0.1:43977
06:24:13.356 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.357 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.357 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.357 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43977
06:24:13.357 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.357 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.357 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:43977
06:24:13.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
06:24:13.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:43977[\r][\n]&quot;
06:24:13.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.360 [XNIO-18 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43977]}, cookies=[:]): &lt;empty&gt; }
06:24:13.361 [XNIO-18 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
06:24:13.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
06:24:13.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
06:24:13.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
06:24:13.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
06:24:13.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
06:24:13.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
06:24:13.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/html
06:24:13.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 40
06:24:13.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.362 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.363 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32824&lt;-&gt;127.0.0.1:43977
06:24:13.363 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.363 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@72ede22b
06:24:13.369 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@29afc9a6
06:24:13.390 [XNIO-19 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-2', selector sun.nio.ch.EPollSelectorImpl@78d4b6cc
06:24:13.392 [XNIO-19 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-1', selector sun.nio.ch.EPollSelectorImpl@50a48147
06:24:13.390 [XNIO-19 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-3', selector sun.nio.ch.EPollSelectorImpl@26926f0a
06:24:13.394 [XNIO-19 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2f59d555
06:24:13.402 [XNIO-19 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3c14cbb8
06:24:13.392 [XNIO-19 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7f47c3ce
06:24:13.406 [XNIO-19 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-8', selector sun.nio.ch.EPollSelectorImpl@46b10ea4
06:24:13.392 [XNIO-19 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4e85ac7
06:24:13.413 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.413 [XNIO-19 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 Accept', selector sun.nio.ch.EPollSelectorImpl@6067189
06:24:13.414 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.416 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.416 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.416 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40975
06:24:13.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40975
06:24:13.417 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40975
06:24:13.417 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44466&lt;-&gt;127.0.0.1:40975
06:24:13.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:40975
06:24:13.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
06:24:13.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.417 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:40975[\r][\n]&quot;
06:24:13.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.417 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.423 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40975]}, cookies=[:]): &lt;empty&gt; }
06:24:13.424 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
06:24:13.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
06:24:13.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
06:24:13.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
06:24:13.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
06:24:13.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
06:24:13.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
06:24:13.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/csv
06:24:13.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 53
06:24:13.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.425 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.431 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44466&lt;-&gt;127.0.0.1:40975
06:24:13.431 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.431 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.431 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.431 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40975
06:24:13.431 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.432 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.432 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:40975
06:24:13.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
06:24:13.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:40975[\r][\n]&quot;
06:24:13.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.432 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40975]}, cookies=[:]): &lt;empty&gt; }
06:24:13.433 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
06:24:13.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
06:24:13.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
06:24:13.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
06:24:13.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
06:24:13.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
06:24:13.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
06:24:13.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/csv
06:24:13.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 53
06:24:13.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.446 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44466&lt;-&gt;127.0.0.1:40975
06:24:13.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.447 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@29afc9a6
06:24:13.453 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6a6f35e8
06:24:13.455 [XNIO-20 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-1', selector sun.nio.ch.EPollSelectorImpl@42cc1ca4
06:24:13.455 [XNIO-20 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-2', selector sun.nio.ch.EPollSelectorImpl@a08af73
06:24:13.456 [XNIO-20 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-3', selector sun.nio.ch.EPollSelectorImpl@28ecad37
06:24:13.456 [XNIO-20 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-4', selector sun.nio.ch.EPollSelectorImpl@56c6bc8b
06:24:13.456 [XNIO-20 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3147a77a
06:24:13.457 [XNIO-20 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1e963f7e
06:24:13.456 [XNIO-20 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5d78dbac
06:24:13.457 [XNIO-20 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2427c605
06:24:13.458 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.473 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.473 [XNIO-20 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 Accept', selector sun.nio.ch.EPollSelectorImpl@5469f059
06:24:13.476 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.476 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.476 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43479
06:24:13.476 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:43479
06:24:13.476 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43479
06:24:13.476 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:43479 with timeout 0
06:24:13.477 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:13.477 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:13.477 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:13.477 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.477 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-11: Shutdown connection
06:24:13.490 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.490 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Shutdown connection
06:24:13.490 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.490 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-10: Shutdown connection
06:24:13.491 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.491 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Shutdown connection
06:24:13.492 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.492 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-18: Shutdown connection
06:24:13.492 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.492 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-17: Shutdown connection
06:24:13.493 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.493 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-15: Shutdown connection
06:24:13.493 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.493 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Shutdown connection
06:24:13.493 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.493 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-16: Shutdown connection
06:24:13.520 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:13.520 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:13.520 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:13.520 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.520 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.520 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57580&lt;-&gt;127.0.0.1:43479
06:24:13.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:43479
06:24:13.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
06:24:13.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:43479[\r][\n]&quot;
06:24:13.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.522 [XNIO-20 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43479]}, cookies=[:]): &lt;empty&gt; }
06:24:13.523 [XNIO-20 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
06:24:13.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
06:24:13.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
06:24:13.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/csv
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 53
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.524 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57580&lt;-&gt;127.0.0.1:43479
06:24:13.524 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.525 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.525 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.525 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43479
06:24:13.525 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
06:24:13.525 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.525 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; GET /alpha HTTP/1.1
06:24:13.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:43479
06:24:13.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
06:24:13.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:43479[\r][\n]&quot;
06:24:13.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.527 [XNIO-20 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43479]}, cookies=[:]): &lt;empty&gt; }
06:24:13.528 [XNIO-20 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/csv
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 53
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.529 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.529 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57580&lt;-&gt;127.0.0.1:43479
06:24:13.529 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.530 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6a6f35e8
06:24:13.531 [XNIO-20 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 27 common frames omitted
06:24:13.548 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6835eeb8
06:24:13.550 [XNIO-21 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6025463
06:24:13.550 [XNIO-21 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1e56af1d
06:24:13.550 [XNIO-21 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-6', selector sun.nio.ch.EPollSelectorImpl@426ad1db
06:24:13.550 [XNIO-21 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3bc9cc43
06:24:13.550 [XNIO-21 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2e7f42f4
06:24:13.550 [XNIO-21 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4287e01e
06:24:13.550 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.550 [XNIO-21 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5a956376
06:24:13.550 [XNIO-21 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 Accept', selector sun.nio.ch.EPollSelectorImpl@5d1d184e
06:24:13.550 [XNIO-21 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-7', selector sun.nio.ch.EPollSelectorImpl@627eaeeb
06:24:13.552 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.564 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.564 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.564 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42943
06:24:13.564 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42943
06:24:13.564 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42943
06:24:13.564 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60368&lt;-&gt;127.0.0.1:42943
06:24:13.564 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
06:24:13.564 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.564 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; GET /bravo HTTP/1.1
06:24:13.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:42943
06:24:13.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
06:24:13.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
06:24:13.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:42943[\r][\n]&quot;
06:24:13.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.567 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42943]}, cookies=[:]): &lt;empty&gt; }
06:24:13.568 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.570 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60368&lt;-&gt;127.0.0.1:42943
06:24:13.570 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.571 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.571 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.571 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42943
06:24:13.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
06:24:13.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; GET /bravo HTTP/1.1
06:24:13.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:42943
06:24:13.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
06:24:13.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
06:24:13.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:42943[\r][\n]&quot;
06:24:13.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.578 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42943]}, cookies=[:]): &lt;empty&gt; }
06:24:13.578 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
06:24:13.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
06:24:13.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
06:24:13.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
06:24:13.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
06:24:13.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.579 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.579 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60368&lt;-&gt;127.0.0.1:42943
06:24:13.579 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.580 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6835eeb8
06:24:13.586 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5ad89c70
06:24:13.589 [XNIO-22 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2cb78cec
06:24:13.589 [XNIO-22 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-2', selector sun.nio.ch.EPollSelectorImpl@15bd69ed
06:24:13.591 [XNIO-22 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-4', selector sun.nio.ch.EPollSelectorImpl@39df695
06:24:13.593 [XNIO-22 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7f89abb4
06:24:13.591 [XNIO-22 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4946ce7
06:24:13.592 [XNIO-22 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-5', selector sun.nio.ch.EPollSelectorImpl@78d4fdb3
06:24:13.593 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.593 [XNIO-22 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2a4301e7
06:24:13.593 [XNIO-22 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 Accept', selector sun.nio.ch.EPollSelectorImpl@4f3554df
06:24:13.597 [XNIO-22 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-8', selector sun.nio.ch.EPollSelectorImpl@570f52b4
06:24:13.597 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.600 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.600 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.600 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35199
06:24:13.600 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35199
06:24:13.600 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35199
06:24:13.600 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40906&lt;-&gt;127.0.0.1:35199
06:24:13.600 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
06:24:13.600 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.600 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; GET /bravo HTTP/1.1
06:24:13.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:35199
06:24:13.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
06:24:13.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
06:24:13.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:35199[\r][\n]&quot;
06:24:13.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.601 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35199]}, cookies=[:]): &lt;empty&gt; }
06:24:13.603 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
06:24:13.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
06:24:13.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
06:24:13.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
06:24:13.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
06:24:13.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.604 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.605 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40906&lt;-&gt;127.0.0.1:35199
06:24:13.605 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.606 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.606 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.606 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35199
06:24:13.606 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
06:24:13.606 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.606 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; GET /bravo HTTP/1.1
06:24:13.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:35199
06:24:13.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
06:24:13.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.607 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
06:24:13.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:35199[\r][\n]&quot;
06:24:13.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.607 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.610 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35199]}, cookies=[:]): &lt;empty&gt; }
06:24:13.611 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
06:24:13.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
06:24:13.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
06:24:13.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
06:24:13.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
06:24:13.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.612 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.612 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40906&lt;-&gt;127.0.0.1:35199
06:24:13.612 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.613 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5ad89c70
06:24:13.621 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@46a1c635
06:24:13.625 [XNIO-23 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4d8ec54a
06:24:13.625 [XNIO-23 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-1', selector sun.nio.ch.EPollSelectorImpl@71c5dd3
06:24:13.625 [XNIO-23 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3ebef0e9
06:24:13.625 [XNIO-23 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-5', selector sun.nio.ch.EPollSelectorImpl@64718e9b
06:24:13.625 [XNIO-23 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-4', selector sun.nio.ch.EPollSelectorImpl@74102264
06:24:13.626 [XNIO-23 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4b67fc23
06:24:13.627 [XNIO-23 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-8', selector sun.nio.ch.EPollSelectorImpl@49a89e3f
06:24:13.627 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.627 [XNIO-23 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 Accept', selector sun.nio.ch.EPollSelectorImpl@38526806
06:24:13.627 [XNIO-23 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-6', selector sun.nio.ch.EPollSelectorImpl@31e20031
06:24:13.634 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.643 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.643 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.643 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34221
06:24:13.643 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34221
06:24:13.643 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34221
06:24:13.643 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37662&lt;-&gt;127.0.0.1:34221
06:24:13.643 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
06:24:13.643 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.643 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.643 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
06:24:13.643 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:34221
06:24:13.643 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
06:24:13.643 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.643 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:13.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:34221[\r][\n]&quot;
06:24:13.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.648 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34221]}, cookies=[:]): &lt;empty&gt; }
06:24:13.678 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
06:24:13.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
06:24:13.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
06:24:13.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
06:24:13.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
06:24:13.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.679 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.679 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37662&lt;-&gt;127.0.0.1:34221
06:24:13.679 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.680 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.680 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.680 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34221
06:24:13.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
06:24:13.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
06:24:13.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:34221
06:24:13.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
06:24:13.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:13.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:34221[\r][\n]&quot;
06:24:13.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.689 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34221]}, cookies=[:]): &lt;empty&gt; }
06:24:13.690 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
06:24:13.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
06:24:13.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
06:24:13.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
06:24:13.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
06:24:13.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.691 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.691 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37662&lt;-&gt;127.0.0.1:34221
06:24:13.691 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.691 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@46a1c635
06:24:13.712 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@abc52b4
06:24:13.713 [XNIO-24 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-1', selector sun.nio.ch.EPollSelectorImpl@79bcf59d
06:24:13.713 [XNIO-24 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-3', selector sun.nio.ch.EPollSelectorImpl@61b07913
06:24:13.716 [XNIO-24 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5add7375
06:24:13.713 [XNIO-24 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7fd6d064
06:24:13.717 [XNIO-24 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-6', selector sun.nio.ch.EPollSelectorImpl@446f4426
06:24:13.718 [XNIO-24 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-7', selector sun.nio.ch.EPollSelectorImpl@bcda41d
06:24:13.719 [XNIO-24 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 Accept', selector sun.nio.ch.EPollSelectorImpl@55722e8d
06:24:13.717 [XNIO-24 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1ac462f4
06:24:13.718 [XNIO-24 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-8', selector sun.nio.ch.EPollSelectorImpl@16f355a4
06:24:13.719 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.728 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.730 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.730 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.730 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38721
06:24:13.730 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38721
06:24:13.730 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38721
06:24:13.731 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44220&lt;-&gt;127.0.0.1:38721
06:24:13.731 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
06:24:13.731 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.731 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
06:24:13.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:38721
06:24:13.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
06:24:13.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:13.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:38721[\r][\n]&quot;
06:24:13.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.736 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38721]}, cookies=[:]): &lt;empty&gt; }
06:24:13.745 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/plain
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 27
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.746 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.747 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44220&lt;-&gt;127.0.0.1:38721
06:24:13.747 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.748 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.748 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.748 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38721
06:24:13.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
06:24:13.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
06:24:13.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:38721
06:24:13.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
06:24:13.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:13.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:38721[\r][\n]&quot;
06:24:13.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.749 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38721]}, cookies=[:]): &lt;empty&gt; }
06:24:13.749 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
06:24:13.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
06:24:13.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
06:24:13.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/plain
06:24:13.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 27
06:24:13.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.750 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.750 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44220&lt;-&gt;127.0.0.1:38721
06:24:13.750 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.750 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@abc52b4
06:24:13.755 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@29129662
06:24:13.763 [XNIO-25 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-1', selector sun.nio.ch.EPollSelectorImpl@39fe9d2d
06:24:13.763 [XNIO-25 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-2', selector sun.nio.ch.EPollSelectorImpl@349a36d3
06:24:13.768 [XNIO-25 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-3', selector sun.nio.ch.EPollSelectorImpl@c7fd9dd
06:24:13.768 [XNIO-25 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-4', selector sun.nio.ch.EPollSelectorImpl@42ff36ad
06:24:13.769 [XNIO-25 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-5', selector sun.nio.ch.EPollSelectorImpl@40b45a14
06:24:13.769 [XNIO-25 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4b2cd94
06:24:13.769 [XNIO-25 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-6', selector sun.nio.ch.EPollSelectorImpl@36904bb0
06:24:13.769 [XNIO-25 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-8', selector sun.nio.ch.EPollSelectorImpl@15b37126
06:24:13.769 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.770 [XNIO-25 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 Accept', selector sun.nio.ch.EPollSelectorImpl@4eafc685
06:24:13.770 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.773 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.773 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.773 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38539
06:24:13.773 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38539
06:24:13.773 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38539
06:24:13.773 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60316&lt;-&gt;127.0.0.1:38539
06:24:13.773 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.773 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.773 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:38539
06:24:13.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
06:24:13.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
06:24:13.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:38539[\r][\n]&quot;
06:24:13.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.774 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38539]}, cookies=[:]): &lt;empty&gt; }
06:24:13.775 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
06:24:13.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
06:24:13.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
06:24:13.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/plain
06:24:13.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 27
06:24:13.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.776 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60316&lt;-&gt;127.0.0.1:38539
06:24:13.776 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.777 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.777 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.777 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38539
06:24:13.777 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.777 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.777 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:38539
06:24:13.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
06:24:13.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
06:24:13.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:38539[\r][\n]&quot;
06:24:13.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.798 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38539]}, cookies=[:]): &lt;empty&gt; }
06:24:13.799 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
06:24:13.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
06:24:13.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
06:24:13.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/plain
06:24:13.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 27
06:24:13.799 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.800 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.800 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60316&lt;-&gt;127.0.0.1:38539
06:24:13.800 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.800 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@29129662
06:24:13.805 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@381eab4b
06:24:13.807 [XNIO-26 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-1', selector sun.nio.ch.EPollSelectorImpl@241c8fa3
06:24:13.807 [XNIO-26 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7f7779a
06:24:13.810 [XNIO-26 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1b1af026
06:24:13.810 [XNIO-26 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-5', selector sun.nio.ch.EPollSelectorImpl@225d4a45
06:24:13.810 [XNIO-26 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-3', selector sun.nio.ch.EPollSelectorImpl@652f02b6
06:24:13.811 [XNIO-26 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-7', selector sun.nio.ch.EPollSelectorImpl@774164b1
06:24:13.812 [XNIO-26 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-8', selector sun.nio.ch.EPollSelectorImpl@19c83042
06:24:13.812 [XNIO-26 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 Accept', selector sun.nio.ch.EPollSelectorImpl@7bd157a6
06:24:13.812 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.811 [XNIO-26 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-6', selector sun.nio.ch.EPollSelectorImpl@15e85e57
06:24:13.813 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.815 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.816 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.816 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35011
06:24:13.816 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35011
06:24:13.816 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35011
06:24:13.816 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53868&lt;-&gt;127.0.0.1:35011
06:24:13.816 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.816 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.816 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.816 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.816 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:35011
06:24:13.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
06:24:13.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
06:24:13.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:35011[\r][\n]&quot;
06:24:13.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.817 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35011]}, cookies=[:]): &lt;empty&gt; }
06:24:13.818 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
06:24:13.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
06:24:13.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
06:24:13.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/plain
06:24:13.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 27
06:24:13.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.819 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.819 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53868&lt;-&gt;127.0.0.1:35011
06:24:13.819 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.820 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.820 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.820 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35011
06:24:13.820 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.820 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.820 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:35011
06:24:13.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
06:24:13.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.820 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
06:24:13.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:35011[\r][\n]&quot;
06:24:13.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.820 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.820 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35011]}, cookies=[:]): &lt;empty&gt; }
06:24:13.821 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.821 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
06:24:13.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
06:24:13.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
06:24:13.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/plain
06:24:13.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 27
06:24:13.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.823 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53868&lt;-&gt;127.0.0.1:35011
06:24:13.823 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.824 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@381eab4b
06:24:13.833 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@b5fe940
06:24:13.835 [XNIO-27 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7c577a5f
06:24:13.835 [XNIO-27 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-3', selector sun.nio.ch.EPollSelectorImpl@48db8cac
06:24:13.835 [XNIO-27 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6f631976
06:24:13.835 [XNIO-27 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2866b29a
06:24:13.835 [XNIO-27 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3ec9d893
06:24:13.835 [XNIO-27 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2bdccc55
06:24:13.843 [XNIO-27 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-8', selector sun.nio.ch.EPollSelectorImpl@287b8364
06:24:13.843 [XNIO-27 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7ed0a38c
06:24:13.844 [XNIO-27 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 Accept', selector sun.nio.ch.EPollSelectorImpl@7041f53f
06:24:13.844 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.845 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.854 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.855 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.855 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37063
06:24:13.855 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37063
06:24:13.855 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37063
06:24:13.855 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48368&lt;-&gt;127.0.0.1:37063
06:24:13.855 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
06:24:13.855 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.855 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; GET /charlie HTTP/1.1
06:24:13.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:37063
06:24:13.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
06:24:13.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:37063[\r][\n]&quot;
06:24:13.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.860 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37063]}, cookies=[:]): &lt;empty&gt; }
06:24:13.862 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
06:24:13.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
06:24:13.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
06:24:13.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/plain
06:24:13.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 27
06:24:13.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.863 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.863 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48368&lt;-&gt;127.0.0.1:37063
06:24:13.863 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.865 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.865 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.865 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37063
06:24:13.865 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
06:24:13.865 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.865 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; GET /charlie HTTP/1.1
06:24:13.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:37063
06:24:13.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
06:24:13.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:37063[\r][\n]&quot;
06:24:13.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.866 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37063]}, cookies=[:]): &lt;empty&gt; }
06:24:13.866 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
06:24:13.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
06:24:13.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
06:24:13.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/plain
06:24:13.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 27
06:24:13.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.867 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.867 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48368&lt;-&gt;127.0.0.1:37063
06:24:13.867 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.868 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@b5fe940
06:24:13.872 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@41072e5b
06:24:13.874 [XNIO-28 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6ecf8acb
06:24:13.875 [XNIO-28 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-2', selector sun.nio.ch.EPollSelectorImpl@265ef746
06:24:13.876 [XNIO-28 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-3', selector sun.nio.ch.EPollSelectorImpl@35523305
06:24:13.876 [XNIO-28 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1721a594
06:24:13.876 [XNIO-28 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-6', selector sun.nio.ch.EPollSelectorImpl@78054743
06:24:13.876 [XNIO-28 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-5', selector sun.nio.ch.EPollSelectorImpl@779377be
06:24:13.876 [XNIO-28 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-7', selector sun.nio.ch.EPollSelectorImpl@47ea6608
06:24:13.876 [XNIO-28 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-8', selector sun.nio.ch.EPollSelectorImpl@668562a4
06:24:13.876 [XNIO-28 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 Accept', selector sun.nio.ch.EPollSelectorImpl@2219ef68
06:24:13.876 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.877 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.879 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.879 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.879 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37789
06:24:13.879 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37789
06:24:13.879 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37789
06:24:13.879 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58652&lt;-&gt;127.0.0.1:37789
06:24:13.879 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
06:24:13.879 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.879 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; GET /charlie HTTP/1.1
06:24:13.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37789
06:24:13.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
06:24:13.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37789[\r][\n]&quot;
06:24:13.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.880 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37789]}, cookies=[:]): &lt;empty&gt; }
06:24:13.882 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
06:24:13.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
06:24:13.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
06:24:13.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/plain
06:24:13.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 27
06:24:13.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.884 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58652&lt;-&gt;127.0.0.1:37789
06:24:13.884 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.884 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.884 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.884 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37789
06:24:13.884 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
06:24:13.884 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.884 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; GET /charlie HTTP/1.1
06:24:13.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37789
06:24:13.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
06:24:13.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37789[\r][\n]&quot;
06:24:13.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.887 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37789]}, cookies=[:]): &lt;empty&gt; }
06:24:13.888 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.889 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.889 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.889 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
06:24:13.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
06:24:13.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
06:24:13.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/plain
06:24:13.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 27
06:24:13.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.890 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.890 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58652&lt;-&gt;127.0.0.1:37789
06:24:13.890 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.891 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@41072e5b
06:24:13.906 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1a97aecd
06:24:13.911 [XNIO-29 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-1', selector sun.nio.ch.EPollSelectorImpl@75865a0e
06:24:13.914 [XNIO-29 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4a654966
06:24:13.914 [XNIO-29 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6a14991d
06:24:13.915 [XNIO-29 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-4', selector sun.nio.ch.EPollSelectorImpl@798fa3a
06:24:13.915 [XNIO-29 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-5', selector sun.nio.ch.EPollSelectorImpl@36495b9c
06:24:13.915 [XNIO-29 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6497b504
06:24:13.915 [XNIO-29 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7decc5e4
06:24:13.915 [XNIO-29 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7b53601d
06:24:13.915 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.916 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.917 [XNIO-29 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 Accept', selector sun.nio.ch.EPollSelectorImpl@784f2a08
06:24:13.927 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.927 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.927 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46463
06:24:13.927 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46463
06:24:13.928 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46463
06:24:13.928 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40106&lt;-&gt;127.0.0.1:46463
06:24:13.928 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
06:24:13.928 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.928 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; GET /charlie HTTP/1.1
06:24:13.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; hat: fedora
06:24:13.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:46463
06:24:13.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
06:24:13.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
06:24:13.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:46463[\r][\n]&quot;
06:24:13.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.929 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:46463]}, cookies=[:]): &lt;empty&gt; }
06:24:13.943 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
06:24:13.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
06:24:13.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
06:24:13.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/plain
06:24:13.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 27
06:24:13.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.944 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.944 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40106&lt;-&gt;127.0.0.1:46463
06:24:13.944 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.945 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.945 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.945 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46463
06:24:13.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
06:24:13.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; GET /charlie HTTP/1.1
06:24:13.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; hat: fedora
06:24:13.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:46463
06:24:13.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
06:24:13.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
06:24:13.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:46463[\r][\n]&quot;
06:24:13.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.946 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:46463]}, cookies=[:]): &lt;empty&gt; }
06:24:13.946 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
06:24:13.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
06:24:13.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
06:24:13.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/plain
06:24:13.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 27
06:24:13.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.947 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.948 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40106&lt;-&gt;127.0.0.1:46463
06:24:13.948 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.948 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1a97aecd
06:24:13.952 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@278fbba
06:24:13.955 [XNIO-30 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-1', selector sun.nio.ch.EPollSelectorImpl@79e5b740
06:24:13.959 [XNIO-30 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1bc85abc
06:24:13.959 [XNIO-30 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-4', selector sun.nio.ch.EPollSelectorImpl@433919b8
06:24:13.959 [XNIO-30 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3d639d6a
06:24:13.959 [XNIO-30 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-2', selector sun.nio.ch.EPollSelectorImpl@278f56c9
06:24:13.962 [XNIO-30 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-6', selector sun.nio.ch.EPollSelectorImpl@57801e0a
06:24:13.963 [XNIO-30 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4d5512b
06:24:13.963 [XNIO-30 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3fbe174f
06:24:13.966 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.966 [XNIO-30 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 Accept', selector sun.nio.ch.EPollSelectorImpl@20de5145
06:24:13.966 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.968 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.968 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.968 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45759
06:24:13.969 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45759
06:24:13.969 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45759
06:24:13.969 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57552&lt;-&gt;127.0.0.1:45759
06:24:13.969 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
06:24:13.969 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.969 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.969 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; GET /charlie HTTP/1.1
06:24:13.969 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; coat: overcoat something
06:24:13.969 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:45759
06:24:13.969 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
06:24:13.969 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.969 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.969 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.969 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;coat: overcoat something[\r][\n]&quot;
06:24:13.969 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:45759[\r][\n]&quot;
06:24:13.969 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.969 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.969 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.969 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.970 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], coat=[overcoat something], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45759]}, cookies=[:]): &lt;empty&gt; }
06:24:13.970 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
06:24:13.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
06:24:13.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
06:24:13.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/plain
06:24:13.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 27
06:24:13.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.971 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.971 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57552&lt;-&gt;127.0.0.1:45759
06:24:13.971 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.972 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.972 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.972 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45759
06:24:13.972 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
06:24:13.972 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.972 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; GET /charlie HTTP/1.1
06:24:13.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; coat: overcoat something
06:24:13.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:45759
06:24:13.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
06:24:13.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;coat: overcoat something[\r][\n]&quot;
06:24:13.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:45759[\r][\n]&quot;
06:24:13.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.979 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], coat=[overcoat something], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45759]}, cookies=[:]): &lt;empty&gt; }
06:24:13.980 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.982 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
06:24:13.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
06:24:13.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
06:24:13.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/plain
06:24:13.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 27
06:24:13.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.983 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.983 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57552&lt;-&gt;127.0.0.1:45759
06:24:13.983 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.983 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@278fbba
06:24:14.010 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3eccd0fd
06:24:14.015 [XNIO-31 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-1', selector sun.nio.ch.EPollSelectorImpl@48be52dd
06:24:14.015 [XNIO-31 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1fd26de6
06:24:14.018 [XNIO-31 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-3', selector sun.nio.ch.EPollSelectorImpl@ac8f8ad
06:24:14.018 [XNIO-31 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-4', selector sun.nio.ch.EPollSelectorImpl@277ee207
06:24:14.018 [XNIO-31 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-6', selector sun.nio.ch.EPollSelectorImpl@38ad6c3b
06:24:14.018 [XNIO-31 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2795d46f
06:24:14.019 [XNIO-31 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5cb799e7
06:24:14.020 [XNIO-31 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5cc3f72b
06:24:14.021 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.021 [XNIO-31 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 Accept', selector sun.nio.ch.EPollSelectorImpl@148a8bb4
06:24:14.023 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.033 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.033 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.033 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43673
06:24:14.033 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43673
06:24:14.034 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43673
06:24:14.034 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37762&lt;-&gt;127.0.0.1:43673
06:24:14.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; GET /delta HTTP/1.1
06:24:14.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:43673
06:24:14.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
06:24:14.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:43673[\r][\n]&quot;
06:24:14.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.037 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43673]}, cookies=[:]): &lt;empty&gt; }
06:24:14.042 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
06:24:14.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
06:24:14.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
06:24:14.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/date
06:24:14.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 36
06:24:14.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.049 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37762&lt;-&gt;127.0.0.1:43673
06:24:14.049 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.056 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.056 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.056 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43673
06:24:14.056 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.056 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.056 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; GET /delta HTTP/1.1
06:24:14.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:43673
06:24:14.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
06:24:14.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:43673[\r][\n]&quot;
06:24:14.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.066 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43673]}, cookies=[:]): &lt;empty&gt; }
06:24:14.067 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
06:24:14.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
06:24:14.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
06:24:14.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/date
06:24:14.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 36
06:24:14.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.068 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37762&lt;-&gt;127.0.0.1:43673
06:24:14.068 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.068 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3eccd0fd
06:24:14.070 [XNIO-31 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
06:24:14.080 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3e92d26b
06:24:14.082 [XNIO-32 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7a920519
06:24:14.086 [XNIO-32 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4b97be14
06:24:14.088 [XNIO-32 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5c349daf
06:24:14.088 [XNIO-32 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-3', selector sun.nio.ch.EPollSelectorImpl@8a5b4da
06:24:14.092 [XNIO-32 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6c73efcd
06:24:14.092 [XNIO-32 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-5', selector sun.nio.ch.EPollSelectorImpl@63d665a1
06:24:14.094 [XNIO-32 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-7', selector sun.nio.ch.EPollSelectorImpl@31fcc799
06:24:14.094 [XNIO-32 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2b518235
06:24:14.094 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.094 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.095 [XNIO-32 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 Accept', selector sun.nio.ch.EPollSelectorImpl@9a2621
06:24:14.097 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.097 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40813
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40813
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40813
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49200&lt;-&gt;127.0.0.1:40813
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; GET /delta HTTP/1.1
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:40813
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.097 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.097 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:40813[\r][\n]&quot;
06:24:14.097 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.097 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.097 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.097 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.101 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40813]}, cookies=[:]): &lt;empty&gt; }
06:24:14.101 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
06:24:14.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
06:24:14.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
06:24:14.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/date
06:24:14.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 36
06:24:14.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.102 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.102 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49200&lt;-&gt;127.0.0.1:40813
06:24:14.102 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.104 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.104 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.104 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40813
06:24:14.104 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.104 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.104 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.104 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; GET /delta HTTP/1.1
06:24:14.104 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:40813
06:24:14.104 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
06:24:14.104 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.104 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.104 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.104 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:40813[\r][\n]&quot;
06:24:14.104 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.104 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.104 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.104 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.105 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40813]}, cookies=[:]): &lt;empty&gt; }
06:24:14.106 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
06:24:14.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
06:24:14.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
06:24:14.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/date
06:24:14.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 36
06:24:14.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.106 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.107 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49200&lt;-&gt;127.0.0.1:40813
06:24:14.107 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.107 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3e92d26b
06:24:14.130 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7a477583
06:24:14.138 [XNIO-33 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2962552e
06:24:14.138 [XNIO-33 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-2', selector sun.nio.ch.EPollSelectorImpl@d105920
06:24:14.139 [XNIO-33 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-3', selector sun.nio.ch.EPollSelectorImpl@68b02b3a
06:24:14.139 [XNIO-33 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-4', selector sun.nio.ch.EPollSelectorImpl@44be3680
06:24:14.140 [XNIO-33 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-5', selector sun.nio.ch.EPollSelectorImpl@bdaa75f
06:24:14.140 [XNIO-33 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-7', selector sun.nio.ch.EPollSelectorImpl@39d1437d
06:24:14.140 [XNIO-33 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1060f5ec
06:24:14.140 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.140 [XNIO-33 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 Accept', selector sun.nio.ch.EPollSelectorImpl@7f8d170b
06:24:14.141 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.141 [XNIO-33 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2c8f4ac1
06:24:14.152 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.152 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.152 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42439
06:24:14.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42439
06:24:14.152 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42439
06:24:14.152 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41568&lt;-&gt;127.0.0.1:42439
06:24:14.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; GET /delta HTTP/1.1
06:24:14.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Cookie: flavor=chocolate-chip
06:24:14.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:42439
06:24:14.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
06:24:14.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
06:24:14.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:42439[\r][\n]&quot;
06:24:14.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.158 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42439]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@33801c15]): &lt;empty&gt; }
06:24:14.172 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.172 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
06:24:14.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
06:24:14.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
06:24:14.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/date
06:24:14.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 36
06:24:14.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.173 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.173 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41568&lt;-&gt;127.0.0.1:42439
06:24:14.173 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.174 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.174 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.174 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42439
06:24:14.174 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.174 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.174 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; GET /delta HTTP/1.1
06:24:14.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Cookie: flavor=chocolate-chip
06:24:14.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:42439
06:24:14.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
06:24:14.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.175 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
06:24:14.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:42439[\r][\n]&quot;
06:24:14.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.175 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.175 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42439]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@141f0f81]): &lt;empty&gt; }
06:24:14.176 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
06:24:14.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
06:24:14.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
06:24:14.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/date
06:24:14.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 36
06:24:14.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.176 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.177 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41568&lt;-&gt;127.0.0.1:42439
06:24:14.177 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.177 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7a477583
06:24:14.182 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6eb31ab5
06:24:14.184 [XNIO-34 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4de4000e
06:24:14.186 [XNIO-34 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-2', selector sun.nio.ch.EPollSelectorImpl@fb6294f
06:24:14.186 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.187 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.190 [XNIO-34 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5139fd5b
06:24:14.190 [XNIO-34 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6baa416d
06:24:14.191 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.191 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.191 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34253
06:24:14.191 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34253
06:24:14.191 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34253
06:24:14.191 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34808&lt;-&gt;127.0.0.1:34253
06:24:14.191 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.191 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.191 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.191 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; GET /delta HTTP/1.1
06:24:14.191 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
06:24:14.191 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:34253
06:24:14.191 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
06:24:14.191 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.191 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
06:24:14.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:34253[\r][\n]&quot;
06:24:14.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.191 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.191 [XNIO-34 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3c4fd784
06:24:14.191 [XNIO-34 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6d166dc1
06:24:14.192 [XNIO-34 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-7', selector sun.nio.ch.EPollSelectorImpl@11d084c7
06:24:14.192 [XNIO-34 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 Accept', selector sun.nio.ch.EPollSelectorImpl@74b3dbcb
06:24:14.192 [XNIO-34 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-8', selector sun.nio.ch.EPollSelectorImpl@12cf9d86
06:24:14.220 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34253]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@43390ce8, flavor:ersatz.undertow.server.handlers.CookieImpl@4dfeeaff]): &lt;empty&gt; }
06:24:14.221 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 200 OK
06:24:14.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Encoding: gzip
06:24:14.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
06:24:14.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Type: text/date
06:24:14.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 36
06:24:14.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.222 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34808&lt;-&gt;127.0.0.1:34253
06:24:14.222 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.223 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.223 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.223 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34253
06:24:14.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; GET /delta HTTP/1.1
06:24:14.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
06:24:14.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:34253
06:24:14.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
06:24:14.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
06:24:14.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:34253[\r][\n]&quot;
06:24:14.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.224 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34253]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@5c6195b9, flavor:ersatz.undertow.server.handlers.CookieImpl@52a66045]): &lt;empty&gt; }
06:24:14.225 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 200 OK
06:24:14.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Encoding: gzip
06:24:14.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
06:24:14.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Type: text/date
06:24:14.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 36
06:24:14.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.226 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34808&lt;-&gt;127.0.0.1:34253
06:24:14.226 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.226 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6eb31ab5
06:24:14.239 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@12ed53a4
06:24:14.266 [XNIO-35 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-1', selector sun.nio.ch.EPollSelectorImpl@382435aa
06:24:14.270 [XNIO-35 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4e26a26d
06:24:14.274 [XNIO-35 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-3', selector sun.nio.ch.EPollSelectorImpl@396b18d8
06:24:14.274 [XNIO-35 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-4', selector sun.nio.ch.EPollSelectorImpl@96c6a65
06:24:14.280 [XNIO-35 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-5', selector sun.nio.ch.EPollSelectorImpl@78ccae2d
06:24:14.280 [XNIO-35 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-6', selector sun.nio.ch.EPollSelectorImpl@91b822f
06:24:14.280 [XNIO-35 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6b52ae69
06:24:14.281 [XNIO-35 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-8', selector sun.nio.ch.EPollSelectorImpl@475bee4b
06:24:14.281 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.281 [XNIO-35 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 Accept', selector sun.nio.ch.EPollSelectorImpl@2f284ed8
06:24:14.284 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.304 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.304 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37413
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37413
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37413
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54524&lt;-&gt;127.0.0.1:37413
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /multicookie1 HTTP/1.1
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; GET /multicookie1 HTTP/1.1
06:24:14.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Cookie: foo=bar
06:24:14.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:37413
06:24:14.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
06:24:14.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;GET /multicookie1 HTTP/1.1[\r][\n]&quot;
06:24:14.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Cookie: foo=bar[\r][\n]&quot;
06:24:14.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:37413[\r][\n]&quot;
06:24:14.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.310 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /multicookie1 (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[foo=bar], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37413]}, cookies=[foo:ersatz.undertow.server.handlers.CookieImpl@48f53169]): &lt;empty&gt; }
06:24:14.311 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
06:24:14.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
06:24:14.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
06:24:14.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/plain
06:24:14.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 27
06:24:14.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.312 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.312 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54524&lt;-&gt;127.0.0.1:37413
06:24:14.312 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.315 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.315 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.315 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37413
06:24:14.315 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /multicookie2 HTTP/1.1
06:24:14.315 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.315 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; GET /multicookie2 HTTP/1.1
06:24:14.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Cookie: foo=bar
06:24:14.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:37413
06:24:14.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
06:24:14.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;GET /multicookie2 HTTP/1.1[\r][\n]&quot;
06:24:14.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Cookie: foo=bar[\r][\n]&quot;
06:24:14.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:37413[\r][\n]&quot;
06:24:14.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.316 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /multicookie2 (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[foo=bar], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37413]}, cookies=[foo:ersatz.undertow.server.handlers.CookieImpl@49944]): &lt;empty&gt; }
06:24:14.317 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
06:24:14.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
06:24:14.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
06:24:14.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/plain
06:24:14.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 27
06:24:14.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.319 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54524&lt;-&gt;127.0.0.1:37413
06:24:14.319 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.321 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.321 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.321 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37413
06:24:14.321 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /lots/of/path/elements/multicookie3 HTTP/1.1
06:24:14.321 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.321 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; GET /lots/of/path/elements/multicookie3 HTTP/1.1
06:24:14.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Cookie: foo=bar
06:24:14.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:37413
06:24:14.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
06:24:14.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;GET /lots/of/path/elements/multicookie3 HTTP/1.1[\r][\n]&quot;
06:24:14.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Cookie: foo=bar[\r][\n]&quot;
06:24:14.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:37413[\r][\n]&quot;
06:24:14.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.322 [XNIO-35 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /lots/of/path/elements/multicookie3 (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[foo=bar], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37413]}, cookies=[foo:ersatz.undertow.server.handlers.CookieImpl@5b792e69]): &lt;empty&gt; }
06:24:14.323 [XNIO-35 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
06:24:14.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
06:24:14.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
06:24:14.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/plain
06:24:14.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 27
06:24:14.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.323 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.324 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54524&lt;-&gt;127.0.0.1:37413
06:24:14.324 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.346 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@12ed53a4
06:24:14.383 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1db95597
06:24:14.385 [XNIO-36 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-1', selector sun.nio.ch.EPollSelectorImpl@52ef9289
06:24:14.387 [XNIO-36 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2eeafe4
06:24:14.387 [XNIO-36 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3c52a748
06:24:14.387 [XNIO-36 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-5', selector sun.nio.ch.EPollSelectorImpl@41f20de1
06:24:14.392 [XNIO-36 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1e397fda
06:24:14.394 [XNIO-36 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1f6292d
06:24:14.398 [XNIO-36 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-8', selector sun.nio.ch.EPollSelectorImpl@45685d29
06:24:14.399 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.399 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.387 [XNIO-36 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6c2c989d
06:24:14.400 [XNIO-36 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 Accept', selector sun.nio.ch.EPollSelectorImpl@57527b80
06:24:14.407 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.407 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.407 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32905
06:24:14.407 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32905
06:24:14.407 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32905
06:24:14.408 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37950&lt;-&gt;127.0.0.1:32905
06:24:14.408 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /setkermit HTTP/1.1
06:24:14.408 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.408 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.408 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /setkermit HTTP/1.1
06:24:14.408 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:32905
06:24:14.408 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:14.408 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.408 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /setkermit HTTP/1.1[\r][\n]&quot;
06:24:14.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:32905[\r][\n]&quot;
06:24:14.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.408 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.418 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /setkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32905]}, cookies=[:]): &lt;empty&gt; }
06:24:14.419 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Set-Cookie: kermit=frog; path=/showkermit[\r][\n]&quot;
06:24:14.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
06:24:14.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
06:24:14.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:14.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Set-Cookie: kermit=frog; path=/showkermit
06:24:14.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
06:24:14.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
06:24:14.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.423 [Test worker] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected [kermit=&quot;frog&quot;, version:0, domain:localhost, path:/showkermit, expiry:null] Illegal 'path' attribute &quot;/showkermit&quot;. Path of origin: &quot;/setkermit&quot;
06:24:14.424 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37950&lt;-&gt;127.0.0.1:32905
06:24:14.424 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.438 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.438 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.438 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32905
06:24:14.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /showkermit HTTP/1.1
06:24:14.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /showkermit HTTP/1.1
06:24:14.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: kermit=frog
06:24:14.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:32905
06:24:14.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:14.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /showkermit HTTP/1.1[\r][\n]&quot;
06:24:14.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: kermit=frog[\r][\n]&quot;
06:24:14.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:32905[\r][\n]&quot;
06:24:14.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.439 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /showkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[kermit=frog], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32905]}, cookies=[kermit:ersatz.undertow.server.handlers.CookieImpl@6bbbdace]): &lt;empty&gt; }
06:24:14.440 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Set-Cookie: fozzy=bear; path=/some/deep/path[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Set-Cookie: miss=piggy; path=/[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
06:24:14.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
06:24:14.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:14.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Set-Cookie: fozzy=bear; path=/some/deep/path
06:24:14.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Set-Cookie: miss=piggy; path=/
06:24:14.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
06:24:14.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
06:24:14.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.441 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.442 [Test worker] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected [fozzy=&quot;bear&quot;, version:0, domain:localhost, path:/some/deep/path, expiry:null] Illegal 'path' attribute &quot;/some/deep/path&quot;. Path of origin: &quot;/showkermit&quot;
06:24:14.442 [Test worker] DEBUG org.apache.http.client.protocol.ResponseProcessCookies - Cookie accepted [miss=&quot;piggy&quot;, version:0, domain:localhost, path:/, expiry:null]
06:24:14.442 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37950&lt;-&gt;127.0.0.1:32905
06:24:14.442 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.448 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.448 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - Cookie [version: 0][name: miss][value: piggy][domain: localhost][path: /][expiry: null] match [localhost:32905/some/deep/path]
06:24:14.449 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.449 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32905
06:24:14.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /some/deep/path HTTP/1.1
06:24:14.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /some/deep/path HTTP/1.1
06:24:14.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: fozzy=bear; miss=piggy
06:24:14.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:32905
06:24:14.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:14.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: miss=piggy
06:24:14.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /some/deep/path HTTP/1.1[\r][\n]&quot;
06:24:14.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: fozzy=bear; miss=piggy[\r][\n]&quot;
06:24:14.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:32905[\r][\n]&quot;
06:24:14.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: miss=piggy[\r][\n]&quot;
06:24:14.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.458 [XNIO-36 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /some/deep/path (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[fozzy=bear; miss=piggy, miss=piggy], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32905]}, cookies=[fozzy:ersatz.undertow.server.handlers.CookieImpl@6cb48ae9, miss:ersatz.undertow.server.handlers.CookieImpl@6273690f]): &lt;empty&gt; }
06:24:14.460 [XNIO-36 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
06:24:14.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
06:24:14.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:14.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
06:24:14.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
06:24:14.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.461 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.462 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37950&lt;-&gt;127.0.0.1:32905
06:24:14.462 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.465 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.465 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - Cookie [version: 0][name: miss][value: piggy][domain: localhost][path: /][expiry: null] match [localhost:32905/setkermit]
06:24:14.466 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.466 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32905
06:24:14.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /setkermit HTTP/1.1
06:24:14.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /setkermit HTTP/1.1
06:24:14.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: miss=piggy
06:24:14.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:32905
06:24:14.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:14.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: miss=piggy
06:24:14.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /setkermit HTTP/1.1[\r][\n]&quot;
06:24:14.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: miss=piggy[\r][\n]&quot;
06:24:14.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:32905[\r][\n]&quot;
06:24:14.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: miss=piggy[\r][\n]&quot;
06:24:14.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.466 [XNIO-36 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /setkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[miss=piggy, miss=piggy], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32905]}, cookies=[miss:ersatz.undertow.server.handlers.CookieImpl@733ef722]): &lt;empty&gt; }
06:24:14.467 [XNIO-36 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Set-Cookie: kermit=frog; path=/showkermit[\r][\n]&quot;
06:24:14.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
06:24:14.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
06:24:14.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:14.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Set-Cookie: kermit=frog; path=/showkermit
06:24:14.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
06:24:14.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
06:24:14.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.467 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.467 [Test worker] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected [kermit=&quot;frog&quot;, version:0, domain:localhost, path:/showkermit, expiry:null] Illegal 'path' attribute &quot;/showkermit&quot;. Path of origin: &quot;/setkermit&quot;
06:24:14.468 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37950&lt;-&gt;127.0.0.1:32905
06:24:14.468 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.468 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1db95597
06:24:14.481 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4e285f52
06:24:14.500 [XNIO-37 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6214e170
06:24:14.502 [XNIO-37 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-2', selector sun.nio.ch.EPollSelectorImpl@14105adc
06:24:14.502 [XNIO-37 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2b61e7af
06:24:14.502 [XNIO-37 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-4', selector sun.nio.ch.EPollSelectorImpl@68192296
06:24:14.503 [XNIO-37 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-5', selector sun.nio.ch.EPollSelectorImpl@34bac53c
06:24:14.509 [XNIO-37 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6577aa8a
06:24:14.510 [XNIO-37 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-7', selector sun.nio.ch.EPollSelectorImpl@75f02ae3
06:24:14.514 [XNIO-37 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-8', selector sun.nio.ch.EPollSelectorImpl@12b4a3d0
06:24:14.522 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.522 [XNIO-37 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 Accept', selector sun.nio.ch.EPollSelectorImpl@7d2cb4f7
06:24:14.523 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.540 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.540 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.540 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46529
06:24:14.540 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46529
06:24:14.540 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46529
06:24:14.541 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49172&lt;-&gt;127.0.0.1:46529
06:24:14.541 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /showkermit HTTP/1.1
06:24:14.541 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.541 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; GET /showkermit HTTP/1.1
06:24:14.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:46529
06:24:14.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
06:24:14.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;GET /showkermit HTTP/1.1[\r][\n]&quot;
06:24:14.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:46529[\r][\n]&quot;
06:24:14.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.544 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /showkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46529]}, cookies=[:]): &lt;empty&gt; }
06:24:14.544 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Set-Cookie: fozzy=&quot;bear; path=/some/deep/path&quot;; Version=1[\r][\n]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Set-Cookie: miss=&quot;piggy; path=/&quot;; Version=1[\r][\n]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 200 OK
06:24:14.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Encoding: gzip
06:24:14.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
06:24:14.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Set-Cookie: fozzy=&quot;bear; path=/some/deep/path&quot;; Version=1
06:24:14.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Set-Cookie: miss=&quot;piggy; path=/&quot;; Version=1
06:24:14.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Type: text/plain
06:24:14.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 27
06:24:14.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.546 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.546 [Test worker] DEBUG org.apache.http.client.protocol.ResponseProcessCookies - Cookie accepted [fozzy=&quot;bear; path=/some/deep/path&quot;, version:1, domain:localhost, path:/, expiry:null]
06:24:14.546 [Test worker] DEBUG org.apache.http.client.protocol.ResponseProcessCookies - Cookie accepted [miss=&quot;piggy; path=/&quot;, version:1, domain:localhost, path:/, expiry:null]
06:24:14.547 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49172&lt;-&gt;127.0.0.1:46529
06:24:14.547 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.561 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4e285f52
06:24:14.569 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3449dbf5
06:24:14.586 [XNIO-38 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1d382e95
06:24:14.586 [XNIO-38 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-2', selector sun.nio.ch.EPollSelectorImpl@433beb6a
06:24:14.590 [XNIO-38 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-3', selector sun.nio.ch.EPollSelectorImpl@31fc2542
06:24:14.590 [XNIO-38 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-5', selector sun.nio.ch.EPollSelectorImpl@435f2e01
06:24:14.590 [XNIO-38 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-6', selector sun.nio.ch.EPollSelectorImpl@127820b3
06:24:14.590 [XNIO-38 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-4', selector sun.nio.ch.EPollSelectorImpl@41985c7b
06:24:14.599 [XNIO-38 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-7', selector sun.nio.ch.EPollSelectorImpl@14105148
06:24:14.605 [XNIO-38 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3e4e8ca3
06:24:14.606 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.606 [XNIO-38 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 Accept', selector sun.nio.ch.EPollSelectorImpl@540d9e47
06:24:14.606 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.620 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.620 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40955
06:24:14.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40955
06:24:14.621 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40955
06:24:14.621 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43908&lt;-&gt;127.0.0.1:40955
06:24:14.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; GET /delta HTTP/1.1
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:40955
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:40955[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.622 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40955]}, cookies=[:]): &lt;empty&gt; }
06:24:14.623 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 200 OK
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Encoding: gzip
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Type: text/date
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 36
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.623 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.624 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43908&lt;-&gt;127.0.0.1:40955
06:24:14.624 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.626 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.626 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.626 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40955
06:24:14.626 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.626 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.626 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.626 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; GET /delta HTTP/1.1
06:24:14.626 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:40955
06:24:14.626 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
06:24:14.626 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.626 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.626 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.626 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:40955[\r][\n]&quot;
06:24:14.626 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.626 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.626 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.626 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.631 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40955]}, cookies=[:]): &lt;empty&gt; }
06:24:14.633 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 200 OK
06:24:14.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Encoding: gzip
06:24:14.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
06:24:14.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Type: text/date
06:24:14.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 36
06:24:14.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.634 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.635 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43908&lt;-&gt;127.0.0.1:40955
06:24:14.635 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.636 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3449dbf5
06:24:14.640 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@42fe7577
06:24:14.647 [XNIO-39 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1801b481
06:24:14.652 [XNIO-39 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36b544ad
06:24:14.654 [XNIO-39 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2278b6f
06:24:14.658 [XNIO-39 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5d89e6a7
06:24:14.662 [XNIO-39 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3eb4772b
06:24:14.654 [XNIO-39 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-4', selector sun.nio.ch.EPollSelectorImpl@31761cdf
06:24:14.662 [XNIO-39 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-7', selector sun.nio.ch.EPollSelectorImpl@10acf69c
06:24:14.669 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.669 [XNIO-39 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3855067f
06:24:14.669 [XNIO-39 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 Accept', selector sun.nio.ch.EPollSelectorImpl@2335dd3e
06:24:14.671 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.675 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.675 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.675 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44397
06:24:14.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44397
06:24:14.675 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44397
06:24:14.675 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56736&lt;-&gt;127.0.0.1:44397
06:24:14.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; GET /delta HTTP/1.1
06:24:14.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:44397
06:24:14.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
06:24:14.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:44397[\r][\n]&quot;
06:24:14.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.682 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44397]}, cookies=[:]): &lt;empty&gt; }
06:24:14.682 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
06:24:14.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Encoding: gzip
06:24:14.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
06:24:14.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Type: text/date
06:24:14.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 36
06:24:14.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.683 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.684 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56736&lt;-&gt;127.0.0.1:44397
06:24:14.684 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.685 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.685 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.685 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44397
06:24:14.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; GET /delta HTTP/1.1
06:24:14.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:44397
06:24:14.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
06:24:14.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:44397[\r][\n]&quot;
06:24:14.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.687 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44397]}, cookies=[:]): &lt;empty&gt; }
06:24:14.689 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
06:24:14.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Encoding: gzip
06:24:14.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
06:24:14.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Type: text/date
06:24:14.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 36
06:24:14.689 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.689 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.690 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56736&lt;-&gt;127.0.0.1:44397
06:24:14.690 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.690 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@42fe7577
06:24:14.694 [XNIO-39 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
06:24:14.696 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@18d26172
06:24:14.706 [XNIO-40 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1f7e6979
06:24:14.706 [XNIO-40 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-2', selector sun.nio.ch.EPollSelectorImpl@74705690
06:24:14.707 [XNIO-40 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-3', selector sun.nio.ch.EPollSelectorImpl@415ede3e
06:24:14.712 [XNIO-40 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7420d16e
06:24:14.714 [XNIO-40 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-6', selector sun.nio.ch.EPollSelectorImpl@62a8eff5
06:24:14.716 [XNIO-40 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-5', selector sun.nio.ch.EPollSelectorImpl@dee444a
06:24:14.722 [XNIO-40 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6efb9881
06:24:14.730 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.730 [XNIO-40 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2a75e67f
06:24:14.730 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.731 [XNIO-40 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 Accept', selector sun.nio.ch.EPollSelectorImpl@20511c02
06:24:14.733 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.733 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.733 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33691
06:24:14.733 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33691
06:24:14.733 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33691
06:24:14.733 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53606&lt;-&gt;127.0.0.1:33691
06:24:14.733 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.733 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.733 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; GET /delta HTTP/1.1
06:24:14.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Cookie: flavor=peanut-butter
06:24:14.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:33691
06:24:14.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
06:24:14.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
06:24:14.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:33691[\r][\n]&quot;
06:24:14.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.735 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=peanut-butter], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33691]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@6dd15adb]): &lt;empty&gt; }
06:24:14.736 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 200 OK
06:24:14.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Encoding: gzip
06:24:14.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
06:24:14.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Type: text/date
06:24:14.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 36
06:24:14.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.738 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53606&lt;-&gt;127.0.0.1:33691
06:24:14.738 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.741 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.741 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.742 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33691
06:24:14.742 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.742 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.742 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; GET /delta HTTP/1.1
06:24:14.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Cookie: flavor=peanut-butter
06:24:14.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:33691
06:24:14.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
06:24:14.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.742 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
06:24:14.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:33691[\r][\n]&quot;
06:24:14.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.789 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=peanut-butter], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33691]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@36878cf0]): &lt;empty&gt; }
06:24:14.790 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 200 OK
06:24:14.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Encoding: gzip
06:24:14.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
06:24:14.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Type: text/date
06:24:14.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 36
06:24:14.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.791 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-19: Shutdown connection
06:24:14.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-22: Shutdown connection
06:24:14.793 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53606&lt;-&gt;127.0.0.1:33691
06:24:14.793 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.793 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@18d26172
06:24:14.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-21: Shutdown connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-20: Shutdown connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-24: Shutdown connection
06:24:14.800 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1f36b225
06:24:14.814 [XNIO-41 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-1', selector sun.nio.ch.EPollSelectorImpl@54959b95
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-23: Shutdown connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-28: Shutdown connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-27: Shutdown connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-26: Shutdown connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-25: Shutdown connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-30: Shutdown connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-29: Shutdown connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-34: Shutdown connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.819 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-33: Shutdown connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-32: Shutdown connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-31: Shutdown connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-35: Shutdown connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-38: Shutdown connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-37: Shutdown connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.820 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-36: Shutdown connection
06:24:14.821 [XNIO-41 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3eeac967
06:24:14.821 [XNIO-41 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-2', selector sun.nio.ch.EPollSelectorImpl@177dd3e5
06:24:14.826 [XNIO-41 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3a532d2b
06:24:14.832 [XNIO-41 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-5', selector sun.nio.ch.EPollSelectorImpl@697c8e0c
06:24:14.834 [XNIO-41 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-6', selector sun.nio.ch.EPollSelectorImpl@220930fe
06:24:14.834 [XNIO-41 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-7', selector sun.nio.ch.EPollSelectorImpl@185e08e9
06:24:14.835 [XNIO-41 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-8', selector sun.nio.ch.EPollSelectorImpl@13090425
06:24:14.842 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.843 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.845 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.845 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.845 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43621
06:24:14.845 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43621
06:24:14.845 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43621
06:24:14.846 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48164&lt;-&gt;127.0.0.1:43621
06:24:14.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; GET /delta HTTP/1.1
06:24:14.846 [XNIO-41 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 Accept', selector sun.nio.ch.EPollSelectorImpl@18fb39dc
06:24:14.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
06:24:14.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:43621
06:24:14.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
06:24:14.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
06:24:14.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:43621[\r][\n]&quot;
06:24:14.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.847 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=oatmeal; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43621]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@6dc6ad07, flavor:ersatz.undertow.server.handlers.CookieImpl@63015ecf]): &lt;empty&gt; }
06:24:14.854 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 200 OK
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Encoding: gzip
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Type: text/date
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 36
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.855 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.855 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48164&lt;-&gt;127.0.0.1:43621
06:24:14.855 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.856 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.856 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.856 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43621
06:24:14.856 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
06:24:14.856 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.857 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; GET /delta HTTP/1.1
06:24:14.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
06:24:14.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:43621
06:24:14.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
06:24:14.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
06:24:14.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
06:24:14.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:43621[\r][\n]&quot;
06:24:14.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.880 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=oatmeal; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43621]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@6f003719, flavor:ersatz.undertow.server.handlers.CookieImpl@61c7d489]): &lt;empty&gt; }
06:24:14.881 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.882 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 200 OK
06:24:14.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Encoding: gzip
06:24:14.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
06:24:14.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Type: text/date
06:24:14.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 36
06:24:14.882 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.882 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.883 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48164&lt;-&gt;127.0.0.1:43621
06:24:14.883 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.883 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1f36b225
06:24:14.934 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@72b03f77
06:24:14.938 [XNIO-42 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-1', selector sun.nio.ch.EPollSelectorImpl@8524523
06:24:14.943 [XNIO-42 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5d5632dd
06:24:14.947 [XNIO-42 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-3', selector sun.nio.ch.EPollSelectorImpl@449e8865
06:24:14.947 [XNIO-42 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6bb0e257
06:24:14.962 [XNIO-42 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-5', selector sun.nio.ch.EPollSelectorImpl@a5d3cc3
06:24:14.962 [XNIO-42 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-6', selector sun.nio.ch.EPollSelectorImpl@38c203d6
06:24:14.963 [XNIO-42 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-7', selector sun.nio.ch.EPollSelectorImpl@189adc1f
06:24:14.966 [XNIO-42 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7ede9d38
06:24:14.971 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.972 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.971 [XNIO-42 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 Accept', selector sun.nio.ch.EPollSelectorImpl@7c82c1da
06:24:14.987 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.987 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.987 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36539
06:24:14.987 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36539
06:24:14.987 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36539
06:24:14.987 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43154&lt;-&gt;127.0.0.1:36539
06:24:14.987 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:14.987 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.987 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /basic HTTP/1.1
06:24:14.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:36539
06:24:14.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
06:24:14.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:14.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:36539[\r][\n]&quot;
06:24:14.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.998 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {}}
06:24:14.999 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.003 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@44414a3a for /basic
06:24:15.003 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {}}
06:24:15.005 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.006 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
06:24:15.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
06:24:15.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.007 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.007 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.007 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36539 requested authentication
06:24:15.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.016 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.017 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.018 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /basic HTTP/1.1
06:24:15.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:36539
06:24:15.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
06:24:15.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:36539[\r][\n]&quot;
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:15.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.039 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {}}
06:24:15.039 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.050 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {}}
06:24:15.082 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.099 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@44414a3a for /basic
06:24:15.099 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:15.099 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]}, cookies=[:]): &lt;empty&gt; }
06:24:15.100 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 200 OK
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Encoding: gzip
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Type: text/plain
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 27
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.101 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.101 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.104 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:36539
06:24:15.113 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43154&lt;-&gt;127.0.0.1:36539
06:24:15.113 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.113 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.114 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.114 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36539
06:24:15.114 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.114 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.114 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /basic HTTP/1.1
06:24:15.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:36539
06:24:15.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
06:24:15.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:36539[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.118 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {}}
06:24:15.118 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.118 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@44414a3a for /basic
06:24:15.118 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {}}
06:24:15.118 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.118 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
06:24:15.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
06:24:15.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.119 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.119 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.119 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36539 requested authentication
06:24:15.119 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.119 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.119 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.119 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.119 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.119 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.120 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /basic HTTP/1.1
06:24:15.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:36539
06:24:15.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
06:24:15.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:15.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:36539[\r][\n]&quot;
06:24:15.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:15.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.142 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {}}
06:24:15.142 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.142 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]} response {}}
06:24:15.142 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.142 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@44414a3a for /basic
06:24:15.142 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:15.142 [XNIO-42 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36539]}, cookies=[:]): &lt;empty&gt; }
06:24:15.143 [XNIO-42 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:15.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 200 OK
06:24:15.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Encoding: gzip
06:24:15.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
06:24:15.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Type: text/plain
06:24:15.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 27
06:24:15.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.143 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.143 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:36539
06:24:15.144 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43154&lt;-&gt;127.0.0.1:36539
06:24:15.144 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.144 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@72b03f77
06:24:15.148 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@69a9af94
06:24:15.150 [XNIO-43 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7c556cec
06:24:15.154 [XNIO-43 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-2', selector sun.nio.ch.EPollSelectorImpl@776a3d71
06:24:15.155 [XNIO-43 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2fcbd59f
06:24:15.158 [XNIO-43 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-4', selector sun.nio.ch.EPollSelectorImpl@16331b91
06:24:15.158 [XNIO-43 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-5', selector sun.nio.ch.EPollSelectorImpl@111c4f52
06:24:15.160 [XNIO-43 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7d20a132
06:24:15.161 [XNIO-43 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-7', selector sun.nio.ch.EPollSelectorImpl@42956114
06:24:15.163 [XNIO-43 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-8', selector sun.nio.ch.EPollSelectorImpl@72723414
06:24:15.166 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.166 [XNIO-43 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 Accept', selector sun.nio.ch.EPollSelectorImpl@3d736974
06:24:15.167 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.169 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.169 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.169 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46459
06:24:15.169 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:46459
06:24:15.169 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46459
06:24:15.169 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:46459 with timeout 0
06:24:15.170 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:15.170 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:15.170 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:15.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:15.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:15.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:15.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.222 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.222 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56616&lt;-&gt;127.0.0.1:46459
06:24:15.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /basic HTTP/1.1
06:24:15.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:46459
06:24:15.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
06:24:15.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:46459[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.232 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {}}
06:24:15.232 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.232 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@2487f44a for /basic
06:24:15.232 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {}}
06:24:15.232 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.232 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:46459 requested authentication
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.233 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /basic HTTP/1.1
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:46459
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.233 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:46459[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:15.233 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.250 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {}}
06:24:15.250 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.250 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {}}
06:24:15.250 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.250 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@2487f44a for /basic
06:24:15.250 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:15.250 [XNIO-43 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]}, cookies=[:]): &lt;empty&gt; }
06:24:15.251 [XNIO-43 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:15.252 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.252 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.252 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.252 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.252 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.252 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.252 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.252 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
06:24:15.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Encoding: gzip
06:24:15.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
06:24:15.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Type: text/plain
06:24:15.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 27
06:24:15.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.252 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.252 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.252 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:46459
06:24:15.253 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56616&lt;-&gt;127.0.0.1:46459
06:24:15.253 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.253 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.253 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.253 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46459
06:24:15.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /basic HTTP/1.1
06:24:15.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:46459
06:24:15.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
06:24:15.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:46459[\r][\n]&quot;
06:24:15.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.271 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {}}
06:24:15.274 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.274 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@2487f44a for /basic
06:24:15.274 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {}}
06:24:15.274 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.274 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:46459 requested authentication
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.275 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /basic HTTP/1.1
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:46459
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:46459[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:15.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.282 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {}}
06:24:15.282 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.282 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]} response {}}
06:24:15.282 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.282 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@2487f44a for /basic
06:24:15.282 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:15.282 [XNIO-43 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46459]}, cookies=[:]): &lt;empty&gt; }
06:24:15.283 [XNIO-43 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Encoding: gzip
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Type: text/plain
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 27
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.284 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.284 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.284 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:46459
06:24:15.285 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56616&lt;-&gt;127.0.0.1:46459
06:24:15.285 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.285 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@69a9af94
06:24:15.313 [XNIO-43 task-6] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 31 common frames omitted
06:24:15.317 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@17a88147
06:24:15.321 [XNIO-44 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7e8c152f
06:24:15.326 [XNIO-44 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-2', selector sun.nio.ch.EPollSelectorImpl@17e358ed
06:24:15.335 [XNIO-44 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-3', selector sun.nio.ch.EPollSelectorImpl@24751272
06:24:15.338 [XNIO-44 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-4', selector sun.nio.ch.EPollSelectorImpl@72bc270b
06:24:15.342 [XNIO-44 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6f373487
06:24:15.344 [XNIO-44 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-6', selector sun.nio.ch.EPollSelectorImpl@372e82a0
06:24:15.346 [XNIO-44 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7816ad26
06:24:15.346 [XNIO-44 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2e3d910f
06:24:15.346 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.347 [XNIO-44 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 Accept', selector sun.nio.ch.EPollSelectorImpl@14eb72e4
06:24:15.347 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.357 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.357 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.357 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37967
06:24:15.357 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37967
06:24:15.357 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37967
06:24:15.358 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55168&lt;-&gt;127.0.0.1:37967
06:24:15.358 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.358 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.358 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /basic HTTP/1.1
06:24:15.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:37967
06:24:15.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
06:24:15.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:37967[\r][\n]&quot;
06:24:15.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.358 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.362 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.364 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.364 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@7cfc2602 for /basic
06:24:15.364 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.364 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.364 [XNIO-44 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37967 requested authentication
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.365 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /basic HTTP/1.1
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:37967
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:37967[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:15.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.374 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.375 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.375 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.375 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.375 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@7cfc2602 for /basic
06:24:15.375 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.375 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.375 [XNIO-44 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37967 requested authentication
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55168&lt;-&gt;127.0.0.1:37967
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.397 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.397 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.397 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37967
06:24:15.397 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.397 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.397 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /basic HTTP/1.1
06:24:15.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:37967
06:24:15.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
06:24:15.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:37967[\r][\n]&quot;
06:24:15.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.426 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.426 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.426 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@7cfc2602 for /basic
06:24:15.426 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.426 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.426 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37967 requested authentication
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /basic HTTP/1.1
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:37967
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:15.428 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.428 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:37967[\r][\n]&quot;
06:24:15.428 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.428 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.428 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.428 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:15.428 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.434 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.435 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.435 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.435 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.435 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@7cfc2602 for /basic
06:24:15.435 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {}}
06:24:15.435 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37967]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.435 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
06:24:15.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
06:24:15.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.436 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.436 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.436 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37967 requested authentication
06:24:15.436 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.436 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.436 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55168&lt;-&gt;127.0.0.1:37967
06:24:15.436 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.446 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@17a88147
06:24:15.452 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@639f17cc
06:24:15.454 [XNIO-45 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-1', selector sun.nio.ch.EPollSelectorImpl@778d45f8
06:24:15.454 [XNIO-45 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-2', selector sun.nio.ch.EPollSelectorImpl@64008015
06:24:15.468 [XNIO-45 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1e386546
06:24:15.469 [XNIO-45 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4acce8ed
06:24:15.479 [XNIO-45 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-5', selector sun.nio.ch.EPollSelectorImpl@35d362ee
06:24:15.490 [XNIO-45 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-6', selector sun.nio.ch.EPollSelectorImpl@46283600
06:24:15.494 [XNIO-45 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6d3ee8cf
06:24:15.495 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.495 [XNIO-45 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 Accept', selector sun.nio.ch.EPollSelectorImpl@55c89e5c
06:24:15.495 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.497 [XNIO-45 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2ef9f878
06:24:15.498 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.498 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.498 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42327
06:24:15.498 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:42327
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42327
06:24:15.499 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:42327 with timeout 0
06:24:15.499 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:15.499 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:15.499 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:15.539 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:15.539 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:15.539 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:15.539 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.539 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.539 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49070&lt;-&gt;127.0.0.1:42327
06:24:15.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /basic HTTP/1.1
06:24:15.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:42327
06:24:15.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
06:24:15.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:42327[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.546 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.546 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.546 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@23c6f338 for /basic
06:24:15.546 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.546 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.546 [XNIO-45 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
06:24:15.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
06:24:15.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.547 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.547 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42327 requested authentication
06:24:15.547 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.547 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.547 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.547 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.549 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.549 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.549 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.549 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.549 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.549 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /basic HTTP/1.1
06:24:15.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:42327
06:24:15.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
06:24:15.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:15.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:42327[\r][\n]&quot;
06:24:15.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:15.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.570 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.570 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.570 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.570 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.570 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@23c6f338 for /basic
06:24:15.570 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.570 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.570 [XNIO-45 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.572 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.572 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.572 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42327 requested authentication
06:24:15.572 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.572 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.572 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49070&lt;-&gt;127.0.0.1:42327
06:24:15.572 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.573 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.573 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.573 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42327
06:24:15.573 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.573 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.573 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.573 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /basic HTTP/1.1
06:24:15.573 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:42327
06:24:15.573 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
06:24:15.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:42327[\r][\n]&quot;
06:24:15.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.582 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.583 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.583 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@23c6f338 for /basic
06:24:15.583 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.583 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.583 [XNIO-45 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42327 requested authentication
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.584 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /basic HTTP/1.1
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:42327
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.584 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:42327[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:15.584 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.587 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.587 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.587 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.587 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.587 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@23c6f338 for /basic
06:24:15.587 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {}}
06:24:15.587 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42327]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.588 [XNIO-45 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
06:24:15.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
06:24:15.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.589 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.590 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.590 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42327 requested authentication
06:24:15.590 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.590 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.590 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49070&lt;-&gt;127.0.0.1:42327
06:24:15.590 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.590 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@639f17cc
06:24:15.652 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4d02ce6e
06:24:15.654 [XNIO-46 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-1', selector sun.nio.ch.EPollSelectorImpl@19d9283c
06:24:15.655 [XNIO-46 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6ce112f3
06:24:15.658 [XNIO-46 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7abed137
06:24:15.658 [XNIO-46 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-4', selector sun.nio.ch.EPollSelectorImpl@67b5623e
06:24:15.662 [XNIO-46 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-6', selector sun.nio.ch.EPollSelectorImpl@59cfc23c
06:24:15.674 [XNIO-46 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5a5f3829
06:24:15.682 [XNIO-46 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-8', selector sun.nio.ch.EPollSelectorImpl@61411861
06:24:15.686 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.687 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.655 [XNIO-46 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5318ebb9
06:24:15.688 [XNIO-46 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 Accept', selector sun.nio.ch.EPollSelectorImpl@4ff22733
06:24:15.694 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.695 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36533
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36533
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36533
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43772&lt;-&gt;127.0.0.1:36533
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /digest HTTP/1.1
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:36533
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:36533[\r][\n]&quot;
06:24:15.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.698 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]} response {}}
06:24:15.698 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.698 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@70d0a67c for /digest
06:24:15.698 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]} response {}}
06:24:15.701 [XNIO-46 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
06:24:15.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
06:24:15.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.701 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.701 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.701 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36533 requested authentication
06:24:15.701 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.701 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.701 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.701 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.706 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.706 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.706 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.706 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.706 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.709 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /digest HTTP/1.1
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:36533
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;, uri=&quot;/digest&quot;, response=&quot;a37b59c0ad611d7d2ef04fdcc4222ab9&quot;, qop=auth, nc=00000001, cnonce=&quot;c854f92c0a6aa226&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:36533[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;, uri=&quot;/digest&quot;, response=&quot;a37b59c0ad611d7d2ef04fdcc4222ab9&quot;, qop=auth, nc=00000001, cnonce=&quot;c854f92c0a6aa226&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.720 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;, uri=&quot;/digest&quot;, response=&quot;a37b59c0ad611d7d2ef04fdcc4222ab9&quot;, qop=auth, nc=00000001, cnonce=&quot;c854f92c0a6aa226&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]} response {}}
06:24:15.720 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.723 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;, uri=&quot;/digest&quot;, response=&quot;a37b59c0ad611d7d2ef04fdcc4222ab9&quot;, qop=auth, nc=00000001, cnonce=&quot;c854f92c0a6aa226&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;, uri=&quot;/digest&quot;, response=&quot;a37b59c0ad611d7d2ef04fdcc4222ab9&quot;, qop=auth, nc=00000001, cnonce=&quot;c854f92c0a6aa226&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]} response {}}
06:24:15.734 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.734 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@70d0a67c for /digest
06:24:15.734 [XNIO-46 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:15.734 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;, uri=&quot;/digest&quot;, response=&quot;a37b59c0ad611d7d2ef04fdcc4222ab9&quot;, qop=auth, nc=00000001, cnonce=&quot;c854f92c0a6aa226&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]}, cookies=[:]): &lt;empty&gt; }
06:24:15.735 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;,qop=&quot;auth&quot;,rspauth=&quot;ac9fa95a4392910a8afb6d6392198a61&quot;,cnonce=&quot;c854f92c0a6aa226&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
06:24:15.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;,qop=&quot;auth&quot;,rspauth=&quot;ac9fa95a4392910a8afb6d6392198a61&quot;,cnonce=&quot;c854f92c0a6aa226&quot;,nc=00000001[\r][\n]&quot;
06:24:15.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 200 OK
06:24:15.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Encoding: gzip
06:24:15.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
06:24:15.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Authentication-Info: nextnonce=&quot;8S8vVRaSNLANMTUxMTE4MDY1NTY5OSiEu0IkxJlZsKPvtrvoBPc=&quot;,qop=&quot;auth&quot;,rspauth=&quot;ac9fa95a4392910a8afb6d6392198a61&quot;,cnonce=&quot;c854f92c0a6aa226&quot;,nc=00000001
06:24:15.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Type: text/plain
06:24:15.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 27
06:24:15.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.736 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.736 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:36533
06:24:15.738 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43772&lt;-&gt;127.0.0.1:36533
06:24:15.738 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.738 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.739 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36533
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /digest HTTP/1.1
06:24:15.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:36533
06:24:15.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
06:24:15.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:36533[\r][\n]&quot;
06:24:15.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.742 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]} response {}}
06:24:15.742 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.742 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@70d0a67c for /digest
06:24:15.742 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]} response {}}
06:24:15.742 [XNIO-46 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.742 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
06:24:15.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
06:24:15.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36533 requested authentication
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /digest HTTP/1.1
06:24:15.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:36533
06:24:15.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
06:24:15.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.744 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;, uri=&quot;/digest&quot;, response=&quot;46aece88425d7718afa4489fc8787255&quot;, qop=auth, nc=00000001, cnonce=&quot;0c75be9b15c99c1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:36533[\r][\n]&quot;
06:24:15.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;, uri=&quot;/digest&quot;, response=&quot;46aece88425d7718afa4489fc8787255&quot;, qop=auth, nc=00000001, cnonce=&quot;0c75be9b15c99c1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.748 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;, uri=&quot;/digest&quot;, response=&quot;46aece88425d7718afa4489fc8787255&quot;, qop=auth, nc=00000001, cnonce=&quot;0c75be9b15c99c1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]} response {}}
06:24:15.748 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.748 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;, uri=&quot;/digest&quot;, response=&quot;46aece88425d7718afa4489fc8787255&quot;, qop=auth, nc=00000001, cnonce=&quot;0c75be9b15c99c1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;, uri=&quot;/digest&quot;, response=&quot;46aece88425d7718afa4489fc8787255&quot;, qop=auth, nc=00000001, cnonce=&quot;0c75be9b15c99c1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]} response {}}
06:24:15.749 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.749 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@70d0a67c for /digest
06:24:15.749 [XNIO-46 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:15.749 [XNIO-46 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;, uri=&quot;/digest&quot;, response=&quot;46aece88425d7718afa4489fc8787255&quot;, qop=auth, nc=00000001, cnonce=&quot;0c75be9b15c99c1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36533]}, cookies=[:]): &lt;empty&gt; }
06:24:15.750 [XNIO-46 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f9394c7bd6c0294378b52b3d1eb58ed1&quot;,cnonce=&quot;0c75be9b15c99c1d&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
06:24:15.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f9394c7bd6c0294378b52b3d1eb58ed1&quot;,cnonce=&quot;0c75be9b15c99c1d&quot;,nc=00000001[\r][\n]&quot;
06:24:15.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 200 OK
06:24:15.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Encoding: gzip
06:24:15.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
06:24:15.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Authentication-Info: nextnonce=&quot;jlp4zhwF0cYNMTUxMTE4MDY1NTc0MrikCbhhq7IJuQmtDWY+hRc=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f9394c7bd6c0294378b52b3d1eb58ed1&quot;,cnonce=&quot;0c75be9b15c99c1d&quot;,nc=00000001
06:24:15.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Type: text/plain
06:24:15.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 27
06:24:15.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.751 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.751 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:36533
06:24:15.752 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43772&lt;-&gt;127.0.0.1:36533
06:24:15.752 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.752 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4d02ce6e
06:24:15.758 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@306f3f4d
06:24:15.760 [XNIO-47 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-2', selector sun.nio.ch.EPollSelectorImpl@161a0ad1
06:24:15.760 [XNIO-47 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-3', selector sun.nio.ch.EPollSelectorImpl@52dfb3cd
06:24:15.760 [XNIO-47 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2af10c78
06:24:15.760 [XNIO-47 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-1', selector sun.nio.ch.EPollSelectorImpl@678413c0
06:24:15.763 [XNIO-47 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-6', selector sun.nio.ch.EPollSelectorImpl@32aee1c8
06:24:15.773 [XNIO-47 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-7', selector sun.nio.ch.EPollSelectorImpl@39b7ed63
06:24:15.780 [XNIO-47 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-8', selector sun.nio.ch.EPollSelectorImpl@646919ec
06:24:15.760 [XNIO-47 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4738aa0c
06:24:15.784 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.784 [XNIO-47 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 Accept', selector sun.nio.ch.EPollSelectorImpl@63499856
06:24:15.785 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.789 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.790 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.790 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39995
06:24:15.790 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:39995
06:24:15.790 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39995
06:24:15.790 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:39995 with timeout 0
06:24:15.790 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:15.790 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:15.790 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:15.832 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:15.832 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:15.832 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:15.832 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.832 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.832 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39784&lt;-&gt;127.0.0.1:39995
06:24:15.832 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.832 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.832 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /digest HTTP/1.1
06:24:15.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:39995
06:24:15.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
06:24:15.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:39995[\r][\n]&quot;
06:24:15.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.833 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]} response {}}
06:24:15.833 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.833 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@245ecb96 for /digest
06:24:15.833 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]} response {}}
06:24:15.833 [XNIO-47 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39995 requested authentication
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.834 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /digest HTTP/1.1
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:39995
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.834 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;, uri=&quot;/digest&quot;, response=&quot;a28bdd8cc5d4d31e83566f9942699c8b&quot;, qop=auth, nc=00000001, cnonce=&quot;b92c53eb30e9884b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.834 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.834 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:39995[\r][\n]&quot;
06:24:15.834 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.834 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.834 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.834 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;, uri=&quot;/digest&quot;, response=&quot;a28bdd8cc5d4d31e83566f9942699c8b&quot;, qop=auth, nc=00000001, cnonce=&quot;b92c53eb30e9884b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.834 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.842 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;, uri=&quot;/digest&quot;, response=&quot;a28bdd8cc5d4d31e83566f9942699c8b&quot;, qop=auth, nc=00000001, cnonce=&quot;b92c53eb30e9884b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]} response {}}
06:24:15.842 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.842 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;, uri=&quot;/digest&quot;, response=&quot;a28bdd8cc5d4d31e83566f9942699c8b&quot;, qop=auth, nc=00000001, cnonce=&quot;b92c53eb30e9884b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;, uri=&quot;/digest&quot;, response=&quot;a28bdd8cc5d4d31e83566f9942699c8b&quot;, qop=auth, nc=00000001, cnonce=&quot;b92c53eb30e9884b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]} response {}}
06:24:15.843 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.843 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@245ecb96 for /digest
06:24:15.843 [XNIO-47 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:15.843 [XNIO-47 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;, uri=&quot;/digest&quot;, response=&quot;a28bdd8cc5d4d31e83566f9942699c8b&quot;, qop=auth, nc=00000001, cnonce=&quot;b92c53eb30e9884b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]}, cookies=[:]): &lt;empty&gt; }
06:24:15.844 [XNIO-47 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;36b41591556062ec83b9f39521db7668&quot;,cnonce=&quot;b92c53eb30e9884b&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
06:24:15.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;36b41591556062ec83b9f39521db7668&quot;,cnonce=&quot;b92c53eb30e9884b&quot;,nc=00000001[\r][\n]&quot;
06:24:15.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
06:24:15.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Encoding: gzip
06:24:15.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
06:24:15.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Authentication-Info: nextnonce=&quot;gtomEMQX1UwNMTUxMTE4MDY1NTgzM1UI5UYTk5k/gzW8e5pRQaw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;36b41591556062ec83b9f39521db7668&quot;,cnonce=&quot;b92c53eb30e9884b&quot;,nc=00000001
06:24:15.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Type: text/plain
06:24:15.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 27
06:24:15.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.844 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.845 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.845 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:39995
06:24:15.845 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39784&lt;-&gt;127.0.0.1:39995
06:24:15.845 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.846 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.846 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.846 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39995
06:24:15.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /digest HTTP/1.1
06:24:15.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:39995
06:24:15.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
06:24:15.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:39995[\r][\n]&quot;
06:24:15.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.850 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]} response {}}
06:24:15.850 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.850 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@245ecb96 for /digest
06:24:15.850 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]} response {}}
06:24:15.850 [XNIO-47 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39995 requested authentication
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.851 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /digest HTTP/1.1
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:39995
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;, uri=&quot;/digest&quot;, response=&quot;bf30d1d835f8dc3487ccc8da560323c8&quot;, qop=auth, nc=00000001, cnonce=&quot;12b9110a8cc62316&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:39995[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;, uri=&quot;/digest&quot;, response=&quot;bf30d1d835f8dc3487ccc8da560323c8&quot;, qop=auth, nc=00000001, cnonce=&quot;12b9110a8cc62316&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.854 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;, uri=&quot;/digest&quot;, response=&quot;bf30d1d835f8dc3487ccc8da560323c8&quot;, qop=auth, nc=00000001, cnonce=&quot;12b9110a8cc62316&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]} response {}}
06:24:15.854 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.854 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;, uri=&quot;/digest&quot;, response=&quot;bf30d1d835f8dc3487ccc8da560323c8&quot;, qop=auth, nc=00000001, cnonce=&quot;12b9110a8cc62316&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;, uri=&quot;/digest&quot;, response=&quot;bf30d1d835f8dc3487ccc8da560323c8&quot;, qop=auth, nc=00000001, cnonce=&quot;12b9110a8cc62316&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]} response {}}
06:24:15.856 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.856 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@245ecb96 for /digest
06:24:15.856 [XNIO-47 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:15.856 [XNIO-47 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;, uri=&quot;/digest&quot;, response=&quot;bf30d1d835f8dc3487ccc8da560323c8&quot;, qop=auth, nc=00000001, cnonce=&quot;12b9110a8cc62316&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39995]}, cookies=[:]): &lt;empty&gt; }
06:24:15.856 [XNIO-47 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;,qop=&quot;auth&quot;,rspauth=&quot;b44fa2d06ac30515433777afda00bec9&quot;,cnonce=&quot;12b9110a8cc62316&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
06:24:15.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;,qop=&quot;auth&quot;,rspauth=&quot;b44fa2d06ac30515433777afda00bec9&quot;,cnonce=&quot;12b9110a8cc62316&quot;,nc=00000001[\r][\n]&quot;
06:24:15.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
06:24:15.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Encoding: gzip
06:24:15.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
06:24:15.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Authentication-Info: nextnonce=&quot;Il2GZG53mYkNMTUxMTE4MDY1NTg1MGEb+ddnNA5VYfhLmlGzgog=&quot;,qop=&quot;auth&quot;,rspauth=&quot;b44fa2d06ac30515433777afda00bec9&quot;,cnonce=&quot;12b9110a8cc62316&quot;,nc=00000001
06:24:15.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Type: text/plain
06:24:15.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 27
06:24:15.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.858 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.858 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.858 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:39995
06:24:15.859 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39784&lt;-&gt;127.0.0.1:39995
06:24:15.859 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.859 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@306f3f4d
06:24:15.868 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@30fb63fd
06:24:15.878 [XNIO-48 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-1', selector sun.nio.ch.EPollSelectorImpl@45ab4514
06:24:15.878 [XNIO-48 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-2', selector sun.nio.ch.EPollSelectorImpl@16d2a1fe
06:24:15.880 [XNIO-48 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6f6e5436
06:24:15.883 [XNIO-48 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1c5d8231
06:24:15.883 [XNIO-48 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2bb34edb
06:24:15.887 [XNIO-48 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-6', selector sun.nio.ch.EPollSelectorImpl@c465db2
06:24:15.888 [XNIO-48 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6cfdfe45
06:24:15.894 [XNIO-48 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5838eec1
06:24:15.894 [XNIO-48 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 Accept', selector sun.nio.ch.EPollSelectorImpl@24957f6a
06:24:15.894 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.895 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.899 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.899 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.899 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38659
06:24:15.899 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38659
06:24:15.899 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38659
06:24:15.900 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41382&lt;-&gt;127.0.0.1:38659
06:24:15.900 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.900 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.900 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /digest HTTP/1.1
06:24:15.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:38659
06:24:15.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
06:24:15.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:38659[\r][\n]&quot;
06:24:15.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.901 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.901 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.901 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@26a6ca33 for /digest
06:24:15.901 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.901 [XNIO-48 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;2lSolvGmNX4NMTUxMTE4MDY1NTkwMSQ5KdSOvkAY0zsfk9rkfj0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
06:24:15.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;2lSolvGmNX4NMTUxMTE4MDY1NTkwMSQ5KdSOvkAY0zsfk9rkfj0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
06:24:15.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38659 requested authentication
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.902 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /digest HTTP/1.1
06:24:15.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:38659
06:24:15.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
06:24:15.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2lSolvGmNX4NMTUxMTE4MDY1NTkwMSQ5KdSOvkAY0zsfk9rkfj0=&quot;, uri=&quot;/digest&quot;, response=&quot;b5d17544822baaba73d3a78d4eb1042c&quot;, qop=auth, nc=00000001, cnonce=&quot;04ed84e0aa4a1a93&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:38659[\r][\n]&quot;
06:24:15.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2lSolvGmNX4NMTUxMTE4MDY1NTkwMSQ5KdSOvkAY0zsfk9rkfj0=&quot;, uri=&quot;/digest&quot;, response=&quot;b5d17544822baaba73d3a78d4eb1042c&quot;, qop=auth, nc=00000001, cnonce=&quot;04ed84e0aa4a1a93&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.916 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2lSolvGmNX4NMTUxMTE4MDY1NTkwMSQ5KdSOvkAY0zsfk9rkfj0=&quot;, uri=&quot;/digest&quot;, response=&quot;b5d17544822baaba73d3a78d4eb1042c&quot;, qop=auth, nc=00000001, cnonce=&quot;04ed84e0aa4a1a93&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.916 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.916 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2lSolvGmNX4NMTUxMTE4MDY1NTkwMSQ5KdSOvkAY0zsfk9rkfj0=&quot;, uri=&quot;/digest&quot;, response=&quot;b5d17544822baaba73d3a78d4eb1042c&quot;, qop=auth, nc=00000001, cnonce=&quot;04ed84e0aa4a1a93&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2lSolvGmNX4NMTUxMTE4MDY1NTkwMSQ5KdSOvkAY0zsfk9rkfj0=&quot;, uri=&quot;/digest&quot;, response=&quot;b5d17544822baaba73d3a78d4eb1042c&quot;, qop=auth, nc=00000001, cnonce=&quot;04ed84e0aa4a1a93&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.916 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2lSolvGmNX4NMTUxMTE4MDY1NTkwMSQ5KdSOvkAY0zsfk9rkfj0=&quot;, uri=&quot;/digest&quot;, response=&quot;b5d17544822baaba73d3a78d4eb1042c&quot;, qop=auth, nc=00000001, cnonce=&quot;04ed84e0aa4a1a93&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.916 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@26a6ca33 for /digest
06:24:15.916 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2lSolvGmNX4NMTUxMTE4MDY1NTkwMSQ5KdSOvkAY0zsfk9rkfj0=&quot;, uri=&quot;/digest&quot;, response=&quot;b5d17544822baaba73d3a78d4eb1042c&quot;, qop=auth, nc=00000001, cnonce=&quot;04ed84e0aa4a1a93&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.916 [XNIO-48 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;07dyOTmStY4NMTUxMTE4MDY1NTkxNqFz9/N8WQ0/cu53h4RgC4M=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
06:24:15.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;07dyOTmStY4NMTUxMTE4MDY1NTkxNqFz9/N8WQ0/cu53h4RgC4M=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
06:24:15.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.920 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.920 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.920 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38659 requested authentication
06:24:15.920 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.920 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.920 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41382&lt;-&gt;127.0.0.1:38659
06:24:15.920 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.921 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.921 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.921 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38659
06:24:15.921 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.921 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.921 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.921 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /digest HTTP/1.1
06:24:15.921 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:38659
06:24:15.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
06:24:15.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:38659[\r][\n]&quot;
06:24:15.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.926 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.926 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.926 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@26a6ca33 for /digest
06:24:15.926 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.927 [XNIO-48 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;8EQUMvDz0mQNMTUxMTE4MDY1NTkyNmYWpVDEWsf2AcZDgmTHCOs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.927 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.927 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
06:24:15.927 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;8EQUMvDz0mQNMTUxMTE4MDY1NTkyNmYWpVDEWsf2AcZDgmTHCOs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.927 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
06:24:15.927 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38659 requested authentication
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.927 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.928 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /digest HTTP/1.1
06:24:15.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:38659
06:24:15.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
06:24:15.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8EQUMvDz0mQNMTUxMTE4MDY1NTkyNmYWpVDEWsf2AcZDgmTHCOs=&quot;, uri=&quot;/digest&quot;, response=&quot;f7362cdc856c3d0cc4006b9d0ff9adbf&quot;, qop=auth, nc=00000001, cnonce=&quot;92679471a24aa567&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:15.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:38659[\r][\n]&quot;
06:24:15.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8EQUMvDz0mQNMTUxMTE4MDY1NTkyNmYWpVDEWsf2AcZDgmTHCOs=&quot;, uri=&quot;/digest&quot;, response=&quot;f7362cdc856c3d0cc4006b9d0ff9adbf&quot;, qop=auth, nc=00000001, cnonce=&quot;92679471a24aa567&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.930 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8EQUMvDz0mQNMTUxMTE4MDY1NTkyNmYWpVDEWsf2AcZDgmTHCOs=&quot;, uri=&quot;/digest&quot;, response=&quot;f7362cdc856c3d0cc4006b9d0ff9adbf&quot;, qop=auth, nc=00000001, cnonce=&quot;92679471a24aa567&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.930 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.930 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8EQUMvDz0mQNMTUxMTE4MDY1NTkyNmYWpVDEWsf2AcZDgmTHCOs=&quot;, uri=&quot;/digest&quot;, response=&quot;f7362cdc856c3d0cc4006b9d0ff9adbf&quot;, qop=auth, nc=00000001, cnonce=&quot;92679471a24aa567&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8EQUMvDz0mQNMTUxMTE4MDY1NTkyNmYWpVDEWsf2AcZDgmTHCOs=&quot;, uri=&quot;/digest&quot;, response=&quot;f7362cdc856c3d0cc4006b9d0ff9adbf&quot;, qop=auth, nc=00000001, cnonce=&quot;92679471a24aa567&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.930 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8EQUMvDz0mQNMTUxMTE4MDY1NTkyNmYWpVDEWsf2AcZDgmTHCOs=&quot;, uri=&quot;/digest&quot;, response=&quot;f7362cdc856c3d0cc4006b9d0ff9adbf&quot;, qop=auth, nc=00000001, cnonce=&quot;92679471a24aa567&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.930 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@26a6ca33 for /digest
06:24:15.930 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;8EQUMvDz0mQNMTUxMTE4MDY1NTkyNmYWpVDEWsf2AcZDgmTHCOs=&quot;, uri=&quot;/digest&quot;, response=&quot;f7362cdc856c3d0cc4006b9d0ff9adbf&quot;, qop=auth, nc=00000001, cnonce=&quot;92679471a24aa567&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38659]} response {}}
06:24:15.930 [XNIO-48 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;LlulYgf5ZikNMTUxMTE4MDY1NTkzMJZIPNzaoSjQVAUZjjq3Xso=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
06:24:15.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;LlulYgf5ZikNMTUxMTE4MDY1NTkzMJZIPNzaoSjQVAUZjjq3Xso=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
06:24:15.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.931 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.931 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38659 requested authentication
06:24:15.931 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.931 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.931 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41382&lt;-&gt;127.0.0.1:38659
06:24:15.931 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.933 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@30fb63fd
06:24:15.939 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@53638d5
06:24:15.940 [XNIO-49 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3aa0efc1
06:24:15.950 [XNIO-49 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-2', selector sun.nio.ch.EPollSelectorImpl@69beb10c
06:24:15.954 [XNIO-49 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-3', selector sun.nio.ch.EPollSelectorImpl@56278f30
06:24:15.958 [XNIO-49 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-4', selector sun.nio.ch.EPollSelectorImpl@59d8801a
06:24:15.970 [XNIO-49 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-5', selector sun.nio.ch.EPollSelectorImpl@61a60f39
06:24:15.971 [XNIO-49 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-7', selector sun.nio.ch.EPollSelectorImpl@100d6d9e
06:24:15.971 [XNIO-49 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-8', selector sun.nio.ch.EPollSelectorImpl@13d83211
06:24:15.971 [XNIO-49 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7df3c30f
06:24:15.974 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.974 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.976 [XNIO-49 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 Accept', selector sun.nio.ch.EPollSelectorImpl@3112fac6
06:24:15.977 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.977 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.977 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37733
06:24:15.978 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:37733
06:24:15.978 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37733
06:24:15.978 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:37733 with timeout 0
06:24:15.978 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:15.978 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:15.978 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:16.000 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:16.000 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:16.000 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:16.000 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:16.000 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:16.000 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36562&lt;-&gt;127.0.0.1:37733
06:24:16.000 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:16.000 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.000 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /digest HTTP/1.1
06:24:16.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:37733
06:24:16.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
06:24:16.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:16.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:37733[\r][\n]&quot;
06:24:16.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.002 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.002 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:16.002 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@68134b7f for /digest
06:24:16.002 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.002 [XNIO-49 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:16.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:16.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;4bHqMm6DcpoNMTUxMTE4MDY1NjAwMs3PDQoC/YD7eMYu8cj9920=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:16.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:16.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
06:24:16.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;4bHqMm6DcpoNMTUxMTE4MDY1NjAwMs3PDQoC/YD7eMYu8cj9920=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:16.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
06:24:16.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37733 requested authentication
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:16.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /digest HTTP/1.1
06:24:16.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:37733
06:24:16.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
06:24:16.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;4bHqMm6DcpoNMTUxMTE4MDY1NjAwMs3PDQoC/YD7eMYu8cj9920=&quot;, uri=&quot;/digest&quot;, response=&quot;2a832a5a7927de619ebe1712c4e087a5&quot;, qop=auth, nc=00000001, cnonce=&quot;8a23f0bc62b42d1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:16.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:16.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:37733[\r][\n]&quot;
06:24:16.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;4bHqMm6DcpoNMTUxMTE4MDY1NjAwMs3PDQoC/YD7eMYu8cj9920=&quot;, uri=&quot;/digest&quot;, response=&quot;2a832a5a7927de619ebe1712c4e087a5&quot;, qop=auth, nc=00000001, cnonce=&quot;8a23f0bc62b42d1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:16.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.004 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;4bHqMm6DcpoNMTUxMTE4MDY1NjAwMs3PDQoC/YD7eMYu8cj9920=&quot;, uri=&quot;/digest&quot;, response=&quot;2a832a5a7927de619ebe1712c4e087a5&quot;, qop=auth, nc=00000001, cnonce=&quot;8a23f0bc62b42d1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.004 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:16.004 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;4bHqMm6DcpoNMTUxMTE4MDY1NjAwMs3PDQoC/YD7eMYu8cj9920=&quot;, uri=&quot;/digest&quot;, response=&quot;2a832a5a7927de619ebe1712c4e087a5&quot;, qop=auth, nc=00000001, cnonce=&quot;8a23f0bc62b42d1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;4bHqMm6DcpoNMTUxMTE4MDY1NjAwMs3PDQoC/YD7eMYu8cj9920=&quot;, uri=&quot;/digest&quot;, response=&quot;2a832a5a7927de619ebe1712c4e087a5&quot;, qop=auth, nc=00000001, cnonce=&quot;8a23f0bc62b42d1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.005 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;4bHqMm6DcpoNMTUxMTE4MDY1NjAwMs3PDQoC/YD7eMYu8cj9920=&quot;, uri=&quot;/digest&quot;, response=&quot;2a832a5a7927de619ebe1712c4e087a5&quot;, qop=auth, nc=00000001, cnonce=&quot;8a23f0bc62b42d1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.005 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@68134b7f for /digest
06:24:16.005 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;4bHqMm6DcpoNMTUxMTE4MDY1NjAwMs3PDQoC/YD7eMYu8cj9920=&quot;, uri=&quot;/digest&quot;, response=&quot;2a832a5a7927de619ebe1712c4e087a5&quot;, qop=auth, nc=00000001, cnonce=&quot;8a23f0bc62b42d1d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.005 [XNIO-49 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:16.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:16.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;s0R9x4ZJUPgNMTUxMTE4MDY1NjAwNW2PmTZq/enof49ESNnSvZ8=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:16.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:16.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
06:24:16.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;s0R9x4ZJUPgNMTUxMTE4MDY1NjAwNW2PmTZq/enof49ESNnSvZ8=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:16.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
06:24:16.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.005 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.005 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:16.005 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37733 requested authentication
06:24:16.005 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:16.005 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:16.005 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36562&lt;-&gt;127.0.0.1:37733
06:24:16.005 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.006 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.006 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.007 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37733
06:24:16.007 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:16.007 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.007 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /digest HTTP/1.1
06:24:16.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:37733
06:24:16.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
06:24:16.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.007 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:16.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:37733[\r][\n]&quot;
06:24:16.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.007 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.007 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.007 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:16.007 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@68134b7f for /digest
06:24:16.007 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.008 [XNIO-49 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:16.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:16.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;gxQj/pNvO0UNMTUxMTE4MDY1NjAwNwbqBoY352yuV+V3ma4P0pI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:16.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:16.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
06:24:16.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;gxQj/pNvO0UNMTUxMTE4MDY1NjAwNwbqBoY352yuV+V3ma4P0pI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:16.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
06:24:16.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37733 requested authentication
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
06:24:16.008 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:16.009 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:16.009 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /digest HTTP/1.1
06:24:16.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:37733
06:24:16.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
06:24:16.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gxQj/pNvO0UNMTUxMTE4MDY1NjAwNwbqBoY352yuV+V3ma4P0pI=&quot;, uri=&quot;/digest&quot;, response=&quot;5a8c8f8ed60879581534cbf5368193d3&quot;, qop=auth, nc=00000001, cnonce=&quot;28de5d06b56d3a5e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:16.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
06:24:16.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:37733[\r][\n]&quot;
06:24:16.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gxQj/pNvO0UNMTUxMTE4MDY1NjAwNwbqBoY352yuV+V3ma4P0pI=&quot;, uri=&quot;/digest&quot;, response=&quot;5a8c8f8ed60879581534cbf5368193d3&quot;, qop=auth, nc=00000001, cnonce=&quot;28de5d06b56d3a5e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:16.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.010 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gxQj/pNvO0UNMTUxMTE4MDY1NjAwNwbqBoY352yuV+V3ma4P0pI=&quot;, uri=&quot;/digest&quot;, response=&quot;5a8c8f8ed60879581534cbf5368193d3&quot;, qop=auth, nc=00000001, cnonce=&quot;28de5d06b56d3a5e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.010 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:16.010 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gxQj/pNvO0UNMTUxMTE4MDY1NjAwNwbqBoY352yuV+V3ma4P0pI=&quot;, uri=&quot;/digest&quot;, response=&quot;5a8c8f8ed60879581534cbf5368193d3&quot;, qop=auth, nc=00000001, cnonce=&quot;28de5d06b56d3a5e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gxQj/pNvO0UNMTUxMTE4MDY1NjAwNwbqBoY352yuV+V3ma4P0pI=&quot;, uri=&quot;/digest&quot;, response=&quot;5a8c8f8ed60879581534cbf5368193d3&quot;, qop=auth, nc=00000001, cnonce=&quot;28de5d06b56d3a5e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.010 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gxQj/pNvO0UNMTUxMTE4MDY1NjAwNwbqBoY352yuV+V3ma4P0pI=&quot;, uri=&quot;/digest&quot;, response=&quot;5a8c8f8ed60879581534cbf5368193d3&quot;, qop=auth, nc=00000001, cnonce=&quot;28de5d06b56d3a5e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.010 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@68134b7f for /digest
06:24:16.010 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gxQj/pNvO0UNMTUxMTE4MDY1NjAwNwbqBoY352yuV+V3ma4P0pI=&quot;, uri=&quot;/digest&quot;, response=&quot;5a8c8f8ed60879581534cbf5368193d3&quot;, qop=auth, nc=00000001, cnonce=&quot;28de5d06b56d3a5e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37733]} response {}}
06:24:16.011 [XNIO-49 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:16.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:16.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ityU+04Y1+oNMTUxMTE4MDY1NjAxMffM5I+jcx9prgnAQS7XzRw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:16.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:16.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
06:24:16.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ityU+04Y1+oNMTUxMTE4MDY1NjAxMffM5I+jcx9prgnAQS7XzRw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:16.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
06:24:16.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.011 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.011 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:16.011 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37733 requested authentication
06:24:16.011 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:16.011 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:16.012 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36562&lt;-&gt;127.0.0.1:37733
06:24:16.012 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.012 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@53638d5
06:24:16.019 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2f3e763f
06:24:16.020 [XNIO-50 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1384993a
06:24:16.020 [XNIO-50 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-1', selector sun.nio.ch.EPollSelectorImpl@350d962a
06:24:16.024 [XNIO-50 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6bac757a
06:24:16.026 [XNIO-50 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4fa63676
06:24:16.030 [XNIO-50 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-5', selector sun.nio.ch.EPollSelectorImpl@68eef32e
06:24:16.032 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.032 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.033 [XNIO-50 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-7', selector sun.nio.ch.EPollSelectorImpl@144edb8c
06:24:16.033 [XNIO-50 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 Accept', selector sun.nio.ch.EPollSelectorImpl@76c04acb
06:24:16.033 [XNIO-50 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-6', selector sun.nio.ch.EPollSelectorImpl@123d691f
06:24:16.033 [XNIO-50 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1743eb30
06:24:16.056 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.056 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.056 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33811
06:24:16.056 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33811
06:24:16.056 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33811
06:24:16.057 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34202&lt;-&gt;127.0.0.1:33811
06:24:16.057 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /pass HTTP/1.1
06:24:16.057 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.057 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; GET /pass HTTP/1.1
06:24:16.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:33811
06:24:16.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
06:24:16.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;GET /pass HTTP/1.1[\r][\n]&quot;
06:24:16.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:33811[\r][\n]&quot;
06:24:16.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.057 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33811]}, cookies=[:]): &lt;empty&gt; }
06:24:16.058 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 200 OK
06:24:16.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Encoding: gzip
06:24:16.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
06:24:16.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Type: text/plain
06:24:16.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 27
06:24:16.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.061 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34202&lt;-&gt;127.0.0.1:33811
06:24:16.061 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.061 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.061 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.061 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33811
06:24:16.061 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /pass HTTP/1.1
06:24:16.061 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.061 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; GET /pass HTTP/1.1
06:24:16.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:33811
06:24:16.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
06:24:16.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;GET /pass HTTP/1.1[\r][\n]&quot;
06:24:16.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:33811[\r][\n]&quot;
06:24:16.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.066 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33811]}, cookies=[:]): &lt;empty&gt; }
06:24:16.066 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 200 OK
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Encoding: gzip
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Type: text/plain
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 27
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.068 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34202&lt;-&gt;127.0.0.1:33811
06:24:16.068 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.069 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2f3e763f
06:24:16.082 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@50944d11
06:24:16.087 [XNIO-51 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3f944e2c
06:24:16.089 [XNIO-51 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-2', selector sun.nio.ch.EPollSelectorImpl@62816288
06:24:16.089 [XNIO-51 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-3', selector sun.nio.ch.EPollSelectorImpl@220f56cf
06:24:16.090 [XNIO-51 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-4', selector sun.nio.ch.EPollSelectorImpl@9b73e66
06:24:16.094 [XNIO-51 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6ff09159
06:24:16.102 [XNIO-51 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4b047612
06:24:16.102 [XNIO-51 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-8', selector sun.nio.ch.EPollSelectorImpl@42a9eebf
06:24:16.102 [XNIO-51 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 Accept', selector sun.nio.ch.EPollSelectorImpl@38125c26
06:24:16.102 [XNIO-51 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-7', selector sun.nio.ch.EPollSelectorImpl@31897ce7
06:24:16.102 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.103 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.110 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.110 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.110 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42673
06:24:16.110 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42673
06:24:16.110 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42673
06:24:16.110 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57438&lt;-&gt;127.0.0.1:42673
06:24:16.111 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.111 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.111 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.111 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; GET /handling HTTP/1.1
06:24:16.111 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:42673
06:24:16.111 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
06:24:16.111 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.111 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:42673[\r][\n]&quot;
06:24:16.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.111 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.134 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42673]}, cookies=[:]): &lt;empty&gt; }
06:24:16.134 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.134 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:16.134 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.134 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.134 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.134 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:16.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
06:24:16.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
06:24:16.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.135 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.135 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57438&lt;-&gt;127.0.0.1:42673
06:24:16.135 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.136 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.136 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.136 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42673
06:24:16.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.136 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; GET /handling HTTP/1.1
06:24:16.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:42673
06:24:16.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
06:24:16.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.136 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:42673[\r][\n]&quot;
06:24:16.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.136 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.138 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42673]}, cookies=[:]): &lt;empty&gt; }
06:24:16.150 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:16.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:16.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
06:24:16.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
06:24:16.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.150 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57438&lt;-&gt;127.0.0.1:42673
06:24:16.150 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.151 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@50944d11
06:24:16.155 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1355ba14
06:24:16.157 [XNIO-51 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
06:24:16.166 [XNIO-52 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-1', selector sun.nio.ch.EPollSelectorImpl@15b5ddc0
06:24:16.169 [XNIO-52 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6c0a9dea
06:24:16.178 [XNIO-52 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5729562
06:24:16.180 [XNIO-52 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1d0369f5
06:24:16.180 [XNIO-52 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-5', selector sun.nio.ch.EPollSelectorImpl@fda700d
06:24:16.182 [XNIO-52 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-6', selector sun.nio.ch.EPollSelectorImpl@29e947d0
06:24:16.186 [XNIO-52 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-7', selector sun.nio.ch.EPollSelectorImpl@50bcf591
06:24:16.194 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.194 [XNIO-52 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-8', selector sun.nio.ch.EPollSelectorImpl@e9fe8db
06:24:16.195 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.197 [XNIO-52 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 Accept', selector sun.nio.ch.EPollSelectorImpl@72181ed5
06:24:16.198 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.198 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.198 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38915
06:24:16.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38915
06:24:16.198 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38915
06:24:16.198 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48980&lt;-&gt;127.0.0.1:38915
06:24:16.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; GET /handling HTTP/1.1
06:24:16.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:38915
06:24:16.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
06:24:16.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.199 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:38915[\r][\n]&quot;
06:24:16.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.199 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.202 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38915]}, cookies=[:]): &lt;empty&gt; }
06:24:16.203 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:16.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 210 Unknown
06:24:16.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
06:24:16.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 0
06:24:16.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.203 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.203 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48980&lt;-&gt;127.0.0.1:38915
06:24:16.203 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.204 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.204 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.204 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38915
06:24:16.204 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.204 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.204 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; GET /handling HTTP/1.1
06:24:16.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:38915
06:24:16.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
06:24:16.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:38915[\r][\n]&quot;
06:24:16.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.210 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38915]}, cookies=[:]): &lt;empty&gt; }
06:24:16.210 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:16.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 210 Unknown
06:24:16.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
06:24:16.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 0
06:24:16.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.211 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.211 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48980&lt;-&gt;127.0.0.1:38915
06:24:16.211 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.211 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1355ba14
06:24:16.216 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@57467559
06:24:16.218 [XNIO-53 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-1', selector sun.nio.ch.EPollSelectorImpl@d70f003
06:24:16.232 [XNIO-53 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2e875aac
06:24:16.234 [XNIO-53 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5ee2211d
06:24:16.236 [XNIO-53 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2ced17ea
06:24:16.236 [XNIO-53 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6c6ff2de
06:24:16.236 [XNIO-53 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6223d26
06:24:16.236 [XNIO-53 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4e5c2636
06:24:16.238 [XNIO-53 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-8', selector sun.nio.ch.EPollSelectorImpl@26fbb2a7
06:24:16.239 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.239 [XNIO-53 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 Accept', selector sun.nio.ch.EPollSelectorImpl@274b7f98
06:24:16.240 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.243 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.243 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.243 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46527
06:24:16.243 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46527
06:24:16.243 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46527
06:24:16.243 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59828&lt;-&gt;127.0.0.1:46527
06:24:16.243 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.243 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.243 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; GET /handling HTTP/1.1
06:24:16.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:46527
06:24:16.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
06:24:16.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:46527[\r][\n]&quot;
06:24:16.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.246 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46527]}, cookies=[:]): &lt;empty&gt; }
06:24:16.246 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:16.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 211 Unknown
06:24:16.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
06:24:16.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 0
06:24:16.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.247 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.247 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59828&lt;-&gt;127.0.0.1:46527
06:24:16.247 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.247 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.247 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.247 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46527
06:24:16.247 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.247 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.247 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; GET /handling HTTP/1.1
06:24:16.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:46527
06:24:16.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
06:24:16.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.247 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.247 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:46527[\r][\n]&quot;
06:24:16.247 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.247 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.247 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.247 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.259 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46527]}, cookies=[:]): &lt;empty&gt; }
06:24:16.259 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:16.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 211 Unknown
06:24:16.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
06:24:16.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 0
06:24:16.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.259 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.260 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59828&lt;-&gt;127.0.0.1:46527
06:24:16.260 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.260 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@57467559
06:24:16.269 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7d13ccae
06:24:16.271 [XNIO-54 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-1', selector sun.nio.ch.EPollSelectorImpl@15b4c38a
06:24:16.275 [XNIO-54 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-2', selector sun.nio.ch.EPollSelectorImpl@57966a05
06:24:16.286 [XNIO-54 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1d21358f
06:24:16.286 [XNIO-54 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-4', selector sun.nio.ch.EPollSelectorImpl@51915951
06:24:16.296 [XNIO-54 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-5', selector sun.nio.ch.EPollSelectorImpl@fc2d060
06:24:16.302 [XNIO-54 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3251d847
06:24:16.318 [XNIO-54 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-7', selector sun.nio.ch.EPollSelectorImpl@28ed9d97
06:24:16.334 [XNIO-54 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-8', selector sun.nio.ch.EPollSelectorImpl@696502cf
06:24:16.335 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.335 [XNIO-54 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 Accept', selector sun.nio.ch.EPollSelectorImpl@77dbd5e7
06:24:16.335 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.346 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37373
06:24:16.347 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37373
06:24:16.347 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37373
06:24:16.347 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56372&lt;-&gt;127.0.0.1:37373
06:24:16.347 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.347 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.347 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; GET /handling HTTP/1.1
06:24:16.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:37373
06:24:16.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
06:24:16.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.347 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:37373[\r][\n]&quot;
06:24:16.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.347 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.349 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37373]}, cookies=[:]): &lt;empty&gt; }
06:24:16.350 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:16.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:16.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
06:24:16.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 0
06:24:16.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.350 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56372&lt;-&gt;127.0.0.1:37373
06:24:16.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.351 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37373
06:24:16.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; GET /handling HTTP/1.1
06:24:16.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:37373
06:24:16.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
06:24:16.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:37373[\r][\n]&quot;
06:24:16.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.354 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37373]}, cookies=[:]): &lt;empty&gt; }
06:24:16.354 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:16.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:16.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
06:24:16.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 0
06:24:16.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.355 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.355 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56372&lt;-&gt;127.0.0.1:37373
06:24:16.355 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.355 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7d13ccae
06:24:16.358 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1157135d
06:24:16.366 [XNIO-55 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2b2ab9e4
06:24:16.372 [XNIO-55 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-3', selector sun.nio.ch.EPollSelectorImpl@48833bd4
06:24:16.372 [XNIO-55 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-2', selector sun.nio.ch.EPollSelectorImpl@519d2abe
06:24:16.374 [XNIO-55 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-4', selector sun.nio.ch.EPollSelectorImpl@52350ebd
06:24:16.375 [XNIO-55 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5bc233d4
06:24:16.376 [XNIO-55 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7a268c23
06:24:16.376 [XNIO-55 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-7', selector sun.nio.ch.EPollSelectorImpl@a74ab
06:24:16.376 [XNIO-55 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-8', selector sun.nio.ch.EPollSelectorImpl@30060997
06:24:16.376 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.376 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.377 [XNIO-55 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 Accept', selector sun.nio.ch.EPollSelectorImpl@6f77657e
06:24:16.378 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.378 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.378 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37797
06:24:16.378 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37797
06:24:16.378 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37797
06:24:16.379 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33736&lt;-&gt;127.0.0.1:37797
06:24:16.379 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.379 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.379 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.379 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; GET /handling HTTP/1.1
06:24:16.379 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:37797
06:24:16.379 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
06:24:16.379 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.379 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:37797[\r][\n]&quot;
06:24:16.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.382 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37797]}, cookies=[:]): &lt;empty&gt; }
06:24:16.382 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:16.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 210 Unknown
06:24:16.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
06:24:16.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 0
06:24:16.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.383 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33736&lt;-&gt;127.0.0.1:37797
06:24:16.383 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.383 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.383 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.383 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37797
06:24:16.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; GET /handling HTTP/1.1
06:24:16.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:37797
06:24:16.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
06:24:16.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:37797[\r][\n]&quot;
06:24:16.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.390 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37797]}, cookies=[:]): &lt;empty&gt; }
06:24:16.390 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:16.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.391 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 210 Unknown
06:24:16.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
06:24:16.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 0
06:24:16.391 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.391 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.391 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33736&lt;-&gt;127.0.0.1:37797
06:24:16.391 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.391 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1157135d
06:24:16.395 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@31107bc9
06:24:16.396 [XNIO-56 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4d634f3e
06:24:16.398 [XNIO-56 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2af8cd19
06:24:16.411 [XNIO-56 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6fb64424
06:24:16.414 [XNIO-56 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-4', selector sun.nio.ch.EPollSelectorImpl@63b83e7b
06:24:16.418 [XNIO-56 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1c477773
06:24:16.419 [XNIO-56 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2e5eaecc
06:24:16.419 [XNIO-56 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7047cda4
06:24:16.419 [XNIO-56 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7d236759
06:24:16.422 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.422 [XNIO-56 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 Accept', selector sun.nio.ch.EPollSelectorImpl@7b1e6823
06:24:16.422 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.425 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.425 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.425 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42353
06:24:16.425 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42353
06:24:16.425 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42353
06:24:16.425 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49320&lt;-&gt;127.0.0.1:42353
06:24:16.425 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.425 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.425 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; GET /handling HTTP/1.1
06:24:16.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:42353
06:24:16.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
06:24:16.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:42353[\r][\n]&quot;
06:24:16.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.425 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.430 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42353]}, cookies=[:]): &lt;empty&gt; }
06:24:16.430 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:16.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 211 Unknown
06:24:16.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
06:24:16.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 0
06:24:16.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.431 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49320&lt;-&gt;127.0.0.1:42353
06:24:16.431 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.431 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.431 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.431 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42353
06:24:16.431 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.431 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.431 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; GET /handling HTTP/1.1
06:24:16.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:42353
06:24:16.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
06:24:16.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.431 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.431 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:42353[\r][\n]&quot;
06:24:16.431 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.431 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.431 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.431 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.432 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42353]}, cookies=[:]): &lt;empty&gt; }
06:24:16.432 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:16.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 211 Unknown
06:24:16.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
06:24:16.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 0
06:24:16.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.433 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.434 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49320&lt;-&gt;127.0.0.1:42353
06:24:16.434 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.434 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@31107bc9
06:24:16.443 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@790ca0a7
06:24:16.446 [XNIO-57 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-1', selector sun.nio.ch.EPollSelectorImpl@614fc398
06:24:16.450 [XNIO-57 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1f829875
06:24:16.450 [XNIO-57 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-4', selector sun.nio.ch.EPollSelectorImpl@a7c2bd2
06:24:16.446 [XNIO-57 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-2', selector sun.nio.ch.EPollSelectorImpl@406d5ecb
06:24:16.450 [XNIO-57 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-6', selector sun.nio.ch.EPollSelectorImpl@569217ab
06:24:16.450 [XNIO-57 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-5', selector sun.nio.ch.EPollSelectorImpl@41675215
06:24:16.452 [XNIO-57 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-7', selector sun.nio.ch.EPollSelectorImpl@21770cbe
06:24:16.452 [XNIO-57 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-8', selector sun.nio.ch.EPollSelectorImpl@51993359
06:24:16.452 [XNIO-57 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 Accept', selector sun.nio.ch.EPollSelectorImpl@298daebf
06:24:16.452 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.453 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.466 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.466 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.466 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33977
06:24:16.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33977
06:24:16.466 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33977
06:24:16.466 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49642&lt;-&gt;127.0.0.1:33977
06:24:16.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; GET /handling HTTP/1.1
06:24:16.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:33977
06:24:16.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
06:24:16.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:33977[\r][\n]&quot;
06:24:16.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.467 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33977]}, cookies=[:]): &lt;empty&gt; }
06:24:16.468 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
06:24:16.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
06:24:16.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
06:24:16.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
06:24:16.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
06:24:16.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.471 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.472 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49642&lt;-&gt;127.0.0.1:33977
06:24:16.472 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.472 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.472 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.472 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33977
06:24:16.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; GET /handling HTTP/1.1
06:24:16.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:33977
06:24:16.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
06:24:16.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:33977[\r][\n]&quot;
06:24:16.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.472 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.478 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33977]}, cookies=[:]): &lt;empty&gt; }
06:24:16.478 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
06:24:16.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
06:24:16.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
06:24:16.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
06:24:16.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
06:24:16.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.479 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49642&lt;-&gt;127.0.0.1:33977
06:24:16.479 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.480 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@790ca0a7
06:24:16.484 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@80502e2
06:24:16.489 [XNIO-58 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-1', selector sun.nio.ch.EPollSelectorImpl@61e2ffc3
06:24:16.489 [XNIO-58 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1ca597d9
06:24:16.489 [XNIO-58 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6e96a4c5
06:24:16.489 [XNIO-58 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7f247e01
06:24:16.489 [XNIO-58 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-5', selector sun.nio.ch.EPollSelectorImpl@b149bbc
06:24:16.489 [XNIO-58 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4ab95acc
06:24:16.490 [XNIO-58 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4b5acbf8
06:24:16.490 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.490 [XNIO-58 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 Accept', selector sun.nio.ch.EPollSelectorImpl@5c0d6abc
06:24:16.490 [XNIO-58 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-8', selector sun.nio.ch.EPollSelectorImpl@17ea9c4f
06:24:16.491 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.492 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.492 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.492 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44491
06:24:16.492 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44491
06:24:16.492 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44491
06:24:16.493 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52856&lt;-&gt;127.0.0.1:44491
06:24:16.493 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.493 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.493 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; GET /handling HTTP/1.1
06:24:16.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:44491
06:24:16.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
06:24:16.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:44491[\r][\n]&quot;
06:24:16.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.494 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44491]}, cookies=[:]): &lt;empty&gt; }
06:24:16.494 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:16.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:16.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
06:24:16.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
06:24:16.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
06:24:16.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
06:24:16.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.495 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.495 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52856&lt;-&gt;127.0.0.1:44491
06:24:16.495 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.496 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.496 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.496 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44491
06:24:16.496 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.496 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.496 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.496 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; GET /handling HTTP/1.1
06:24:16.496 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:44491
06:24:16.496 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
06:24:16.496 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.496 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.496 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.496 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:44491[\r][\n]&quot;
06:24:16.496 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.496 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.496 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.496 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.498 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44491]}, cookies=[:]): &lt;empty&gt; }
06:24:16.498 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.499 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.499 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52856&lt;-&gt;127.0.0.1:44491
06:24:16.499 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.500 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@80502e2
06:24:16.506 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1e21d135
06:24:16.509 [XNIO-59 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5b904711
06:24:16.510 [XNIO-59 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3dbe2d91
06:24:16.510 [XNIO-59 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-3', selector sun.nio.ch.EPollSelectorImpl@54af8115
06:24:16.511 [XNIO-59 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-4', selector sun.nio.ch.EPollSelectorImpl@8092397
06:24:16.511 [XNIO-59 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-6', selector sun.nio.ch.EPollSelectorImpl@9cfb559
06:24:16.511 [XNIO-59 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-5', selector sun.nio.ch.EPollSelectorImpl@b1dc46d
06:24:16.511 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.512 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.513 [XNIO-59 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 Accept', selector sun.nio.ch.EPollSelectorImpl@7185a526
06:24:16.513 [XNIO-59 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-7', selector sun.nio.ch.EPollSelectorImpl@47b8e521
06:24:16.513 [XNIO-59 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4a5595ad
06:24:16.514 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.514 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.514 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46645
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46645
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46645
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60162&lt;-&gt;127.0.0.1:46645
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; GET /handling HTTP/1.1
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:46645
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:46645[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.522 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46645]}, cookies=[:]): &lt;empty&gt; }
06:24:16.522 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:16.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.523 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:16.523 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
06:24:16.523 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
06:24:16.523 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
06:24:16.523 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
06:24:16.523 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.523 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.523 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60162&lt;-&gt;127.0.0.1:46645
06:24:16.523 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.524 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.524 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.524 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46645
06:24:16.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; GET /handling HTTP/1.1
06:24:16.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:46645
06:24:16.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
06:24:16.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:46645[\r][\n]&quot;
06:24:16.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.526 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46645]}, cookies=[:]): &lt;empty&gt; }
06:24:16.526 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:16.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:16.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
06:24:16.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
06:24:16.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
06:24:16.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
06:24:16.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.527 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.527 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60162&lt;-&gt;127.0.0.1:46645
06:24:16.527 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.527 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1e21d135
06:24:16.530 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1be41812
06:24:16.532 [XNIO-60 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-1', selector sun.nio.ch.EPollSelectorImpl@d2ba536
06:24:16.533 [XNIO-60 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3d29e407
06:24:16.533 [XNIO-60 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1e95cec7
06:24:16.534 [XNIO-60 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3a0ac0c4
06:24:16.534 [XNIO-60 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-7', selector sun.nio.ch.EPollSelectorImpl@139d80db
06:24:16.532 [XNIO-60 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-2', selector sun.nio.ch.EPollSelectorImpl@162037cc
06:24:16.534 [XNIO-60 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2a55330b
06:24:16.535 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.536 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.534 [XNIO-60 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5fc2a9bc
06:24:16.535 [XNIO-60 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 Accept', selector sun.nio.ch.EPollSelectorImpl@3eea9ee
06:24:16.537 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.537 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.538 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36823
06:24:16.538 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36823
06:24:16.538 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36823
06:24:16.538 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36794&lt;-&gt;127.0.0.1:36823
06:24:16.538 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.538 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.538 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; GET /handling HTTP/1.1
06:24:16.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:36823
06:24:16.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
06:24:16.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:36823[\r][\n]&quot;
06:24:16.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.540 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36823]}, cookies=[:]): &lt;empty&gt; }
06:24:16.540 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:16.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:16.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
06:24:16.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
06:24:16.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
06:24:16.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 27
06:24:16.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.541 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.542 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36794&lt;-&gt;127.0.0.1:36823
06:24:16.542 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.542 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.542 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.542 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36823
06:24:16.542 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.542 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.542 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; GET /handling HTTP/1.1
06:24:16.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:36823
06:24:16.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
06:24:16.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.542 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.542 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:36823[\r][\n]&quot;
06:24:16.542 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.542 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.542 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.542 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.550 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36823]}, cookies=[:]): &lt;empty&gt; }
06:24:16.550 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:16.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:16.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
06:24:16.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
06:24:16.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
06:24:16.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 27
06:24:16.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.551 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.551 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36794&lt;-&gt;127.0.0.1:36823
06:24:16.551 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.551 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1be41812
06:24:16.567 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3dd9302e
06:24:16.574 [XNIO-61 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-1', selector sun.nio.ch.EPollSelectorImpl@553ff1c2
06:24:16.585 [XNIO-61 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-2', selector sun.nio.ch.EPollSelectorImpl@772b2432
06:24:16.586 [XNIO-61 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1c4518af
06:24:16.586 [XNIO-61 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2a04b8da
06:24:16.590 [XNIO-61 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-5', selector sun.nio.ch.EPollSelectorImpl@42a926e1
06:24:16.594 [XNIO-61 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4f85f68d
06:24:16.605 [XNIO-61 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2b219bea
06:24:16.614 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.614 [XNIO-61 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 Accept', selector sun.nio.ch.EPollSelectorImpl@5e181a17
06:24:16.615 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.622 [XNIO-61 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-8', selector sun.nio.ch.EPollSelectorImpl@49799ceb
06:24:16.658 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.658 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.658 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36973
06:24:16.658 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36973
06:24:16.658 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36973
06:24:16.659 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35116&lt;-&gt;127.0.0.1:36973
06:24:16.659 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.659 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.659 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; GET /handling HTTP/1.1
06:24:16.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:36973
06:24:16.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
06:24:16.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:36973[\r][\n]&quot;
06:24:16.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.660 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36973]}, cookies=[:]): &lt;empty&gt; }
06:24:16.663 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
06:24:16.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
06:24:16.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
06:24:16.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/plain
06:24:16.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 27
06:24:16.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.678 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.678 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35116&lt;-&gt;127.0.0.1:36973
06:24:16.678 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.679 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36973
06:24:16.679 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.679 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.679 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; GET /handling HTTP/1.1
06:24:16.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:36973
06:24:16.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
06:24:16.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:36973[\r][\n]&quot;
06:24:16.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.679 [XNIO-61 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36973]}, cookies=[:]): &lt;empty&gt; }
06:24:16.679 [XNIO-61 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
06:24:16.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
06:24:16.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
06:24:16.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/plain
06:24:16.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 27
06:24:16.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.680 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35116&lt;-&gt;127.0.0.1:36973
06:24:16.680 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.680 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3dd9302e
06:24:16.684 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@70d935df
06:24:16.685 [XNIO-62 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6a8dbc55
06:24:16.685 [XNIO-62 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1ef50472
06:24:16.686 [XNIO-62 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-6', selector sun.nio.ch.EPollSelectorImpl@44152de0
06:24:16.685 [XNIO-62 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2e855050
06:24:16.694 [XNIO-62 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2e74ac8c
06:24:16.685 [XNIO-62 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-5', selector sun.nio.ch.EPollSelectorImpl@621d62b7
06:24:16.702 [XNIO-62 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4a09f549
06:24:16.710 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.685 [XNIO-62 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1a99e25b
06:24:16.710 [XNIO-62 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 Accept', selector sun.nio.ch.EPollSelectorImpl@5f524eb1
06:24:16.710 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.712 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.713 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.713 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37335
06:24:16.713 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37335
06:24:16.713 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37335
06:24:16.713 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56974&lt;-&gt;127.0.0.1:37335
06:24:16.713 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.713 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.713 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; GET /handling HTTP/1.1
06:24:16.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:37335
06:24:16.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
06:24:16.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:37335[\r][\n]&quot;
06:24:16.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.714 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37335]}, cookies=[:]): &lt;empty&gt; }
06:24:16.714 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:16.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:16.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
06:24:16.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
06:24:16.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
06:24:16.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
06:24:16.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.715 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.715 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56974&lt;-&gt;127.0.0.1:37335
06:24:16.715 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.715 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.715 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.715 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37335
06:24:16.715 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.715 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.715 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; GET /handling HTTP/1.1
06:24:16.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:37335
06:24:16.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
06:24:16.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:37335[\r][\n]&quot;
06:24:16.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.718 [XNIO-62 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37335]}, cookies=[:]): &lt;empty&gt; }
06:24:16.718 [XNIO-62 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:16.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:16.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
06:24:16.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
06:24:16.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
06:24:16.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
06:24:16.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.719 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.719 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56974&lt;-&gt;127.0.0.1:37335
06:24:16.719 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.719 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@70d935df
06:24:16.750 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@66306c15
06:24:16.755 [XNIO-63 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-1', selector sun.nio.ch.EPollSelectorImpl@571c1751
06:24:16.755 [XNIO-63 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1417eae5
06:24:16.762 [XNIO-63 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-5', selector sun.nio.ch.EPollSelectorImpl@41bda65f
06:24:16.765 [XNIO-63 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-6', selector sun.nio.ch.EPollSelectorImpl@54529204
06:24:16.766 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.766 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-41: Shutdown connection
06:24:16.755 [XNIO-63 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2924a3f3
06:24:16.770 [XNIO-63 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7ec1a2a8
06:24:16.778 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.778 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.779 [XNIO-63 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-7', selector sun.nio.ch.EPollSelectorImpl@15070f6b
06:24:16.780 [XNIO-63 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 Accept', selector sun.nio.ch.EPollSelectorImpl@57f588ca
06:24:16.780 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.780 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.780 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41481
06:24:16.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41481
06:24:16.781 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41481
06:24:16.781 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56536&lt;-&gt;127.0.0.1:41481
06:24:16.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; GET /handling HTTP/1.1
06:24:16.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Host: localhost:41481
06:24:16.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Connection: Keep-Alive
06:24:16.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Host: localhost:41481[\r][\n]&quot;
06:24:16.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.755 [XNIO-63 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-3', selector sun.nio.ch.EPollSelectorImpl@793dbc25
06:24:16.782 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.782 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-40: Shutdown connection
06:24:16.782 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.782 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-39: Shutdown connection
06:24:16.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-61: Shutdown connection
06:24:16.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-60: Shutdown connection
06:24:16.791 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41481]}, cookies=[:]): &lt;empty&gt; }
06:24:16.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-59: Shutdown connection
06:24:16.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-58: Shutdown connection
06:24:16.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-57: Shutdown connection
06:24:16.792 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-44: Shutdown connection
06:24:16.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-43: Shutdown connection
06:24:16.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:16.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:16.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Encoding: gzip
06:24:16.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Connection: keep-alive
06:24:16.794 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Type: text/plain
06:24:16.794 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.794 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Length: 27
06:24:16.794 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.794 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.794 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-42: Shutdown connection
06:24:16.794 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.794 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-47: Shutdown connection
06:24:16.795 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56536&lt;-&gt;127.0.0.1:41481
06:24:16.795 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.795 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-46: Shutdown connection
06:24:16.795 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.795 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-45: Shutdown connection
06:24:16.795 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.795 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-51: Shutdown connection
06:24:16.795 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.795 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.796 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-50: Shutdown connection
06:24:16.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-49: Shutdown connection
06:24:16.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-48: Shutdown connection
06:24:16.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-56: Shutdown connection
06:24:16.797 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-55: Shutdown connection
06:24:16.798 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.798 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41481
06:24:16.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-54: Shutdown connection
06:24:16.798 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.798 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.798 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; GET /handling HTTP/1.1
06:24:16.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Host: localhost:41481
06:24:16.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Connection: Keep-Alive
06:24:16.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Host: localhost:41481[\r][\n]&quot;
06:24:16.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-53: Shutdown connection
06:24:16.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-52: Shutdown connection
06:24:16.806 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41481]}, cookies=[:]): &lt;empty&gt; }
06:24:16.807 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:16.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.807 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:16.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Encoding: gzip
06:24:16.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Connection: keep-alive
06:24:16.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Type: text/plain
06:24:16.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Length: 27
06:24:16.807 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.807 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.808 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56536&lt;-&gt;127.0.0.1:41481
06:24:16.808 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.808 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@66306c15
06:24:16.811 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@74797bf2
06:24:16.818 [XNIO-64 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7f725a14
06:24:16.826 [XNIO-64 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6edce40b
06:24:16.831 [XNIO-64 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-3', selector sun.nio.ch.EPollSelectorImpl@63e97e6d
06:24:16.844 [XNIO-64 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6c84f7b5
06:24:16.846 [XNIO-64 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1a2e9b12
06:24:16.850 [XNIO-64 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-6', selector sun.nio.ch.EPollSelectorImpl@77e8da02
06:24:16.861 [XNIO-64 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-7', selector sun.nio.ch.EPollSelectorImpl@72c6bb94
06:24:16.865 [XNIO-64 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-8', selector sun.nio.ch.EPollSelectorImpl@76cb1128
06:24:16.866 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.866 [XNIO-64 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 Accept', selector sun.nio.ch.EPollSelectorImpl@1ca4166d
06:24:16.866 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.868 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.868 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.868 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33955
06:24:16.868 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33955
06:24:16.868 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33955
06:24:16.868 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48824&lt;-&gt;127.0.0.1:33955
06:24:16.868 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.868 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.868 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; GET /handling HTTP/1.1
06:24:16.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Host: localhost:33955
06:24:16.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Connection: Keep-Alive
06:24:16.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Host: localhost:33955[\r][\n]&quot;
06:24:16.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.878 [XNIO-64 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33955]}, cookies=[:]): &lt;empty&gt; }
06:24:16.879 [XNIO-64 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:16.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:16.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Encoding: gzip
06:24:16.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Connection: keep-alive
06:24:16.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Type: text/plain
06:24:16.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Length: 27
06:24:16.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.880 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48824&lt;-&gt;127.0.0.1:33955
06:24:16.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.881 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.881 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.881 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33955
06:24:16.881 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
06:24:16.881 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.881 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; GET /handling HTTP/1.1
06:24:16.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Host: localhost:33955
06:24:16.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Connection: Keep-Alive
06:24:16.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
06:24:16.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Host: localhost:33955[\r][\n]&quot;
06:24:16.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.882 [XNIO-64 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33955]}, cookies=[:]): &lt;empty&gt; }
06:24:16.882 [XNIO-64 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:16.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:16.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Encoding: gzip
06:24:16.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Connection: keep-alive
06:24:16.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Type: text/plain
06:24:16.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Length: 27
06:24:16.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.885 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.886 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48824&lt;-&gt;127.0.0.1:33955
06:24:16.886 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.886 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@74797bf2
06:24:16.900 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4f6132d0
06:24:16.905 [XNIO-65 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4fc8047e
06:24:16.905 [XNIO-65 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-2', selector sun.nio.ch.EPollSelectorImpl@35a3c3c8
06:24:16.906 [XNIO-65 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-3', selector sun.nio.ch.EPollSelectorImpl@58e92b4e
06:24:16.907 [XNIO-65 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-4', selector sun.nio.ch.EPollSelectorImpl@33772aa1
06:24:16.910 [XNIO-65 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1731fb77
06:24:16.914 [XNIO-65 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-6', selector sun.nio.ch.EPollSelectorImpl@73e1c2d9
06:24:16.918 [XNIO-65 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6f9b7df7
06:24:16.922 [XNIO-65 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7f9aa0c5
06:24:16.922 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.922 [XNIO-65 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 Accept', selector sun.nio.ch.EPollSelectorImpl@39b1af05
06:24:16.922 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.928 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.928 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.928 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41961
06:24:16.928 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41961
06:24:16.928 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41961
06:24:16.928 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38792&lt;-&gt;127.0.0.1:41961
06:24:16.928 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /gzip HTTP/1.1
06:24:16.928 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.928 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; GET /gzip HTTP/1.1
06:24:16.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Accept-Encoding: gzip
06:24:16.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Host: localhost:41961
06:24:16.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Connection: Keep-Alive
06:24:16.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;GET /gzip HTTP/1.1[\r][\n]&quot;
06:24:16.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
06:24:16.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Host: localhost:41961[\r][\n]&quot;
06:24:16.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.934 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41961]}, cookies=[:]): &lt;empty&gt; }
06:24:16.935 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
06:24:16.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
06:24:16.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.935 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
06:24:16.935 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; HTTP/1.1 200 OK
06:24:16.935 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Encoding: gzip
06:24:16.935 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Connection: keep-alive
06:24:16.935 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Type: text/plain
06:24:16.935 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Length: 29
06:24:16.935 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.935 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.939 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38792&lt;-&gt;127.0.0.1:41961
06:24:16.939 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.940 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.940 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.940 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41961
06:24:16.940 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /gzip HTTP/1.1
06:24:16.940 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.940 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; GET /gzip HTTP/1.1
06:24:16.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Accept-Encoding: gzip
06:24:16.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Host: localhost:41961
06:24:16.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Connection: Keep-Alive
06:24:16.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;GET /gzip HTTP/1.1[\r][\n]&quot;
06:24:16.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
06:24:16.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Host: localhost:41961[\r][\n]&quot;
06:24:16.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.947 [XNIO-65 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41961]}, cookies=[:]): &lt;empty&gt; }
06:24:16.948 [XNIO-65 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
06:24:16.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
06:24:16.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.948 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
06:24:16.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; HTTP/1.1 200 OK
06:24:16.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Encoding: gzip
06:24:16.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Connection: keep-alive
06:24:16.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Type: text/plain
06:24:16.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Length: 29
06:24:16.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.949 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38792&lt;-&gt;127.0.0.1:41961
06:24:16.949 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.949 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4f6132d0
06:24:16.958 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3b38ca03
06:24:16.962 [XNIO-66 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5ab5471c
06:24:16.970 [XNIO-66 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-2', selector sun.nio.ch.EPollSelectorImpl@63d6e0c6
06:24:16.983 [XNIO-66 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-3', selector sun.nio.ch.EPollSelectorImpl@392196e3
06:24:16.997 [XNIO-66 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-4', selector sun.nio.ch.EPollSelectorImpl@69c8b66a
06:24:16.998 [XNIO-66 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-7', selector sun.nio.ch.EPollSelectorImpl@556a0353
06:24:17.006 [XNIO-66 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2d4afcc1
06:24:16.997 [XNIO-66 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-5', selector sun.nio.ch.EPollSelectorImpl@fb7b76d
06:24:16.997 [XNIO-66 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2a102c53
06:24:17.008 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.009 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.009 [XNIO-66 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 Accept', selector sun.nio.ch.EPollSelectorImpl@21c99f0
06:24:17.020 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.021 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.021 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44317
06:24:17.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44317
06:24:17.021 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44317
06:24:17.021 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44586&lt;-&gt;127.0.0.1:44317
06:24:17.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /exceptionally HTTP/1.1
06:24:17.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; GET /exceptionally HTTP/1.1
06:24:17.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Host: localhost:44317
06:24:17.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Connection: Keep-Alive
06:24:17.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;GET /exceptionally HTTP/1.1[\r][\n]&quot;
06:24:17.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Host: localhost:44317[\r][\n]&quot;
06:24:17.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.021 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.030 [XNIO-66 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /exceptionally (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44317]}, cookies=[:]): &lt;empty&gt; }
06:24:17.030 [XNIO-66 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.030 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; HTTP/1.1 200 OK
06:24:17.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Encoding: gzip
06:24:17.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Connection: keep-alive
06:24:17.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Type: text/plain
06:24:17.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Length: 27
06:24:17.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.031 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.033 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44586&lt;-&gt;127.0.0.1:44317
06:24:17.033 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.034 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3b38ca03
06:24:17.039 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@25049de3
06:24:17.044 [XNIO-67 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1e03c40c
06:24:17.052 [XNIO-67 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-3', selector sun.nio.ch.EPollSelectorImpl@292f0dde
06:24:17.053 [XNIO-67 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5eaefa48
06:24:17.053 [XNIO-67 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-4', selector sun.nio.ch.EPollSelectorImpl@45abe9e2
06:24:17.053 [XNIO-67 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-5', selector sun.nio.ch.EPollSelectorImpl@49654ce4
06:24:17.053 [XNIO-67 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2933d189
06:24:17.053 [XNIO-67 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4c6f3090
06:24:17.053 [XNIO-67 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-8', selector sun.nio.ch.EPollSelectorImpl@13f8f5e1
06:24:17.053 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.054 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.056 [XNIO-67 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 Accept', selector sun.nio.ch.EPollSelectorImpl@31412e7c
06:24:17.067 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.067 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.067 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39219
06:24:17.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39219
06:24:17.067 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39219
06:24:17.067 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56674&lt;-&gt;127.0.0.1:39219
06:24:17.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /exceptionally HTTP/1.1
06:24:17.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; GET /exceptionally HTTP/1.1
06:24:17.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Host: localhost:39219
06:24:17.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Connection: Keep-Alive
06:24:17.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;GET /exceptionally HTTP/1.1[\r][\n]&quot;
06:24:17.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Host: localhost:39219[\r][\n]&quot;
06:24:17.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.070 [XNIO-67 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /exceptionally (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39219]}, cookies=[:]): &lt;empty&gt; }
06:24:17.070 [XNIO-67 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-66 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; HTTP/1.1 200 OK
06:24:17.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Encoding: gzip
06:24:17.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Connection: keep-alive
06:24:17.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Type: text/plain
06:24:17.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Content-Length: 27
06:24:17.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-66 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.071 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.071 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56674&lt;-&gt;127.0.0.1:39219
06:24:17.071 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.071 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@25049de3
06:24:17.076 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@62dfbce8
06:24:17.077 [XNIO-68 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3ad8c923
06:24:17.078 [XNIO-68 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-3', selector sun.nio.ch.EPollSelectorImpl@48e1c980
06:24:17.086 [XNIO-68 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1874c40e
06:24:17.087 [XNIO-68 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2c1a4452
06:24:17.078 [XNIO-68 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-2', selector sun.nio.ch.EPollSelectorImpl@da4b75
06:24:17.090 [XNIO-68 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-6', selector sun.nio.ch.EPollSelectorImpl@58247e23
06:24:17.090 [XNIO-68 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-7', selector sun.nio.ch.EPollSelectorImpl@266e76cc
06:24:17.090 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.090 [XNIO-68 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 Accept', selector sun.nio.ch.EPollSelectorImpl@552ba604
06:24:17.090 [XNIO-68 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-8', selector sun.nio.ch.EPollSelectorImpl@74b7c3c6
06:24:17.091 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.100 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.100 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.100 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42883
06:24:17.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42883
06:24:17.100 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42883
06:24:17.100 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:46728&lt;-&gt;127.0.0.1:42883
06:24:17.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /exceptionally HTTP/1.1
06:24:17.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; GET /exceptionally HTTP/1.1
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Host: localhost:42883
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Connection: Keep-Alive
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;GET /exceptionally HTTP/1.1[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Host: localhost:42883[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.101 [XNIO-68 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /exceptionally (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42883]}, cookies=[:]): &lt;empty&gt; }
06:24:17.101 [XNIO-68 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-67 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; HTTP/1.1 200 OK
06:24:17.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Encoding: gzip
06:24:17.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Connection: keep-alive
06:24:17.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Type: text/plain
06:24:17.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Content-Length: 27
06:24:17.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-67 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.102 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.102 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46728&lt;-&gt;127.0.0.1:42883
06:24:17.102 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.102 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@62dfbce8
06:24:17.107 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3bc83ccb
06:24:17.109 [XNIO-69 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-1', selector sun.nio.ch.EPollSelectorImpl@41f196f6
06:24:17.109 [XNIO-69 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-3', selector sun.nio.ch.EPollSelectorImpl@fddc221
06:24:17.109 [XNIO-69 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5b208599
06:24:17.109 [XNIO-69 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-4', selector sun.nio.ch.EPollSelectorImpl@122048c5
06:24:17.109 [XNIO-69 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-6', selector sun.nio.ch.EPollSelectorImpl@40e84bfe
06:24:17.109 [XNIO-69 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-5', selector sun.nio.ch.EPollSelectorImpl@48099be
06:24:17.112 [XNIO-69 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 Accept', selector sun.nio.ch.EPollSelectorImpl@4f41f9a2
06:24:17.110 [XNIO-69 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-8', selector sun.nio.ch.EPollSelectorImpl@a45aa21
06:24:17.110 [XNIO-69 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-69 I/O-7', selector sun.nio.ch.EPollSelectorImpl@27203634
06:24:17.112 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.112 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.118 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.119 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.119 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://www.mkdfiwiejglejrligjsldkflwngunwfnkwemfiwefdsf.com:39461
06:24:17.119 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://www.mkdfiwiejglejrligjsldkflwngunwfnkwemfiwefdsf.com:39461
06:24:17.121 [Test worker] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-68: Shutdown connection
06:24:17.121 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection discarded
06:24:17.121 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection [Not bound]
06:24:17.132 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3bc83ccb
06:24:17.141 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@167adbf3
06:24:17.144 [XNIO-70 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1cede0fe
06:24:17.146 [XNIO-70 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-2', selector sun.nio.ch.EPollSelectorImpl@c1b9121
06:24:17.150 [XNIO-70 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3bd65ee6
06:24:17.154 [XNIO-70 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-4', selector sun.nio.ch.EPollSelectorImpl@29dbfe3c
06:24:17.154 [XNIO-70 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4916ec59
06:24:17.156 [XNIO-70 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7146099d
06:24:17.156 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.156 [XNIO-70 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-8', selector sun.nio.ch.EPollSelectorImpl@43faf842
06:24:17.156 [XNIO-70 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 Accept', selector sun.nio.ch.EPollSelectorImpl@490f2eff
06:24:17.156 [XNIO-70 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-70 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5fce14ac
06:24:17.157 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.252 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@27571b5c
06:24:17.258 [XNIO-71 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7e0c8082
06:24:17.262 [XNIO-71 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-2', selector sun.nio.ch.EPollSelectorImpl@28209dc7
06:24:17.274 [XNIO-71 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3408135f
06:24:17.280 [XNIO-71 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-4', selector sun.nio.ch.EPollSelectorImpl@15c13215
06:24:17.281 [XNIO-71 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3983e971
06:24:17.282 [XNIO-71 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-6', selector sun.nio.ch.EPollSelectorImpl@74eeac4f
06:24:17.286 [XNIO-71 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-7', selector sun.nio.ch.EPollSelectorImpl@79b1267e
06:24:17.298 [XNIO-71 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1a72f85e
06:24:17.300 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.301 [XNIO-71 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-71 Accept', selector sun.nio.ch.EPollSelectorImpl@351bdb01
06:24:17.311 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.311 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.311 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46335-&gt;http://localhost:46071
06:24:17.312 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46335-&gt;http://localhost:46071
06:24:17.312 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46335
06:24:17.312 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43998&lt;-&gt;127.0.0.1:46335
06:24:17.312 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET http://localhost:46071/proxied HTTP/1.1
06:24:17.312 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.312 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; GET http://localhost:46071/proxied HTTP/1.1
06:24:17.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Host: localhost:46071
06:24:17.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Proxy-Connection: Keep-Alive
06:24:17.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.312 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.312 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;GET http://localhost:46071/proxied HTTP/1.1[\r][\n]&quot;
06:24:17.312 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Host: localhost:46071[\r][\n]&quot;
06:24:17.312 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Proxy-Connection: Keep-Alive[\r][\n]&quot;
06:24:17.312 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.312 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.312 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.368 [XNIO-71 I/O-8] DEBUG ersatz.undertow.server.handlers.proxy - Sending request ClientRequest{path='/proxied', method=GET, protocol=HTTP/1.1} to target localhost/127.0.0.1:46071 for exchange HttpServerExchange{ GET http://localhost:46071/proxied request {Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46071]} response {}}
06:24:17.378 [XNIO-71 I/O-8] DEBUG ersatz.undertow.server.handlers.proxy - Sent request ClientRequest{path='/proxied', method=GET, protocol=HTTP/1.1} to target 127.0.0.1 for exchange HttpServerExchange{ GET http://localhost:46071/proxied request {Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46071]} response {}}
06:24:17.383 [XNIO-71 I/O-8] DEBUG ersatz.undertow.client.http.HttpClientExchange - request terminated for request to localhost/127.0.0.1:46071 /proxied
06:24:17.386 [XNIO-70 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /proxied (query=[:], headers={Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], X-Forwarded-Server=[localhost], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], X-Forwarded-Proto=[http], X-Forwarded-Port=[46071], X-Forwarded-For=[127.0.0.1], Host=[localhost:46071], X-Forwarded-Host=[localhost]}, cookies=[:]): &lt;empty&gt; }
06:24:17.387 [XNIO-70 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.404 [XNIO-71 I/O-8] DEBUG ersatz.undertow.server.handlers.proxy - Received response ClientResponse{responseHeaders={Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Mon, 20 Nov 2017 12:24:10 GMT]}, responseCode=200, status='OK', protocol=HTTP/1.1} for request ClientRequest{path='/proxied', method=GET, protocol=HTTP/1.1} for exchange HttpServerExchange{ GET http://localhost:46071/proxied request {Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46071]} response {}}
06:24:17.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.406 [XNIO-71 I/O-8] DEBUG ersatz.undertow.client.http.HttpClientExchange - response terminated for request to localhost/127.0.0.1:46071 /proxied
06:24:17.407 [XNIO-71 I/O-8] DEBUG ersatz.undertow.client.http.HttpClientConnection - exchange complete in connection to localhost/127.0.0.1:46071
06:24:17.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-69 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; HTTP/1.1 200 OK
06:24:17.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Encoding: gzip
06:24:17.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Connection: keep-alive
06:24:17.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Type: text/plain
06:24:17.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Content-Length: 27
06:24:17.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-69 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.407 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.407 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43998&lt;-&gt;127.0.0.1:46335
06:24:17.407 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-63: Shutdown connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-62: Shutdown connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-65: Shutdown connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-64: Shutdown connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-67: Shutdown connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:17.539 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-66: Shutdown connection
06:24:17.539 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@27571b5c
06:24:17.540 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@167adbf3
06:24:17.540 [XNIO-71 I/O-8] DEBUG ersatz.undertow.client.http.HttpClientConnection - connection to localhost/127.0.0.1:46071 closed
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.3.1</a> at Nov 20, 2017 6:24:20 AM</p>
</div>
</div>
</body>
</html>
