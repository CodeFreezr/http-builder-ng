<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpPatchSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpPatchSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpPatchSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">58</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">5.380s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP PATCH with BASIC authentication (authorized)</td>
<td>0.262s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP PATCH with BASIC authentication (unauthorized)</td>
<td>0.156s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP PATCH with DIGEST authentication (authorized)</td>
<td>0.158s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP PATCH with DIGEST authentication (unauthorized)</td>
<td>0.137s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with BASIC authentication (authorized)</td>
<td>0.129s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with BASIC authentication (unauthorized)</td>
<td>0.136s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with DIGEST authentication (authorized)</td>
<td>0.202s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with DIGEST authentication (unauthorized)</td>
<td>0.137s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTP</td>
<td>0.070s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTPS</td>
<td>0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">gzip compression supported</td>
<td>0.061s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.072s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTP</td>
<td>0.237s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTPS</td>
<td>0.098s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP application/json [:]</td>
<td>0.100s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP application/xml [one:1]</td>
<td>0.088s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP text/csv [one:1, two:2]</td>
<td>0.137s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP text/html [two:2]</td>
<td>0.083s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP text/plain null</td>
<td>0.323s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS application/json [:]</td>
<td>0.126s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS application/xml [one:1]</td>
<td>0.117s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS text/csv [one:1, two:2]</td>
<td>0.100s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS text/html [two:2]</td>
<td>0.102s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS text/plain null</td>
<td>0.234s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; [:]</td>
<td>0.031s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; [flavor:chocolate-chip, count:dozen]</td>
<td>0.058s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; [flavor:chocolate-chip]</td>
<td>0.116s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; null</td>
<td>0.089s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; [:]</td>
<td>0.065s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; [flavor:oatmeal, count:dozen]</td>
<td>0.051s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; [flavor:peanut-butter]</td>
<td>0.056s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; null</td>
<td>0.074s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [:]</td>
<td>0.051s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:[one, two], bravo:three]</td>
<td>0.042s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:[one, two]]</td>
<td>0.032s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:[one]]</td>
<td>0.065s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:one]</td>
<td>0.063s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; null</td>
<td>0.054s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Consumer): headers -&gt; [:]</td>
<td>0.030s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Consumer): headers -&gt; [hat:fedora]</td>
<td>0.048s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Consumer): headers -&gt; null</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/json)</td>
<td>0.050s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/xml)</td>
<td>0.118s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (text/html)</td>
<td>0.100s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.127s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.043s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.035s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.032s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.069s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.037s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.020s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.027s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.088s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.073s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.069s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.083s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.028s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.070s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>06:24:12.193 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7310d4ec
06:24:12.200 [XNIO-7 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-1', selector sun.nio.ch.EPollSelectorImpl@685bb41f
06:24:12.202 [XNIO-7 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4532292c
06:24:12.202 [XNIO-7 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1d4aa0db
06:24:12.202 [XNIO-7 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1f9a5c4d
06:24:12.203 [XNIO-7 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3199c856
06:24:12.220 [XNIO-7 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4819865
06:24:12.220 [XNIO-7 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-6', selector sun.nio.ch.EPollSelectorImpl@a32bb5b
06:24:12.220 [XNIO-7 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7d9cd044
06:24:12.220 [XNIO-7 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 Accept', selector sun.nio.ch.EPollSelectorImpl@7faab080
06:24:12.220 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.221 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.246 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.246 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.246 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45343
06:24:12.246 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45343
06:24:12.246 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45343
06:24:12.247 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36660&lt;-&gt;127.0.0.1:45343
06:24:12.247 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.247 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.247 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Length: 0
06:24:12.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Host: localhost:45343
06:24:12.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Connection: Keep-Alive
06:24:12.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.247 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Host: localhost:45343[\r][\n]&quot;
06:24:12.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.249 [XNIO-7 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45343]}, cookies=[:]): &lt;empty&gt; }
06:24:12.313 [XNIO-7 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:12.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:12.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:12.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.314 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:12.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; HTTP/1.1 200 OK
06:24:12.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Encoding: gzip
06:24:12.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Connection: keep-alive
06:24:12.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Type: text/plain
06:24:12.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Length: 27
06:24:12.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.315 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.316 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36660&lt;-&gt;127.0.0.1:45343
06:24:12.316 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.327 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.328 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.328 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45343
06:24:12.328 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.328 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.328 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Length: 0
06:24:12.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Host: localhost:45343
06:24:12.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Connection: Keep-Alive
06:24:12.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.329 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Host: localhost:45343[\r][\n]&quot;
06:24:12.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.342 [XNIO-7 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45343]}, cookies=[:]): &lt;empty&gt; }
06:24:12.374 [XNIO-7 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:12.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:12.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:12.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:12.379 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; HTTP/1.1 200 OK
06:24:12.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Encoding: gzip
06:24:12.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Connection: keep-alive
06:24:12.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Type: text/plain
06:24:12.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Length: 27
06:24:12.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.382 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.383 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36660&lt;-&gt;127.0.0.1:45343
06:24:12.383 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.400 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7310d4ec
06:24:12.411 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@35d886b8
06:24:12.414 [XNIO-8 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7d3bb066
06:24:12.426 [XNIO-8 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7cc821a5
06:24:12.414 [XNIO-8 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-1', selector sun.nio.ch.EPollSelectorImpl@51697cb5
06:24:12.427 [XNIO-8 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-4', selector sun.nio.ch.EPollSelectorImpl@67cdcd19
06:24:12.432 [XNIO-8 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-5', selector sun.nio.ch.EPollSelectorImpl@232e2739
06:24:12.435 [XNIO-8 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4fbb0b62
06:24:12.435 [XNIO-8 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-7', selector sun.nio.ch.EPollSelectorImpl@52a9f8cf
06:24:12.436 [XNIO-8 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-8', selector sun.nio.ch.EPollSelectorImpl@16c8c6b5
06:24:12.437 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.437 [XNIO-8 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 Accept', selector sun.nio.ch.EPollSelectorImpl@21ac277d
06:24:12.438 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.453 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.453 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.454 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43021
06:24:12.454 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:43021
06:24:12.454 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43021
06:24:12.454 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:43021 with timeout 0
06:24:12.466 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:12.466 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:12.466 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:12.622 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:12.622 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:12.622 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:12.623 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.624 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.624 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48064&lt;-&gt;127.0.0.1:43021
06:24:12.624 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.624 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.624 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Length: 0
06:24:12.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:43021
06:24:12.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
06:24:12.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:43021[\r][\n]&quot;
06:24:12.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.626 [XNIO-8 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43021]}, cookies=[:]): &lt;empty&gt; }
06:24:12.628 [XNIO-8 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:12.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:12.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:12.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:12.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
06:24:12.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
06:24:12.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
06:24:12.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: text/plain
06:24:12.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 27
06:24:12.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.630 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.630 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48064&lt;-&gt;127.0.0.1:43021
06:24:12.630 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.631 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43021
06:24:12.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Length: 0
06:24:12.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:43021
06:24:12.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
06:24:12.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:43021[\r][\n]&quot;
06:24:12.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.633 [XNIO-8 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43021]}, cookies=[:]): &lt;empty&gt; }
06:24:12.635 [XNIO-8 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:12.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:12.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:12.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.637 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:12.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
06:24:12.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
06:24:12.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
06:24:12.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: text/plain
06:24:12.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 27
06:24:12.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.637 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.637 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48064&lt;-&gt;127.0.0.1:43021
06:24:12.637 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.638 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@35d886b8
06:24:12.659 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7976bc1c
06:24:12.670 [XNIO-9 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-1', selector sun.nio.ch.EPollSelectorImpl@40a030e4
06:24:12.677 [XNIO-9 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2cbd51a3
06:24:12.678 [XNIO-9 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-3', selector sun.nio.ch.EPollSelectorImpl@30d9f378
06:24:12.678 [XNIO-9 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-4', selector sun.nio.ch.EPollSelectorImpl@41cf8193
06:24:12.680 [XNIO-9 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2957d310
06:24:12.702 [XNIO-9 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5938f01b
06:24:12.706 [XNIO-9 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7be3a00d
06:24:12.706 [XNIO-9 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-8', selector sun.nio.ch.EPollSelectorImpl@79573003
06:24:12.707 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.707 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.709 [XNIO-9 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 Accept', selector sun.nio.ch.EPollSelectorImpl@5fe7b39d
06:24:12.710 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.710 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.710 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36153
06:24:12.710 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36153
06:24:12.711 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36153
06:24:12.711 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60478&lt;-&gt;127.0.0.1:36153
06:24:12.711 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.711 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.711 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.711 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.711 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.711 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Length: 2
06:24:12.711 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:36153
06:24:12.711 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
06:24:12.711 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.711 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.711 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.711 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.711 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
06:24:12.711 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:36153[\r][\n]&quot;
06:24:12.711 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.711 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.711 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.711 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.711 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;{}&quot;
06:24:12.716 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36153]}, cookies=[:]): {} }
06:24:12.728 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
06:24:12.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
06:24:12.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
06:24:12.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
06:24:12.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
06:24:12.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
06:24:12.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
06:24:12.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: application/json
06:24:12.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 39
06:24:12.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.729 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.730 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60478&lt;-&gt;127.0.0.1:36153
06:24:12.730 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.732 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.733 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.733 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36153
06:24:12.733 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.733 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.733 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Length: 2
06:24:12.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:36153
06:24:12.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
06:24:12.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
06:24:12.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:36153[\r][\n]&quot;
06:24:12.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;{}&quot;
06:24:12.736 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36153]}, cookies=[:]): {} }
06:24:12.739 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
06:24:12.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
06:24:12.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
06:24:12.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
06:24:12.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
06:24:12.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
06:24:12.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
06:24:12.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: application/json
06:24:12.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 39
06:24:12.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.746 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.747 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60478&lt;-&gt;127.0.0.1:36153
06:24:12.747 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.747 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7976bc1c
06:24:12.757 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4af2e511
06:24:12.760 [XNIO-9 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
06:24:12.768 [XNIO-10 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5a385f59
06:24:12.769 [XNIO-10 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-2', selector sun.nio.ch.EPollSelectorImpl@213772f6
06:24:12.768 [XNIO-10 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2d85df58
06:24:12.769 [XNIO-10 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5d6e7901
06:24:12.769 [XNIO-10 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5d20713
06:24:12.769 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.769 [XNIO-10 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2788588b
06:24:12.769 [XNIO-10 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3d8d1663
06:24:12.769 [XNIO-10 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 Accept', selector sun.nio.ch.EPollSelectorImpl@25747cc7
06:24:12.769 [XNIO-10 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6884f5f8
06:24:12.770 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.776 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.776 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.776 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44029
06:24:12.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:44029
06:24:12.776 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44029
06:24:12.776 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:44029 with timeout 0
06:24:12.777 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:12.787 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:12.787 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:12.840 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:12.840 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:12.840 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:12.841 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.841 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.841 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58166&lt;-&gt;127.0.0.1:44029
06:24:12.841 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.841 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.841 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Length: 2
06:24:12.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:44029
06:24:12.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
06:24:12.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.842 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
06:24:12.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:44029[\r][\n]&quot;
06:24:12.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;{}&quot;
06:24:12.854 [XNIO-10 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44029]}, cookies=[:]): {} }
06:24:12.857 [XNIO-10 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
06:24:12.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
06:24:12.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
06:24:12.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
06:24:12.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
06:24:12.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
06:24:12.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
06:24:12.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: application/json
06:24:12.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 39
06:24:12.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.860 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.860 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58166&lt;-&gt;127.0.0.1:44029
06:24:12.860 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.861 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.862 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.862 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44029
06:24:12.862 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.862 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.862 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Length: 2
06:24:12.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:44029
06:24:12.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
06:24:12.864 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.864 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
06:24:12.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:44029[\r][\n]&quot;
06:24:12.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;{}&quot;
06:24:12.870 [XNIO-10 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44029]}, cookies=[:]): {} }
06:24:12.872 [XNIO-10 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
06:24:12.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
06:24:12.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
06:24:12.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.874 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: application/json
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 39
06:24:12.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.875 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.876 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58166&lt;-&gt;127.0.0.1:44029
06:24:12.876 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.877 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4af2e511
06:24:12.891 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4b279dc3
06:24:12.898 [XNIO-11 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-1', selector sun.nio.ch.EPollSelectorImpl@46d56755
06:24:12.902 [XNIO-11 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-2', selector sun.nio.ch.EPollSelectorImpl@15f62763
06:24:12.906 [XNIO-11 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-3', selector sun.nio.ch.EPollSelectorImpl@66ad829c
06:24:12.907 [XNIO-11 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-5', selector sun.nio.ch.EPollSelectorImpl@745a59a8
06:24:12.908 [XNIO-11 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5531b89e
06:24:12.908 [XNIO-11 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3896a51b
06:24:12.912 [XNIO-11 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-8', selector sun.nio.ch.EPollSelectorImpl@39566eef
06:24:12.916 [XNIO-11 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6ac44a7e
06:24:12.926 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.927 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.926 [XNIO-11 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 Accept', selector sun.nio.ch.EPollSelectorImpl@4d222dcf
06:24:12.929 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.930 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.930 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34103
06:24:12.930 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34103
06:24:12.930 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34103
06:24:12.930 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56516&lt;-&gt;127.0.0.1:34103
06:24:12.930 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.930 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.930 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Length: 11
06:24:12.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:34103
06:24:12.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
06:24:12.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
06:24:12.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:34103[\r][\n]&quot;
06:24:12.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
06:24:12.950 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34103]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
06:24:12.954 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
06:24:12.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
06:24:12.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
06:24:12.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
06:24:12.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: application/xml
06:24:12.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 65
06:24:12.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.955 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.958 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56516&lt;-&gt;127.0.0.1:34103
06:24:12.958 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.959 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.959 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.959 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34103
06:24:12.960 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:12.960 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.960 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:12.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:12.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Length: 11
06:24:12.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:34103
06:24:12.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
06:24:12.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:12.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
06:24:12.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:34103[\r][\n]&quot;
06:24:12.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
06:24:12.961 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34103]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
06:24:12.962 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
06:24:12.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:12.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
06:24:12.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
06:24:12.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:12.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
06:24:12.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
06:24:12.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
06:24:12.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
06:24:12.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: application/xml
06:24:12.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 65
06:24:12.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:12.963 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.966 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56516&lt;-&gt;127.0.0.1:34103
06:24:12.966 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.966 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4b279dc3
06:24:12.973 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@727ad501
06:24:12.986 [XNIO-12 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2e9c92b6
06:24:12.986 [XNIO-12 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2a430cbc
06:24:12.990 [XNIO-12 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-3', selector sun.nio.ch.EPollSelectorImpl@744223f2
06:24:12.997 [XNIO-12 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-4', selector sun.nio.ch.EPollSelectorImpl@134d4173
06:24:12.997 [XNIO-12 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-5', selector sun.nio.ch.EPollSelectorImpl@227ddbc3
06:24:13.002 [XNIO-12 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-7', selector sun.nio.ch.EPollSelectorImpl@15bd77ee
06:24:13.002 [XNIO-12 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7a725508
06:24:13.002 [XNIO-12 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-6', selector sun.nio.ch.EPollSelectorImpl@74669dba
06:24:13.002 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.003 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.004 [XNIO-12 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 Accept', selector sun.nio.ch.EPollSelectorImpl@3d731dd2
06:24:13.006 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.006 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.006 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37111
06:24:13.006 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:37111
06:24:13.006 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37111
06:24:13.006 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:37111 with timeout 0
06:24:13.007 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:13.007 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:13.007 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:13.039 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:13.039 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:13.039 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:13.039 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.039 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.039 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38466&lt;-&gt;127.0.0.1:37111
06:24:13.040 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.041 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.042 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Length: 11
06:24:13.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:37111
06:24:13.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
06:24:13.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
06:24:13.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:37111[\r][\n]&quot;
06:24:13.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
06:24:13.045 [XNIO-12 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37111]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
06:24:13.048 [XNIO-12 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
06:24:13.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
06:24:13.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
06:24:13.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
06:24:13.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
06:24:13.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
06:24:13.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
06:24:13.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: application/xml
06:24:13.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 65
06:24:13.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.054 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.058 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38466&lt;-&gt;127.0.0.1:37111
06:24:13.058 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.059 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.059 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.060 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37111
06:24:13.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Length: 11
06:24:13.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:37111
06:24:13.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
06:24:13.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
06:24:13.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:37111[\r][\n]&quot;
06:24:13.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
06:24:13.067 [XNIO-12 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37111]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
06:24:13.071 [XNIO-12 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
06:24:13.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
06:24:13.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
06:24:13.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
06:24:13.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
06:24:13.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
06:24:13.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
06:24:13.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: application/xml
06:24:13.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 65
06:24:13.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.079 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38466&lt;-&gt;127.0.0.1:37111
06:24:13.079 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.081 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@727ad501
06:24:13.092 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5cf70f1f
06:24:13.102 [XNIO-13 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-1', selector sun.nio.ch.EPollSelectorImpl@64b22e8d
06:24:13.106 [XNIO-13 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-2', selector sun.nio.ch.EPollSelectorImpl@28465e7f
06:24:13.110 [XNIO-13 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2c41e19
06:24:13.110 [XNIO-13 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-4', selector sun.nio.ch.EPollSelectorImpl@646fb78c
06:24:13.111 [XNIO-13 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-5', selector sun.nio.ch.EPollSelectorImpl@78b29087
06:24:13.111 [XNIO-13 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-6', selector sun.nio.ch.EPollSelectorImpl@149dadb7
06:24:13.111 [XNIO-13 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7d6d2edd
06:24:13.111 [XNIO-13 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 Accept', selector sun.nio.ch.EPollSelectorImpl@3160d1c2
06:24:13.111 [XNIO-13 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-7', selector sun.nio.ch.EPollSelectorImpl@18941eb2
06:24:13.111 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.113 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.115 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.115 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.115 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39145
06:24:13.115 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39145
06:24:13.116 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39145
06:24:13.116 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44754&lt;-&gt;127.0.0.1:39145
06:24:13.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Length: 9
06:24:13.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:39145
06:24:13.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
06:24:13.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:39145[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
06:24:13.120 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39145]}, cookies=[:]): {&quot;two&quot;:2} }
06:24:13.122 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
06:24:13.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
06:24:13.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
06:24:13.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
06:24:13.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
06:24:13.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
06:24:13.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
06:24:13.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/html
06:24:13.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 40
06:24:13.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.123 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.127 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44754&lt;-&gt;127.0.0.1:39145
06:24:13.127 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.151 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.152 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.152 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39145
06:24:13.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Length: 9
06:24:13.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:39145
06:24:13.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
06:24:13.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
06:24:13.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:39145[\r][\n]&quot;
06:24:13.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
06:24:13.153 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39145]}, cookies=[:]): {&quot;two&quot;:2} }
06:24:13.155 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
06:24:13.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
06:24:13.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
06:24:13.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
06:24:13.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
06:24:13.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
06:24:13.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
06:24:13.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/html
06:24:13.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 40
06:24:13.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.156 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.167 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44754&lt;-&gt;127.0.0.1:39145
06:24:13.167 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.168 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5cf70f1f
06:24:13.184 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@29c60499
06:24:13.186 [XNIO-14 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-1', selector sun.nio.ch.EPollSelectorImpl@75b248fc
06:24:13.189 [XNIO-14 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3d6945a6
06:24:13.194 [XNIO-14 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1221a682
06:24:13.195 [XNIO-14 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-4', selector sun.nio.ch.EPollSelectorImpl@18087403
06:24:13.199 [XNIO-14 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-5', selector sun.nio.ch.EPollSelectorImpl@429a1dbb
06:24:13.202 [XNIO-14 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1fb94398
06:24:13.207 [XNIO-14 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-7', selector sun.nio.ch.EPollSelectorImpl@461dad27
06:24:13.212 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.212 [XNIO-14 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 Accept', selector sun.nio.ch.EPollSelectorImpl@106008da
06:24:13.214 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.215 [XNIO-14 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1f2975b8
06:24:13.217 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.217 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.217 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41571
06:24:13.217 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:41571
06:24:13.217 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41571
06:24:13.217 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:41571 with timeout 0
06:24:13.218 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:13.218 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:13.218 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:13.253 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:13.253 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:13.253 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:13.253 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.253 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.253 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34584&lt;-&gt;127.0.0.1:41571
06:24:13.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Length: 9
06:24:13.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:41571
06:24:13.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
06:24:13.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
06:24:13.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:41571[\r][\n]&quot;
06:24:13.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
06:24:13.254 [XNIO-14 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41571]}, cookies=[:]): {&quot;two&quot;:2} }
06:24:13.256 [XNIO-14 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
06:24:13.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
06:24:13.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
06:24:13.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.257 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
06:24:13.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
06:24:13.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
06:24:13.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
06:24:13.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/html
06:24:13.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 40
06:24:13.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.257 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.258 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34584&lt;-&gt;127.0.0.1:41571
06:24:13.258 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.259 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.259 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.259 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41571
06:24:13.260 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.260 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.260 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.260 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.260 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.260 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Length: 9
06:24:13.260 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:41571
06:24:13.260 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
06:24:13.260 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.260 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
06:24:13.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:41571[\r][\n]&quot;
06:24:13.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.260 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
06:24:13.262 [XNIO-14 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41571]}, cookies=[:]): {&quot;two&quot;:2} }
06:24:13.266 [XNIO-14 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
06:24:13.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
06:24:13.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
06:24:13.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
06:24:13.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
06:24:13.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
06:24:13.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
06:24:13.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/html
06:24:13.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 40
06:24:13.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.268 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.269 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34584&lt;-&gt;127.0.0.1:41571
06:24:13.269 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.269 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@29c60499
06:24:13.300 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7e995810
06:24:13.320 [XNIO-15 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-2', selector sun.nio.ch.EPollSelectorImpl@54339bbd
06:24:13.320 [XNIO-15 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-3', selector sun.nio.ch.EPollSelectorImpl@72e2fca2
06:24:13.321 [XNIO-15 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2974b4fd
06:24:13.356 [XNIO-15 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-1', selector sun.nio.ch.EPollSelectorImpl@95a813c
06:24:13.356 [XNIO-15 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7fc0dc54
06:24:13.356 [XNIO-15 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-5', selector sun.nio.ch.EPollSelectorImpl@61158560
06:24:13.356 [XNIO-15 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-6', selector sun.nio.ch.EPollSelectorImpl@36433e78
06:24:13.374 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.374 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-3: Shutdown connection
06:24:13.374 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.374 [XNIO-15 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3585d63a
06:24:13.375 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.378 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.378 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection
06:24:13.379 [XNIO-15 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 Accept', selector sun.nio.ch.EPollSelectorImpl@7d7924a3
06:24:13.382 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.382 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.382 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36019
06:24:13.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36019
06:24:13.383 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36019
06:24:13.383 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37122&lt;-&gt;127.0.0.1:36019
06:24:13.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Length: 19
06:24:13.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:36019
06:24:13.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
06:24:13.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
06:24:13.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:36019[\r][\n]&quot;
06:24:13.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
06:24:13.391 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36019]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
06:24:13.392 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.392 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-11: Shutdown connection
06:24:13.393 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.393 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-10: Shutdown connection
06:24:13.397 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.397 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-9: Shutdown connection
06:24:13.398 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.398 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-8: Shutdown connection
06:24:13.399 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.399 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5: Shutdown connection
06:24:13.399 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.399 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-4: Shutdown connection
06:24:13.400 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.400 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-7: Shutdown connection
06:24:13.400 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.400 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-6: Shutdown connection
06:24:13.400 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
06:24:13.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
06:24:13.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
06:24:13.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
06:24:13.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
06:24:13.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
06:24:13.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
06:24:13.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/csv
06:24:13.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 53
06:24:13.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.401 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.411 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37122&lt;-&gt;127.0.0.1:36019
06:24:13.412 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.413 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.413 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.413 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36019
06:24:13.413 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.413 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.413 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.413 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.413 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.413 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Length: 19
06:24:13.413 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:36019
06:24:13.413 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
06:24:13.413 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.413 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.413 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.413 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.413 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
06:24:13.413 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:36019[\r][\n]&quot;
06:24:13.413 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.413 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.413 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.413 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.413 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
06:24:13.414 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36019]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
06:24:13.418 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
06:24:13.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
06:24:13.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
06:24:13.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
06:24:13.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
06:24:13.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
06:24:13.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
06:24:13.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/csv
06:24:13.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 53
06:24:13.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.420 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37122&lt;-&gt;127.0.0.1:36019
06:24:13.420 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.420 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7e995810
06:24:13.440 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@38918f52
06:24:13.448 [XNIO-16 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-1', selector sun.nio.ch.EPollSelectorImpl@45337a0
06:24:13.450 [XNIO-16 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2b6f2fa5
06:24:13.458 [XNIO-16 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3a632f47
06:24:13.459 [XNIO-16 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-4', selector sun.nio.ch.EPollSelectorImpl@c693866
06:24:13.468 [XNIO-16 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-5', selector sun.nio.ch.EPollSelectorImpl@e41ae5
06:24:13.468 [XNIO-16 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5ca098f7
06:24:13.469 [XNIO-16 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-7', selector sun.nio.ch.EPollSelectorImpl@70261d4
06:24:13.469 [XNIO-16 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-8', selector sun.nio.ch.EPollSelectorImpl@129108d4
06:24:13.469 [XNIO-16 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 Accept', selector sun.nio.ch.EPollSelectorImpl@58fafc25
06:24:13.469 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.470 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.473 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.474 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.474 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46583
06:24:13.475 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:46583
06:24:13.475 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46583
06:24:13.475 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:46583 with timeout 0
06:24:13.475 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:13.475 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:13.475 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:13.524 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:13.524 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:13.524 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:13.524 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.524 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:13.524 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48730&lt;-&gt;127.0.0.1:46583
06:24:13.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.524 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Length: 19
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:46583
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.524 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
06:24:13.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:46583[\r][\n]&quot;
06:24:13.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.524 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
06:24:13.525 [XNIO-16 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46583]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
06:24:13.526 [XNIO-16 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
06:24:13.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
06:24:13.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
06:24:13.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
06:24:13.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
06:24:13.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
06:24:13.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
06:24:13.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/csv
06:24:13.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 53
06:24:13.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.527 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.527 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48730&lt;-&gt;127.0.0.1:46583
06:24:13.527 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.528 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.528 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.528 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46583
06:24:13.528 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
06:24:13.528 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.528 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; PATCH /alpha HTTP/1.1
06:24:13.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Length: 19
06:24:13.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:46583
06:24:13.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
06:24:13.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:46583[\r][\n]&quot;
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
06:24:13.529 [XNIO-16 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46583]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
06:24:13.532 [XNIO-16 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
06:24:13.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
06:24:13.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
06:24:13.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
06:24:13.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
06:24:13.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
06:24:13.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
06:24:13.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/csv
06:24:13.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 53
06:24:13.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.533 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.533 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48730&lt;-&gt;127.0.0.1:46583
06:24:13.533 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.534 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@38918f52
06:24:13.558 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@40b6c0cc
06:24:13.560 [XNIO-17 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-1', selector sun.nio.ch.EPollSelectorImpl@47bff23a
06:24:13.564 [XNIO-17 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4bf319c0
06:24:13.560 [XNIO-17 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36f35124
06:24:13.564 [XNIO-17 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-4', selector sun.nio.ch.EPollSelectorImpl@67d1a8de
06:24:13.564 [XNIO-17 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5c226517
06:24:13.564 [XNIO-17 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-7', selector sun.nio.ch.EPollSelectorImpl@ab2af4a
06:24:13.565 [XNIO-17 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6a547d0c
06:24:13.565 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.566 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.566 [XNIO-17 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 Accept', selector sun.nio.ch.EPollSelectorImpl@43529060
06:24:13.564 [XNIO-17 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-5', selector sun.nio.ch.EPollSelectorImpl@57cdbf8
06:24:13.575 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.576 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.576 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36267
06:24:13.576 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36267
06:24:13.576 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36267
06:24:13.577 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34548&lt;-&gt;127.0.0.1:36267
06:24:13.577 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
06:24:13.577 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.577 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; PATCH /bravo HTTP/1.1
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Length: 30
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:36267
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:36267[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.584 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36267]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.585 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.586 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.586 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.586 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.586 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
06:24:13.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
06:24:13.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
06:24:13.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/plain
06:24:13.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 27
06:24:13.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.587 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.588 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34548&lt;-&gt;127.0.0.1:36267
06:24:13.588 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.589 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.590 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.590 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36267
06:24:13.590 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
06:24:13.590 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.590 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; PATCH /bravo HTTP/1.1
06:24:13.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Length: 30
06:24:13.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:36267
06:24:13.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
06:24:13.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.590 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
06:24:13.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:36267[\r][\n]&quot;
06:24:13.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.591 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.593 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36267]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.594 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
06:24:13.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
06:24:13.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
06:24:13.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/plain
06:24:13.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 27
06:24:13.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.595 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.595 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34548&lt;-&gt;127.0.0.1:36267
06:24:13.595 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.596 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@40b6c0cc
06:24:13.605 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@32f9c2d5
06:24:13.610 [XNIO-18 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-1', selector sun.nio.ch.EPollSelectorImpl@17ec5175
06:24:13.613 [XNIO-18 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-2', selector sun.nio.ch.EPollSelectorImpl@71744145
06:24:13.618 [XNIO-18 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-3', selector sun.nio.ch.EPollSelectorImpl@443eac87
06:24:13.622 [XNIO-18 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-6', selector sun.nio.ch.EPollSelectorImpl@bf52b9e
06:24:13.622 [XNIO-18 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3d426689
06:24:13.618 [XNIO-18 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5e691494
06:24:13.622 [XNIO-18 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-5', selector sun.nio.ch.EPollSelectorImpl@50bde185
06:24:13.625 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.625 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.625 [XNIO-18 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3eee35b7
06:24:13.625 [XNIO-18 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 Accept', selector sun.nio.ch.EPollSelectorImpl@572b3824
06:24:13.628 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.628 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.628 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46817
06:24:13.628 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46817
06:24:13.628 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46817
06:24:13.629 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57990&lt;-&gt;127.0.0.1:46817
06:24:13.629 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
06:24:13.629 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.629 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; PATCH /bravo HTTP/1.1
06:24:13.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Length: 30
06:24:13.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:46817
06:24:13.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
06:24:13.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.630 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
06:24:13.630 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.630 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.630 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:46817[\r][\n]&quot;
06:24:13.630 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.630 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.630 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.630 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.630 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.638 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46817]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.639 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
06:24:13.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
06:24:13.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
06:24:13.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
06:24:13.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
06:24:13.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.640 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.641 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57990&lt;-&gt;127.0.0.1:46817
06:24:13.641 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.641 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.642 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.642 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46817
06:24:13.642 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
06:24:13.642 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.642 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; PATCH /bravo HTTP/1.1
06:24:13.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Length: 30
06:24:13.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:46817
06:24:13.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
06:24:13.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
06:24:13.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:46817[\r][\n]&quot;
06:24:13.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.643 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46817]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.644 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
06:24:13.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
06:24:13.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
06:24:13.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
06:24:13.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
06:24:13.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.646 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.647 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57990&lt;-&gt;127.0.0.1:46817
06:24:13.647 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.647 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@32f9c2d5
06:24:13.659 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5d23321e
06:24:13.661 [XNIO-19 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-1', selector sun.nio.ch.EPollSelectorImpl@529b77a
06:24:13.662 [XNIO-19 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-2', selector sun.nio.ch.EPollSelectorImpl@14995d79
06:24:13.665 [XNIO-19 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7a807152
06:24:13.665 [XNIO-19 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3d29091b
06:24:13.666 [XNIO-19 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5aa32135
06:24:13.666 [XNIO-19 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3b4b8b5f
06:24:13.666 [XNIO-19 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-8', selector sun.nio.ch.EPollSelectorImpl@393c25e3
06:24:13.666 [XNIO-19 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-7', selector sun.nio.ch.EPollSelectorImpl@61b2d273
06:24:13.666 [XNIO-19 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 Accept', selector sun.nio.ch.EPollSelectorImpl@1fc35676
06:24:13.666 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.667 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.676 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.676 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.676 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38787
06:24:13.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38787
06:24:13.677 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38787
06:24:13.677 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35840&lt;-&gt;127.0.0.1:38787
06:24:13.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
06:24:13.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
06:24:13.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Length: 30
06:24:13.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:38787
06:24:13.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
06:24:13.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:13.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:38787[\r][\n]&quot;
06:24:13.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.680 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38787]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.708 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
06:24:13.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
06:24:13.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
06:24:13.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
06:24:13.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
06:24:13.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.709 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.709 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35840&lt;-&gt;127.0.0.1:38787
06:24:13.709 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.710 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.710 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.710 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38787
06:24:13.710 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
06:24:13.710 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.710 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
06:24:13.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Length: 30
06:24:13.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:38787
06:24:13.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
06:24:13.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:13.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:38787[\r][\n]&quot;
06:24:13.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.711 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38787]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.712 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.712 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
06:24:13.712 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
06:24:13.712 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
06:24:13.712 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
06:24:13.712 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
06:24:13.712 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.712 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.713 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35840&lt;-&gt;127.0.0.1:38787
06:24:13.713 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.713 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5d23321e
06:24:13.734 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3a17b2ba
06:24:13.736 [XNIO-20 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-1', selector sun.nio.ch.EPollSelectorImpl@442e8d1d
06:24:13.736 [XNIO-20 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2bad21ea
06:24:13.736 [XNIO-20 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4182952
06:24:13.738 [XNIO-20 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6ecf8acb
06:24:13.738 [XNIO-20 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-5', selector sun.nio.ch.EPollSelectorImpl@265ef746
06:24:13.738 [XNIO-20 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-6', selector sun.nio.ch.EPollSelectorImpl@35523305
06:24:13.739 [XNIO-20 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-8', selector sun.nio.ch.EPollSelectorImpl@779377be
06:24:13.739 [XNIO-20 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 Accept', selector sun.nio.ch.EPollSelectorImpl@78054743
06:24:13.739 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.740 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.739 [XNIO-20 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1721a594
06:24:13.745 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.745 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.745 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38209
06:24:13.745 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38209
06:24:13.746 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38209
06:24:13.746 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39372&lt;-&gt;127.0.0.1:38209
06:24:13.746 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
06:24:13.746 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.746 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Length: 30
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:38209
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:38209[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.747 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38209]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.755 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
06:24:13.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
06:24:13.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
06:24:13.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
06:24:13.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
06:24:13.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.756 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.756 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39372&lt;-&gt;127.0.0.1:38209
06:24:13.756 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.757 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.757 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.757 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38209
06:24:13.757 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
06:24:13.757 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.757 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
06:24:13.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Length: 30
06:24:13.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:38209
06:24:13.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
06:24:13.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:13.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:38209[\r][\n]&quot;
06:24:13.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.776 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38209]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.778 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.779 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
06:24:13.779 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
06:24:13.779 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
06:24:13.779 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
06:24:13.779 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
06:24:13.779 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.779 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.780 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39372&lt;-&gt;127.0.0.1:38209
06:24:13.780 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.780 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3a17b2ba
06:24:13.786 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@417640ae
06:24:13.788 [XNIO-21 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6497b504
06:24:13.788 [XNIO-21 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36495b9c
06:24:13.798 [XNIO-21 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7decc5e4
06:24:13.798 [XNIO-21 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7b53601d
06:24:13.799 [XNIO-21 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5c43ab0f
06:24:13.800 [XNIO-21 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-6', selector sun.nio.ch.EPollSelectorImpl@784f2a08
06:24:13.788 [XNIO-21 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-1', selector sun.nio.ch.EPollSelectorImpl@798fa3a
06:24:13.800 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.800 [XNIO-21 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-8', selector sun.nio.ch.EPollSelectorImpl@250cb0a6
06:24:13.800 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.800 [XNIO-21 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 Accept', selector sun.nio.ch.EPollSelectorImpl@3fe000e7
06:24:13.803 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.804 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.804 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37811
06:24:13.804 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37811
06:24:13.804 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37811
06:24:13.804 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34044&lt;-&gt;127.0.0.1:37811
06:24:13.804 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.804 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.804 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Length: 30
06:24:13.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:37811
06:24:13.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
06:24:13.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
06:24:13.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:37811[\r][\n]&quot;
06:24:13.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.807 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37811]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.808 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.809 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
06:24:13.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
06:24:13.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
06:24:13.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
06:24:13.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
06:24:13.809 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.809 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.810 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34044&lt;-&gt;127.0.0.1:37811
06:24:13.810 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.811 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.811 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.811 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37811
06:24:13.811 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.811 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.811 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Length: 30
06:24:13.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:37811
06:24:13.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
06:24:13.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
06:24:13.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:37811[\r][\n]&quot;
06:24:13.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.812 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37811]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.813 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
06:24:13.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
06:24:13.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
06:24:13.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
06:24:13.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
06:24:13.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.814 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.815 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34044&lt;-&gt;127.0.0.1:37811
06:24:13.815 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.815 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@417640ae
06:24:13.823 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@30c3d838
06:24:13.827 [XNIO-22 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6235aaf5
06:24:13.828 [XNIO-22 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-3', selector sun.nio.ch.EPollSelectorImpl@34661a4a
06:24:13.828 [XNIO-22 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-5', selector sun.nio.ch.EPollSelectorImpl@68aa4234
06:24:13.828 [XNIO-22 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-6', selector sun.nio.ch.EPollSelectorImpl@778d5b64
06:24:13.828 [XNIO-22 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-4', selector sun.nio.ch.EPollSelectorImpl@51eabd16
06:24:13.828 [XNIO-22 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-2', selector sun.nio.ch.EPollSelectorImpl@24279a19
06:24:13.829 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.829 [XNIO-22 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 Accept', selector sun.nio.ch.EPollSelectorImpl@60b6dfe8
06:24:13.829 [XNIO-22 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-7', selector sun.nio.ch.EPollSelectorImpl@63ca5d90
06:24:13.829 [XNIO-22 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5f1d5ea3
06:24:13.829 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.834 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.834 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.834 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41623
06:24:13.834 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41623
06:24:13.834 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41623
06:24:13.834 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34866&lt;-&gt;127.0.0.1:41623
06:24:13.834 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.835 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.835 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Length: 30
06:24:13.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:41623
06:24:13.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
06:24:13.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
06:24:13.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:41623[\r][\n]&quot;
06:24:13.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.836 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41623]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.837 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
06:24:13.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
06:24:13.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
06:24:13.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/plain
06:24:13.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 27
06:24:13.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.838 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.839 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34866&lt;-&gt;127.0.0.1:41623
06:24:13.839 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.840 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.840 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.840 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41623
06:24:13.840 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.840 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.840 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.840 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.840 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.840 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Length: 30
06:24:13.840 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:41623
06:24:13.840 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
06:24:13.840 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.840 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
06:24:13.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:41623[\r][\n]&quot;
06:24:13.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.851 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41623]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.853 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
06:24:13.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
06:24:13.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
06:24:13.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/plain
06:24:13.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 27
06:24:13.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.854 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34866&lt;-&gt;127.0.0.1:41623
06:24:13.854 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.855 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@30c3d838
06:24:13.860 [XNIO-22 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
06:24:13.875 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7222f6ef
06:24:13.878 [XNIO-23 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-1', selector sun.nio.ch.EPollSelectorImpl@ac8f8ad
06:24:13.878 [XNIO-23 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-2', selector sun.nio.ch.EPollSelectorImpl@277ee207
06:24:13.878 [XNIO-23 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2795d46f
06:24:13.880 [XNIO-23 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-4', selector sun.nio.ch.EPollSelectorImpl@38ad6c3b
06:24:13.880 [XNIO-23 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-6', selector sun.nio.ch.EPollSelectorImpl@53ae152d
06:24:13.886 [XNIO-23 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5cb799e7
06:24:13.888 [XNIO-23 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5cc3f72b
06:24:13.902 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.902 [XNIO-23 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-8', selector sun.nio.ch.EPollSelectorImpl@148a8bb4
06:24:13.902 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.904 [XNIO-23 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 Accept', selector sun.nio.ch.EPollSelectorImpl@48a33193
06:24:13.912 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.913 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.913 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43913
06:24:13.913 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43913
06:24:13.913 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43913
06:24:13.913 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35064&lt;-&gt;127.0.0.1:43913
06:24:13.913 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
06:24:13.913 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.913 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; PATCH /charlie HTTP/1.1
06:24:13.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Length: 30
06:24:13.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:43913
06:24:13.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
06:24:13.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:43913[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.918 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43913]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.919 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
06:24:13.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
06:24:13.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
06:24:13.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
06:24:13.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
06:24:13.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.920 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.920 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35064&lt;-&gt;127.0.0.1:43913
06:24:13.920 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.921 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.922 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.922 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43913
06:24:13.922 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
06:24:13.922 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.922 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; PATCH /charlie HTTP/1.1
06:24:13.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Length: 30
06:24:13.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:43913
06:24:13.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
06:24:13.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.922 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:43913[\r][\n]&quot;
06:24:13.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.922 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.923 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43913]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.924 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
06:24:13.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
06:24:13.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
06:24:13.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
06:24:13.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
06:24:13.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.926 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.926 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35064&lt;-&gt;127.0.0.1:43913
06:24:13.926 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.926 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7222f6ef
06:24:13.932 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@516f1c73
06:24:13.935 [XNIO-24 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4737a1c0
06:24:13.938 [XNIO-24 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-2', selector sun.nio.ch.EPollSelectorImpl@754935da
06:24:13.940 [XNIO-24 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-3', selector sun.nio.ch.EPollSelectorImpl@58c20f01
06:24:13.941 [XNIO-24 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-5', selector sun.nio.ch.EPollSelectorImpl@31c23621
06:24:13.941 [XNIO-24 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-7', selector sun.nio.ch.EPollSelectorImpl@148a177f
06:24:13.940 [XNIO-24 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2eb88966
06:24:13.941 [XNIO-24 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5a1a1819
06:24:13.942 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.943 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.944 [XNIO-24 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2da8d5f7
06:24:13.944 [XNIO-24 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 Accept', selector sun.nio.ch.EPollSelectorImpl@ce1129a
06:24:13.945 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.945 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.945 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34271
06:24:13.946 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34271
06:24:13.946 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34271
06:24:13.946 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55234&lt;-&gt;127.0.0.1:34271
06:24:13.946 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
06:24:13.946 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.946 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; PATCH /charlie HTTP/1.1
06:24:13.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Length: 30
06:24:13.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:34271
06:24:13.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
06:24:13.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:34271[\r][\n]&quot;
06:24:13.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.951 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34271]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.952 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.952 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
06:24:13.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
06:24:13.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
06:24:13.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
06:24:13.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
06:24:13.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.953 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55234&lt;-&gt;127.0.0.1:34271
06:24:13.953 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.953 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.954 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.954 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34271
06:24:13.954 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
06:24:13.954 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.954 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; PATCH /charlie HTTP/1.1
06:24:13.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Length: 30
06:24:13.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:34271
06:24:13.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
06:24:13.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:34271[\r][\n]&quot;
06:24:13.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.954 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.954 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34271]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.956 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.957 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
06:24:13.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
06:24:13.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
06:24:13.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
06:24:13.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
06:24:13.957 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.957 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.958 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55234&lt;-&gt;127.0.0.1:34271
06:24:13.958 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.958 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@516f1c73
06:24:13.965 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@440adf4
06:24:13.967 [XNIO-25 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7cc1e9e1
06:24:13.968 [XNIO-25 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3381b9c8
06:24:13.967 [XNIO-25 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6387cd58
06:24:13.969 [XNIO-25 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-4', selector sun.nio.ch.EPollSelectorImpl@146e8483
06:24:13.969 [XNIO-25 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-5', selector sun.nio.ch.EPollSelectorImpl@34a5e7a3
06:24:13.970 [XNIO-25 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4724d4f5
06:24:13.970 [XNIO-25 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4a557463
06:24:13.970 [XNIO-25 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-8', selector sun.nio.ch.EPollSelectorImpl@8ce1de1
06:24:13.976 [XNIO-25 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 Accept', selector sun.nio.ch.EPollSelectorImpl@d954013
06:24:13.976 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.978 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.987 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.987 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.987 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37899
06:24:13.987 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37899
06:24:13.987 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37899
06:24:13.988 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59256&lt;-&gt;127.0.0.1:37899
06:24:13.988 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
06:24:13.988 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.988 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; PATCH /charlie HTTP/1.1
06:24:13.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:13.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; hat: fedora
06:24:13.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Length: 30
06:24:13.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:37899
06:24:13.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
06:24:13.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:37899[\r][\n]&quot;
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:13.994 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:37899]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:13.998 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:13.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:13.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:13.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:13.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:13.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:13.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
06:24:13.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
06:24:13.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
06:24:13.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
06:24:13.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
06:24:13.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:13.999 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.000 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59256&lt;-&gt;127.0.0.1:37899
06:24:14.000 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.001 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.001 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.001 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37899
06:24:14.001 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
06:24:14.001 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.001 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; PATCH /charlie HTTP/1.1
06:24:14.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; hat: fedora
06:24:14.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Length: 30
06:24:14.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:37899
06:24:14.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
06:24:14.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:37899[\r][\n]&quot;
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.002 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:37899]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.003 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
06:24:14.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
06:24:14.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
06:24:14.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
06:24:14.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
06:24:14.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.004 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.004 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59256&lt;-&gt;127.0.0.1:37899
06:24:14.004 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.005 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@440adf4
06:24:14.034 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@77328931
06:24:14.038 [XNIO-26 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-1', selector sun.nio.ch.EPollSelectorImpl@144f180e
06:24:14.039 [XNIO-26 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-2', selector sun.nio.ch.EPollSelectorImpl@71a960c6
06:24:14.039 [XNIO-26 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-3', selector sun.nio.ch.EPollSelectorImpl@16bc844d
06:24:14.039 [XNIO-26 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7304fe8a
06:24:14.039 [XNIO-26 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-5', selector sun.nio.ch.EPollSelectorImpl@524646df
06:24:14.039 [XNIO-26 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4eeeded9
06:24:14.042 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.042 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.051 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.051 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.051 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45481
06:24:14.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45481
06:24:14.051 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45481
06:24:14.051 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44214&lt;-&gt;127.0.0.1:45481
06:24:14.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Length: 30
06:24:14.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:45481
06:24:14.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
06:24:14.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.052 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:45481[\r][\n]&quot;
06:24:14.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.052 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.039 [XNIO-26 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1b882c32
06:24:14.039 [XNIO-26 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7cf824c5
06:24:14.042 [XNIO-26 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 Accept', selector sun.nio.ch.EPollSelectorImpl@1869225c
06:24:14.059 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45481]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.064 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.064 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
06:24:14.064 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
06:24:14.064 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
06:24:14.064 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/date
06:24:14.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 36
06:24:14.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.071 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44214&lt;-&gt;127.0.0.1:45481
06:24:14.072 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.093 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.093 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.093 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45481
06:24:14.093 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.093 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.093 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.093 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.093 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.093 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Length: 30
06:24:14.093 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:45481
06:24:14.093 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
06:24:14.093 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.093 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:45481[\r][\n]&quot;
06:24:14.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.094 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45481]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.096 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/date
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 36
06:24:14.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44214&lt;-&gt;127.0.0.1:45481
06:24:14.097 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.098 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@77328931
06:24:14.107 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7e9ed356
06:24:14.109 [XNIO-27 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-1', selector sun.nio.ch.EPollSelectorImpl@365594f9
06:24:14.109 [XNIO-27 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-2', selector sun.nio.ch.EPollSelectorImpl@21ce0fc2
06:24:14.110 [XNIO-27 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7642c708
06:24:14.111 [XNIO-27 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-5', selector sun.nio.ch.EPollSelectorImpl@554f595d
06:24:14.112 [XNIO-27 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4890af10
06:24:14.111 [XNIO-27 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-6', selector sun.nio.ch.EPollSelectorImpl@259a3afa
06:24:14.113 [XNIO-27 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7d928713
06:24:14.113 [XNIO-27 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-7', selector sun.nio.ch.EPollSelectorImpl@66d62ef9
06:24:14.114 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.114 [XNIO-27 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 Accept', selector sun.nio.ch.EPollSelectorImpl@404c1ab3
06:24:14.115 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.117 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.117 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.117 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40355
06:24:14.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40355
06:24:14.117 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40355
06:24:14.118 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56318&lt;-&gt;127.0.0.1:40355
06:24:14.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Length: 30
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:40355
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:40355[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.119 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40355]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.120 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/date
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 36
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.121 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.121 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56318&lt;-&gt;127.0.0.1:40355
06:24:14.121 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.122 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.122 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.122 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40355
06:24:14.122 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.122 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.122 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Length: 30
06:24:14.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:40355
06:24:14.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
06:24:14.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:40355[\r][\n]&quot;
06:24:14.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.124 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40355]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.125 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.125 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.125 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
06:24:14.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
06:24:14.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
06:24:14.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/date
06:24:14.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 36
06:24:14.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.127 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.128 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56318&lt;-&gt;127.0.0.1:40355
06:24:14.128 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.129 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7e9ed356
06:24:14.154 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@50b1f798
06:24:14.168 [XNIO-28 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4ca56704
06:24:14.168 [XNIO-28 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3454a7d5
06:24:14.169 [XNIO-28 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-3', selector sun.nio.ch.EPollSelectorImpl@382435aa
06:24:14.169 [XNIO-28 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-5', selector sun.nio.ch.EPollSelectorImpl@396b18d8
06:24:14.170 [XNIO-28 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-7', selector sun.nio.ch.EPollSelectorImpl@78ccae2d
06:24:14.170 [XNIO-28 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 Accept', selector sun.nio.ch.EPollSelectorImpl@6b52ae69
06:24:14.169 [XNIO-28 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4e26a26d
06:24:14.170 [XNIO-28 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-8', selector sun.nio.ch.EPollSelectorImpl@91b822f
06:24:14.170 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.170 [XNIO-28 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-6', selector sun.nio.ch.EPollSelectorImpl@96c6a65
06:24:14.171 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.182 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.182 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.182 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36949
06:24:14.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36949
06:24:14.182 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36949
06:24:14.182 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55194&lt;-&gt;127.0.0.1:36949
06:24:14.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Cookie: flavor=chocolate-chip
06:24:14.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Length: 30
06:24:14.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:36949
06:24:14.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
06:24:14.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
06:24:14.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:36949[\r][\n]&quot;
06:24:14.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.186 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36949]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@6ff9cad6]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.204 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
06:24:14.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
06:24:14.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
06:24:14.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
06:24:14.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
06:24:14.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.205 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.205 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55194&lt;-&gt;127.0.0.1:36949
06:24:14.205 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.206 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.206 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.206 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36949
06:24:14.206 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.206 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.206 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Cookie: flavor=chocolate-chip
06:24:14.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Length: 30
06:24:14.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:36949
06:24:14.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
06:24:14.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:36949[\r][\n]&quot;
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.242 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36949]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@1e875ef5]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.244 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
06:24:14.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
06:24:14.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
06:24:14.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
06:24:14.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
06:24:14.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.245 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.245 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55194&lt;-&gt;127.0.0.1:36949
06:24:14.245 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.246 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@50b1f798
06:24:14.260 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@a3febca
06:24:14.274 [XNIO-29 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4bc71795
06:24:14.274 [XNIO-29 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4e2c0df3
06:24:14.278 [XNIO-29 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-3', selector sun.nio.ch.EPollSelectorImpl@36c2f301
06:24:14.278 [XNIO-29 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-4', selector sun.nio.ch.EPollSelectorImpl@62ffc232
06:24:14.278 [XNIO-29 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-5', selector sun.nio.ch.EPollSelectorImpl@65ace922
06:24:14.278 [XNIO-29 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-6', selector sun.nio.ch.EPollSelectorImpl@23092888
06:24:14.278 [XNIO-29 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1b2330d
06:24:14.282 [XNIO-29 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5c75eec6
06:24:14.283 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.283 [XNIO-29 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 Accept', selector sun.nio.ch.EPollSelectorImpl@20366308
06:24:14.284 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.288 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.288 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.288 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43393
06:24:14.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43393
06:24:14.288 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43393
06:24:14.288 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37274&lt;-&gt;127.0.0.1:43393
06:24:14.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
06:24:14.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Length: 30
06:24:14.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:43393
06:24:14.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
06:24:14.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
06:24:14.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:43393[\r][\n]&quot;
06:24:14.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.290 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.291 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43393]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@31a159d3, flavor:ersatz.undertow.server.handlers.CookieImpl@3f66a197]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.292 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
06:24:14.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
06:24:14.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
06:24:14.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
06:24:14.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
06:24:14.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.294 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37274&lt;-&gt;127.0.0.1:43393
06:24:14.294 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.295 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.295 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.295 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43393
06:24:14.295 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.295 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.295 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
06:24:14.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Length: 30
06:24:14.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:43393
06:24:14.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
06:24:14.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:43393[\r][\n]&quot;
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.302 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43393]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@5f2a9d4, flavor:ersatz.undertow.server.handlers.CookieImpl@b35471a]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.303 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
06:24:14.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
06:24:14.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
06:24:14.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
06:24:14.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
06:24:14.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37274&lt;-&gt;127.0.0.1:43393
06:24:14.304 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.305 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@a3febca
06:24:14.310 [XNIO-29 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /delta request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43393]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/date], Content-Length=[36], Date=[Mon, 20 Nov 2017 12:24:10 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
06:24:14.320 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1495a03b
06:24:14.321 [XNIO-30 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-2', selector sun.nio.ch.EPollSelectorImpl@fb0e82d
06:24:14.322 [XNIO-30 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7f2800c8
06:24:14.321 [XNIO-30 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-1', selector sun.nio.ch.EPollSelectorImpl@16e8f6cd
06:24:14.326 [XNIO-30 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1fbf75e7
06:24:14.326 [XNIO-30 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-7', selector sun.nio.ch.EPollSelectorImpl@cd83cae
06:24:14.326 [XNIO-30 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6836f5e1
06:24:14.327 [XNIO-30 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-8', selector sun.nio.ch.EPollSelectorImpl@19725b60
06:24:14.336 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.337 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.337 [XNIO-30 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 Accept', selector sun.nio.ch.EPollSelectorImpl@1fac6314
06:24:14.326 [XNIO-30 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-5', selector sun.nio.ch.EPollSelectorImpl@10b452a9
06:24:14.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.351 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46315
06:24:14.352 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46315
06:24:14.352 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46315
06:24:14.352 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60278&lt;-&gt;127.0.0.1:46315
06:24:14.352 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.352 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.352 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
06:24:14.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:46315
06:24:14.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
06:24:14.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:46315[\r][\n]&quot;
06:24:14.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.353 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46315]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.355 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
06:24:14.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
06:24:14.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
06:24:14.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/date
06:24:14.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 36
06:24:14.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.355 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.356 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60278&lt;-&gt;127.0.0.1:46315
06:24:14.356 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.362 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.362 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.362 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46315
06:24:14.362 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.362 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.362 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
06:24:14.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:46315
06:24:14.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
06:24:14.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:46315[\r][\n]&quot;
06:24:14.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.378 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46315]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.379 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
06:24:14.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
06:24:14.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
06:24:14.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/date
06:24:14.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 36
06:24:14.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.380 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.380 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60278&lt;-&gt;127.0.0.1:46315
06:24:14.380 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.381 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1495a03b
06:24:14.387 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@60ce9771
06:24:14.402 [XNIO-31 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7ef8d0c9
06:24:14.403 [XNIO-31 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6a2e153a
06:24:14.403 [XNIO-31 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-3', selector sun.nio.ch.EPollSelectorImpl@60ffbe1a
06:24:14.403 [XNIO-31 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6717e4f0
06:24:14.410 [XNIO-31 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-5', selector sun.nio.ch.EPollSelectorImpl@26144424
06:24:14.410 [XNIO-31 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6608870d
06:24:14.410 [XNIO-31 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-7', selector sun.nio.ch.EPollSelectorImpl@129711d2
06:24:14.422 [XNIO-31 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4f5a1d27
06:24:14.426 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.426 [XNIO-31 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 Accept', selector sun.nio.ch.EPollSelectorImpl@33a8f1ad
06:24:14.427 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.429 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.430 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.430 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45819
06:24:14.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45819
06:24:14.430 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45819
06:24:14.430 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56976&lt;-&gt;127.0.0.1:45819
06:24:14.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
06:24:14.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:45819
06:24:14.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
06:24:14.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:45819[\r][\n]&quot;
06:24:14.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.434 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45819]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.435 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
06:24:14.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
06:24:14.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
06:24:14.437 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/date
06:24:14.437 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 36
06:24:14.437 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.437 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.437 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56976&lt;-&gt;127.0.0.1:45819
06:24:14.437 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.443 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.444 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.444 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45819
06:24:14.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
06:24:14.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:45819
06:24:14.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
06:24:14.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:45819[\r][\n]&quot;
06:24:14.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.445 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45819]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.445 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
06:24:14.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
06:24:14.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
06:24:14.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/date
06:24:14.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 36
06:24:14.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.446 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.446 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56976&lt;-&gt;127.0.0.1:45819
06:24:14.446 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.447 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@60ce9771
06:24:14.453 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@423ea5e0
06:24:14.458 [XNIO-32 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6018df60
06:24:14.474 [XNIO-32 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-3', selector sun.nio.ch.EPollSelectorImpl@689b62ce
06:24:14.474 [XNIO-32 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3184c234
06:24:14.478 [XNIO-32 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6e5c4e8d
06:24:14.478 [XNIO-32 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1eeabdf7
06:24:14.484 [XNIO-32 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-7', selector sun.nio.ch.EPollSelectorImpl@37d4888d
06:24:14.484 [XNIO-32 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-6', selector sun.nio.ch.EPollSelectorImpl@46ddc3ef
06:24:14.484 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.485 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.486 [XNIO-32 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7e4cc5f0
06:24:14.486 [XNIO-32 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 Accept', selector sun.nio.ch.EPollSelectorImpl@37cd5b5e
06:24:14.488 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.488 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.488 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43701
06:24:14.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43701
06:24:14.489 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43701
06:24:14.489 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55618&lt;-&gt;127.0.0.1:43701
06:24:14.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Cookie: flavor=peanut-butter
06:24:14.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
06:24:14.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:43701
06:24:14.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
06:24:14.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:43701[\r][\n]&quot;
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.490 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43701]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@15d9b557]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.491 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
06:24:14.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
06:24:14.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
06:24:14.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/date
06:24:14.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 36
06:24:14.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.492 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.492 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55618&lt;-&gt;127.0.0.1:43701
06:24:14.492 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.493 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.493 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.493 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43701
06:24:14.493 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.493 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.493 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Cookie: flavor=peanut-butter
06:24:14.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
06:24:14.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:43701
06:24:14.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
06:24:14.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:43701[\r][\n]&quot;
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.501 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43701]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@cb2c924]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.502 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.503 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
06:24:14.503 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
06:24:14.503 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
06:24:14.503 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/date
06:24:14.503 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 36
06:24:14.503 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.503 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.503 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55618&lt;-&gt;127.0.0.1:43701
06:24:14.503 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.504 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@423ea5e0
06:24:14.509 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3ba66a8f
06:24:14.510 [XNIO-33 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-2', selector sun.nio.ch.EPollSelectorImpl@47800e69
06:24:14.510 [XNIO-33 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-1', selector sun.nio.ch.EPollSelectorImpl@430b62eb
06:24:14.514 [XNIO-33 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-3', selector sun.nio.ch.EPollSelectorImpl@24b25e62
06:24:14.518 [XNIO-33 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7526a1c7
06:24:14.525 [XNIO-33 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2072b2b
06:24:14.530 [XNIO-33 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7b7a2061
06:24:14.530 [XNIO-33 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-7', selector sun.nio.ch.EPollSelectorImpl@54bd2e7e
06:24:14.531 [XNIO-33 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-8', selector sun.nio.ch.EPollSelectorImpl@65866cfb
06:24:14.531 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.532 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.533 [XNIO-33 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 Accept', selector sun.nio.ch.EPollSelectorImpl@2a1da643
06:24:14.538 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.539 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.539 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40371
06:24:14.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40371
06:24:14.539 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40371
06:24:14.539 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39130&lt;-&gt;127.0.0.1:40371
06:24:14.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
06:24:14.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
06:24:14.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:40371
06:24:14.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
06:24:14.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:40371[\r][\n]&quot;
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.542 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40371]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@126125ff, flavor:ersatz.undertow.server.handlers.CookieImpl@1ca6c9c3]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.544 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.544 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.544 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.544 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.544 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.544 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.544 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.544 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.544 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.544 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
06:24:14.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
06:24:14.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
06:24:14.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/date
06:24:14.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 36
06:24:14.545 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.545 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.545 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39130&lt;-&gt;127.0.0.1:40371
06:24:14.545 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.547 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.547 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.547 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40371
06:24:14.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
06:24:14.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /delta HTTP/1.1
06:24:14.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
06:24:14.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
06:24:14.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:40371
06:24:14.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
06:24:14.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:40371[\r][\n]&quot;
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.550 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40371]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@938dcd0, flavor:ersatz.undertow.server.handlers.CookieImpl@7ff2387]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.552 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/date
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 36
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.552 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.553 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39130&lt;-&gt;127.0.0.1:40371
06:24:14.553 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.554 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3ba66a8f
06:24:14.556 [XNIO-33 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
06:24:14.608 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7b0523d6
06:24:14.614 [XNIO-34 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4c7795b3
06:24:14.622 [XNIO-34 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3e5616c2
06:24:14.623 [XNIO-34 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6ae72a32
06:24:14.623 [XNIO-34 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2ca268ba
06:24:14.623 [XNIO-34 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7f6f6ba8
06:24:14.624 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.625 [XNIO-34 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1801b481
06:24:14.625 [XNIO-34 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-8', selector sun.nio.ch.EPollSelectorImpl@36b544ad
06:24:14.625 [XNIO-34 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 Accept', selector sun.nio.ch.EPollSelectorImpl@2278b6f
06:24:14.634 [XNIO-34 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-6', selector sun.nio.ch.EPollSelectorImpl@75f95116
06:24:14.634 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.656 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.656 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.656 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32863
06:24:14.656 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32863
06:24:14.656 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32863
06:24:14.658 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56682&lt;-&gt;127.0.0.1:32863
06:24:14.658 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:14.658 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.658 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /basic HTTP/1.1
06:24:14.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
06:24:14.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:32863
06:24:14.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
06:24:14.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:14.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:32863[\r][\n]&quot;
06:24:14.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.669 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {}}
06:24:14.669 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.673 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@73113ffd for /basic
06:24:14.673 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {}}
06:24:14.674 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.676 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
06:24:14.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
06:24:14.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.676 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.676 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.676 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:32863 requested authentication
06:24:14.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.677 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.686 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:14.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.686 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.701 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /basic HTTP/1.1
06:24:14.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.702 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
06:24:14.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:32863
06:24:14.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
06:24:14.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:32863[\r][\n]&quot;
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.706 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {}}
06:24:14.707 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.712 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {}}
06:24:14.735 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.780 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.780 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-29: Shutdown connection
06:24:14.781 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.781 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-30: Shutdown connection
06:24:14.783 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.783 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-26: Shutdown connection
06:24:14.793 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.793 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-27: Shutdown connection
06:24:14.794 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.794 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-28: Shutdown connection
06:24:14.795 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.795 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-23: Shutdown connection
06:24:14.796 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.796 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-24: Shutdown connection
06:24:14.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-25: Shutdown connection
06:24:14.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-19: Shutdown connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-20: Shutdown connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-21: Shutdown connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-22: Shutdown connection
06:24:14.799 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.799 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-16: Shutdown connection
06:24:14.800 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.800 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-17: Shutdown connection
06:24:14.800 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.800 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-18: Shutdown connection
06:24:14.800 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.800 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Shutdown connection
06:24:14.802 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.802 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Shutdown connection
06:24:14.802 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.802 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-15: Shutdown connection
06:24:14.802 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.802 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Shutdown connection
06:24:14.804 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@73113ffd for /basic
06:24:14.804 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:14.804 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.805 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
06:24:14.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
06:24:14.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
06:24:14.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/plain
06:24:14.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 27
06:24:14.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.805 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.805 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.807 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:32863
06:24:14.810 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56682&lt;-&gt;127.0.0.1:32863
06:24:14.810 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.811 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.811 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.811 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32863
06:24:14.811 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:14.811 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.811 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /basic HTTP/1.1
06:24:14.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
06:24:14.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:32863
06:24:14.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
06:24:14.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:14.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:32863[\r][\n]&quot;
06:24:14.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.814 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {}}
06:24:14.814 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.814 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@73113ffd for /basic
06:24:14.814 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {}}
06:24:14.814 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.814 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
06:24:14.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
06:24:14.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:32863 requested authentication
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /basic HTTP/1.1
06:24:14.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
06:24:14.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:32863
06:24:14.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
06:24:14.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:32863[\r][\n]&quot;
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.816 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {}}
06:24:14.816 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.816 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]} response {}}
06:24:14.816 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.816 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@73113ffd for /basic
06:24:14.816 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:14.816 [XNIO-34 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32863]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.817 [XNIO-34 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
06:24:14.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
06:24:14.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
06:24:14.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/plain
06:24:14.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 27
06:24:14.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.817 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.818 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:32863
06:24:14.818 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56682&lt;-&gt;127.0.0.1:32863
06:24:14.818 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.818 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7b0523d6
06:24:14.822 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3dca30e0
06:24:14.832 [XNIO-35 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7157c302
06:24:14.833 [XNIO-35 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-2', selector sun.nio.ch.EPollSelectorImpl@28cbbb4e
06:24:14.834 [XNIO-35 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-3', selector sun.nio.ch.EPollSelectorImpl@14905579
06:24:14.834 [XNIO-35 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1440ad43
06:24:14.835 [XNIO-35 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7272246f
06:24:14.846 [XNIO-35 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-6', selector sun.nio.ch.EPollSelectorImpl@d0943ca
06:24:14.853 [XNIO-35 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-7', selector sun.nio.ch.EPollSelectorImpl@268690db
06:24:14.854 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.854 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.858 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.858 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.858 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33527
06:24:14.858 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:33527
06:24:14.858 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33527
06:24:14.858 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:33527 with timeout 0
06:24:14.859 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:14.859 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:14.859 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:14.853 [XNIO-35 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-8', selector sun.nio.ch.EPollSelectorImpl@41c548c
06:24:14.860 [XNIO-35 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 Accept', selector sun.nio.ch.EPollSelectorImpl@70b6b43a
06:24:14.899 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:14.899 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:14.899 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:14.899 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.899 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.899 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34936&lt;-&gt;127.0.0.1:33527
06:24:14.899 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:14.899 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.900 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /basic HTTP/1.1
06:24:14.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
06:24:14.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:33527
06:24:14.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
06:24:14.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:14.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:33527[\r][\n]&quot;
06:24:14.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.902 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {}}
06:24:14.902 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.902 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5d8b87a0 for /basic
06:24:14.902 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {}}
06:24:14.902 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.902 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33527 requested authentication
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /basic HTTP/1.1
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:33527
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.903 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:33527[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.903 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.909 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {}}
06:24:14.909 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.909 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {}}
06:24:14.909 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.910 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5d8b87a0 for /basic
06:24:14.910 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:14.910 [XNIO-35 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.911 [XNIO-35 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.911 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
06:24:14.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
06:24:14.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
06:24:14.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/plain
06:24:14.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 27
06:24:14.911 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.912 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.912 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.912 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:33527
06:24:14.912 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34936&lt;-&gt;127.0.0.1:33527
06:24:14.912 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.913 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.913 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.913 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33527
06:24:14.913 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:14.913 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.913 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /basic HTTP/1.1
06:24:14.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
06:24:14.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:33527
06:24:14.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
06:24:14.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.913 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:14.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:33527[\r][\n]&quot;
06:24:14.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.913 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.929 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {}}
06:24:14.929 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.930 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5d8b87a0 for /basic
06:24:14.930 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {}}
06:24:14.930 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.930 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33527 requested authentication
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /basic HTTP/1.1
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:33527
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:33527[\r][\n]&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:14.942 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {}}
06:24:14.943 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.943 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]} response {}}
06:24:14.943 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.944 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5d8b87a0 for /basic
06:24:14.944 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:14.944 [XNIO-35 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33527]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:14.945 [XNIO-35 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:14.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:14.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:14.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:14.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:14.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:14.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
06:24:14.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
06:24:14.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
06:24:14.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/plain
06:24:14.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 27
06:24:14.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:14.947 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.947 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.947 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:33527
06:24:14.948 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34936&lt;-&gt;127.0.0.1:33527
06:24:14.948 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.948 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3dca30e0
06:24:14.959 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3fc6b297
06:24:14.963 [XNIO-36 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-1', selector sun.nio.ch.EPollSelectorImpl@316472aa
06:24:14.966 [XNIO-36 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-2', selector sun.nio.ch.EPollSelectorImpl@33100c87
06:24:14.971 [XNIO-36 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-3', selector sun.nio.ch.EPollSelectorImpl@22480390
06:24:14.990 [XNIO-36 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-4', selector sun.nio.ch.EPollSelectorImpl@772ccb15
06:24:14.990 [XNIO-36 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-6', selector sun.nio.ch.EPollSelectorImpl@21139996
06:24:14.990 [XNIO-36 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-5', selector sun.nio.ch.EPollSelectorImpl@490fbe43
06:24:14.994 [XNIO-36 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2c5c21ea
06:24:14.994 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.994 [XNIO-36 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 Accept', selector sun.nio.ch.EPollSelectorImpl@7e0f2aa4
06:24:14.998 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.999 [XNIO-36 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4633305
06:24:15.005 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.005 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.005 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38239
06:24:15.005 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38239
06:24:15.006 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38239
06:24:15.006 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37450&lt;-&gt;127.0.0.1:38239
06:24:15.006 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:15.006 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.006 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /basic HTTP/1.1
06:24:15.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
06:24:15.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:38239
06:24:15.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
06:24:15.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.006 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:15.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:38239[\r][\n]&quot;
06:24:15.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.018 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.018 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.018 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@3c7d6e1a for /basic
06:24:15.018 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.018 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.018 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.018 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38239 requested authentication
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.019 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /basic HTTP/1.1
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:38239
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.019 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:38239[\r][\n]&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.022 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.022 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.022 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.022 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.023 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@3c7d6e1a for /basic
06:24:15.023 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.023 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.023 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
06:24:15.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
06:24:15.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.023 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.023 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.023 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38239 requested authentication
06:24:15.023 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.024 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.024 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37450&lt;-&gt;127.0.0.1:38239
06:24:15.024 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.054 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.054 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.054 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38239
06:24:15.054 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:15.054 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.054 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /basic HTTP/1.1
06:24:15.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
06:24:15.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:38239
06:24:15.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
06:24:15.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.054 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:15.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:38239[\r][\n]&quot;
06:24:15.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.054 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.059 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.060 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.060 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@3c7d6e1a for /basic
06:24:15.060 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.060 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.060 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
06:24:15.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
06:24:15.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38239 requested authentication
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.060 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.061 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /basic HTTP/1.1
06:24:15.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
06:24:15.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:38239
06:24:15.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
06:24:15.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.061 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:38239[\r][\n]&quot;
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.097 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.097 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.097 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.097 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.097 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@3c7d6e1a for /basic
06:24:15.097 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {}}
06:24:15.097 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:38239]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.097 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.098 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
06:24:15.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
06:24:15.098 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.098 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.098 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.098 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38239 requested authentication
06:24:15.098 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.098 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.098 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37450&lt;-&gt;127.0.0.1:38239
06:24:15.098 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.104 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3fc6b297
06:24:15.111 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@41a29ea0
06:24:15.124 [XNIO-37 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5068b1d
06:24:15.124 [XNIO-37 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-2', selector sun.nio.ch.EPollSelectorImpl@61b1b383
06:24:15.126 [XNIO-37 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-3', selector sun.nio.ch.EPollSelectorImpl@74474815
06:24:15.134 [XNIO-37 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-4', selector sun.nio.ch.EPollSelectorImpl@18fde13d
06:24:15.136 [XNIO-37 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-5', selector sun.nio.ch.EPollSelectorImpl@44903cf2
06:24:15.145 [XNIO-37 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-6', selector sun.nio.ch.EPollSelectorImpl@200da4ec
06:24:15.154 [XNIO-37 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3bb41f62
06:24:15.154 [XNIO-37 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-8', selector sun.nio.ch.EPollSelectorImpl@777e450e
06:24:15.155 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.155 [XNIO-37 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 Accept', selector sun.nio.ch.EPollSelectorImpl@4bb266af
06:24:15.155 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.159 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.159 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.159 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34059
06:24:15.160 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:34059
06:24:15.160 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34059
06:24:15.160 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:34059 with timeout 0
06:24:15.160 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:15.160 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:15.160 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:15.200 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:15.200 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:15.200 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:15.200 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.200 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.200 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36056&lt;-&gt;127.0.0.1:34059
06:24:15.200 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:15.200 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.200 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /basic HTTP/1.1
06:24:15.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
06:24:15.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:34059
06:24:15.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
06:24:15.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:15.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:34059[\r][\n]&quot;
06:24:15.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.201 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.201 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.201 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@f9960f7 for /basic
06:24:15.201 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.201 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.201 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.202 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.202 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.202 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.202 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.202 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.202 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34059 requested authentication
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.202 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /basic HTTP/1.1
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:34059
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.202 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:15.202 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:15.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:34059[\r][\n]&quot;
06:24:15.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:15.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.219 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.219 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.219 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.219 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.219 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@f9960f7 for /basic
06:24:15.219 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.219 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.219 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
06:24:15.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
06:24:15.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.220 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.220 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.220 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34059 requested authentication
06:24:15.220 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.220 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.220 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36056&lt;-&gt;127.0.0.1:34059
06:24:15.220 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.221 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.221 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.221 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34059
06:24:15.221 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:15.221 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.221 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /basic HTTP/1.1
06:24:15.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
06:24:15.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:34059
06:24:15.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
06:24:15.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:34059[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.231 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.231 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.231 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@f9960f7 for /basic
06:24:15.231 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.231 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.231 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34059 requested authentication
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:15.232 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /basic HTTP/1.1
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:34059
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:34059[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.238 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.238 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:15.238 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.238 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.238 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@f9960f7 for /basic
06:24:15.238 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {}}
06:24:15.238 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34059]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:15.238 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:15.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:15.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
06:24:15.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:15.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
06:24:15.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.239 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.239 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.239 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:34059 requested authentication
06:24:15.239 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.239 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.239 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36056&lt;-&gt;127.0.0.1:34059
06:24:15.239 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.240 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@41a29ea0
06:24:15.291 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@326605f2
06:24:15.293 [XNIO-38 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-2', selector sun.nio.ch.EPollSelectorImpl@17161059
06:24:15.293 [XNIO-38 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-1', selector sun.nio.ch.EPollSelectorImpl@77e0a70b
06:24:15.294 [XNIO-38 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-4', selector sun.nio.ch.EPollSelectorImpl@393b1b48
06:24:15.298 [XNIO-38 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5ac1df2f
06:24:15.299 [XNIO-38 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7b065fa4
06:24:15.303 [XNIO-38 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6c364496
06:24:15.305 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.306 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.293 [XNIO-38 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2586c60d
06:24:15.299 [XNIO-38 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-6', selector sun.nio.ch.EPollSelectorImpl@54b844c4
06:24:15.317 [XNIO-38 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 Accept', selector sun.nio.ch.EPollSelectorImpl@2767a2c1
06:24:15.319 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.319 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.319 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43253
06:24:15.319 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43253
06:24:15.320 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43253
06:24:15.320 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40792&lt;-&gt;127.0.0.1:43253
06:24:15.320 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.320 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.320 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
06:24:15.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:43253
06:24:15.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:15.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:43253[\r][\n]&quot;
06:24:15.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.321 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]} response {}}
06:24:15.321 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.321 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@ab761b3 for /digest
06:24:15.321 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]} response {}}
06:24:15.324 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.324 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:15.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
06:24:15.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.325 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.325 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.325 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:43253 requested authentication
06:24:15.325 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.325 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.325 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.325 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.329 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.329 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.330 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.330 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.330 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
06:24:15.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:43253
06:24:15.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:15.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;, uri=&quot;/digest&quot;, response=&quot;7d0c5a0b7fad7a2b385d5c2246206273&quot;, qop=auth, nc=00000001, cnonce=&quot;c4e1bfa5e3419a54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:43253[\r][\n]&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;, uri=&quot;/digest&quot;, response=&quot;7d0c5a0b7fad7a2b385d5c2246206273&quot;, qop=auth, nc=00000001, cnonce=&quot;c4e1bfa5e3419a54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.345 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;, uri=&quot;/digest&quot;, response=&quot;7d0c5a0b7fad7a2b385d5c2246206273&quot;, qop=auth, nc=00000001, cnonce=&quot;c4e1bfa5e3419a54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]} response {}}
06:24:15.345 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.356 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;, uri=&quot;/digest&quot;, response=&quot;7d0c5a0b7fad7a2b385d5c2246206273&quot;, qop=auth, nc=00000001, cnonce=&quot;c4e1bfa5e3419a54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;, uri=&quot;/digest&quot;, response=&quot;7d0c5a0b7fad7a2b385d5c2246206273&quot;, qop=auth, nc=00000001, cnonce=&quot;c4e1bfa5e3419a54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]} response {}}
06:24:15.370 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.370 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@ab761b3 for /digest
06:24:15.370 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:15.370 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;, uri=&quot;/digest&quot;, response=&quot;7d0c5a0b7fad7a2b385d5c2246206273&quot;, qop=auth, nc=00000001, cnonce=&quot;c4e1bfa5e3419a54&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:15.371 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;,qop=&quot;auth&quot;,rspauth=&quot;815c02762b21c0b3c5fe9e2c3b8723ff&quot;,cnonce=&quot;c4e1bfa5e3419a54&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
06:24:15.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;,qop=&quot;auth&quot;,rspauth=&quot;815c02762b21c0b3c5fe9e2c3b8723ff&quot;,cnonce=&quot;c4e1bfa5e3419a54&quot;,nc=00000001[\r][\n]&quot;
06:24:15.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.372 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
06:24:15.372 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
06:24:15.372 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:15.372 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Authentication-Info: nextnonce=&quot;RZYcV2k18f8NMTUxMTE4MDY1NTMyM+URiXDb4fUcTjch3GT6tvk=&quot;,qop=&quot;auth&quot;,rspauth=&quot;815c02762b21c0b3c5fe9e2c3b8723ff&quot;,cnonce=&quot;c4e1bfa5e3419a54&quot;,nc=00000001
06:24:15.372 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
06:24:15.372 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
06:24:15.372 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.373 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.373 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.373 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:43253
06:24:15.375 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40792&lt;-&gt;127.0.0.1:43253
06:24:15.375 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.376 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.376 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43253
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:43253
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:43253[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.385 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]} response {}}
06:24:15.385 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.385 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@ab761b3 for /digest
06:24:15.386 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]} response {}}
06:24:15.386 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:15.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
06:24:15.389 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.390 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.390 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.390 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:43253 requested authentication
06:24:15.390 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.390 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.390 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.390 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.391 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.391 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.391 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.391 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.391 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.392 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.392 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.392 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.392 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
06:24:15.392 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:43253
06:24:15.392 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:15.392 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.392 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;, uri=&quot;/digest&quot;, response=&quot;b7176d6a9f83064d98a1617f72e72906&quot;, qop=auth, nc=00000001, cnonce=&quot;8950a22188bce588&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:43253[\r][\n]&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;, uri=&quot;/digest&quot;, response=&quot;b7176d6a9f83064d98a1617f72e72906&quot;, qop=auth, nc=00000001, cnonce=&quot;8950a22188bce588&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.393 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;, uri=&quot;/digest&quot;, response=&quot;b7176d6a9f83064d98a1617f72e72906&quot;, qop=auth, nc=00000001, cnonce=&quot;8950a22188bce588&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]} response {}}
06:24:15.394 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.394 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;, uri=&quot;/digest&quot;, response=&quot;b7176d6a9f83064d98a1617f72e72906&quot;, qop=auth, nc=00000001, cnonce=&quot;8950a22188bce588&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;, uri=&quot;/digest&quot;, response=&quot;b7176d6a9f83064d98a1617f72e72906&quot;, qop=auth, nc=00000001, cnonce=&quot;8950a22188bce588&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]} response {}}
06:24:15.395 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.398 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@ab761b3 for /digest
06:24:15.398 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:15.398 [XNIO-38 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;, uri=&quot;/digest&quot;, response=&quot;b7176d6a9f83064d98a1617f72e72906&quot;, qop=auth, nc=00000001, cnonce=&quot;8950a22188bce588&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:15.399 [XNIO-38 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;,qop=&quot;auth&quot;,rspauth=&quot;fe95a9616052091ce98affd421047fac&quot;,cnonce=&quot;8950a22188bce588&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
06:24:15.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;,qop=&quot;auth&quot;,rspauth=&quot;fe95a9616052091ce98affd421047fac&quot;,cnonce=&quot;8950a22188bce588&quot;,nc=00000001[\r][\n]&quot;
06:24:15.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.400 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
06:24:15.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
06:24:15.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:15.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Authentication-Info: nextnonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;,qop=&quot;auth&quot;,rspauth=&quot;fe95a9616052091ce98affd421047fac&quot;,cnonce=&quot;8950a22188bce588&quot;,nc=00000001
06:24:15.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
06:24:15.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
06:24:15.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.400 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.400 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.400 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:43253
06:24:15.401 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40792&lt;-&gt;127.0.0.1:43253
06:24:15.401 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.401 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@326605f2
06:24:15.404 [XNIO-38 task-4] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;, uri=&quot;/digest&quot;, response=&quot;b7176d6a9f83064d98a1617f72e72906&quot;, qop=auth, nc=00000001, cnonce=&quot;8950a22188bce588&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43253]} response {Content-Encoding=[gzip], Connection=[keep-alive], Authentication-Info=[nextnonce=&quot;zalXlwYExXQNMTUxMTE4MDY1NTM4NtT8vcbea1nF9ERphOmddjE=&quot;,qop=&quot;auth&quot;,rspauth=&quot;fe95a9616052091ce98affd421047fac&quot;,cnonce=&quot;8950a22188bce588&quot;,nc=00000001], Content-Type=[text/plain], Content-Length=[27], Date=[Mon, 20 Nov 2017 12:24:10 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
06:24:15.410 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@61d5c263
06:24:15.415 [XNIO-39 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-1', selector sun.nio.ch.EPollSelectorImpl@9bea1c0
06:24:15.415 [XNIO-39 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-2', selector sun.nio.ch.EPollSelectorImpl@68c3de90
06:24:15.415 [XNIO-39 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6d71dcac
06:24:15.416 [XNIO-39 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3e09ac5
06:24:15.418 [XNIO-39 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-5', selector sun.nio.ch.EPollSelectorImpl@71c0ea65
06:24:15.419 [XNIO-39 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-6', selector sun.nio.ch.EPollSelectorImpl@252ad374
06:24:15.419 [XNIO-39 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7d42a6dc
06:24:15.419 [XNIO-39 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-8', selector sun.nio.ch.EPollSelectorImpl@523cc7db
06:24:15.423 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.424 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.427 [XNIO-39 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 Accept', selector sun.nio.ch.EPollSelectorImpl@5fed397c
06:24:15.427 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.427 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36817
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:36817
06:24:15.427 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36817
06:24:15.427 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:36817 with timeout 0
06:24:15.428 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:15.428 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:15.428 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:15.486 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:15.486 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:15.486 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:15.486 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.486 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.487 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36812&lt;-&gt;127.0.0.1:36817
06:24:15.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
06:24:15.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:36817
06:24:15.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
06:24:15.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:36817[\r][\n]&quot;
06:24:15.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.498 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]} response {}}
06:24:15.498 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.498 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@576c1570 for /digest
06:24:15.498 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]} response {}}
06:24:15.498 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
06:24:15.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
06:24:15.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36817 requested authentication
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.499 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.500 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
06:24:15.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:36817
06:24:15.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
06:24:15.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;, uri=&quot;/digest&quot;, response=&quot;659001996255b93e9fc8eca18236ad9e&quot;, qop=auth, nc=00000001, cnonce=&quot;e333049c29683e48&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:36817[\r][\n]&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;, uri=&quot;/digest&quot;, response=&quot;659001996255b93e9fc8eca18236ad9e&quot;, qop=auth, nc=00000001, cnonce=&quot;e333049c29683e48&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.529 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;, uri=&quot;/digest&quot;, response=&quot;659001996255b93e9fc8eca18236ad9e&quot;, qop=auth, nc=00000001, cnonce=&quot;e333049c29683e48&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]} response {}}
06:24:15.529 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.529 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;, uri=&quot;/digest&quot;, response=&quot;659001996255b93e9fc8eca18236ad9e&quot;, qop=auth, nc=00000001, cnonce=&quot;e333049c29683e48&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;, uri=&quot;/digest&quot;, response=&quot;659001996255b93e9fc8eca18236ad9e&quot;, qop=auth, nc=00000001, cnonce=&quot;e333049c29683e48&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]} response {}}
06:24:15.530 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.530 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@576c1570 for /digest
06:24:15.530 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:15.530 [XNIO-39 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;, uri=&quot;/digest&quot;, response=&quot;659001996255b93e9fc8eca18236ad9e&quot;, qop=auth, nc=00000001, cnonce=&quot;e333049c29683e48&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:15.539 [XNIO-39 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;60d61992234fe79a35f444594b446695&quot;,cnonce=&quot;e333049c29683e48&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;60d61992234fe79a35f444594b446695&quot;,cnonce=&quot;e333049c29683e48&quot;,nc=00000001[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.540 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 200 OK
06:24:15.540 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Encoding: gzip
06:24:15.540 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
06:24:15.540 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Authentication-Info: nextnonce=&quot;Xd5RO4W5rGwNMTUxMTE4MDY1NTQ5OCymup2ypoMgvIsEqFJusk4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;60d61992234fe79a35f444594b446695&quot;,cnonce=&quot;e333049c29683e48&quot;,nc=00000001
06:24:15.540 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Type: text/plain
06:24:15.540 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 27
06:24:15.540 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.540 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.540 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.541 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:36817
06:24:15.541 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36812&lt;-&gt;127.0.0.1:36817
06:24:15.541 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.542 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.542 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.542 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36817
06:24:15.542 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.542 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.542 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
06:24:15.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:36817
06:24:15.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
06:24:15.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.542 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.542 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:36817[\r][\n]&quot;
06:24:15.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.579 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]} response {}}
06:24:15.579 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.579 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@576c1570 for /digest
06:24:15.579 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]} response {}}
06:24:15.579 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
06:24:15.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
06:24:15.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36817 requested authentication
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.580 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.581 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
06:24:15.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:36817
06:24:15.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
06:24:15.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;, uri=&quot;/digest&quot;, response=&quot;5a4019d918f5aa7960fc9bfe9c7a8333&quot;, qop=auth, nc=00000001, cnonce=&quot;321ac9c6e0460871&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:36817[\r][\n]&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;, uri=&quot;/digest&quot;, response=&quot;5a4019d918f5aa7960fc9bfe9c7a8333&quot;, qop=auth, nc=00000001, cnonce=&quot;321ac9c6e0460871&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.597 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;, uri=&quot;/digest&quot;, response=&quot;5a4019d918f5aa7960fc9bfe9c7a8333&quot;, qop=auth, nc=00000001, cnonce=&quot;321ac9c6e0460871&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]} response {}}
06:24:15.597 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.598 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;, uri=&quot;/digest&quot;, response=&quot;5a4019d918f5aa7960fc9bfe9c7a8333&quot;, qop=auth, nc=00000001, cnonce=&quot;321ac9c6e0460871&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;, uri=&quot;/digest&quot;, response=&quot;5a4019d918f5aa7960fc9bfe9c7a8333&quot;, qop=auth, nc=00000001, cnonce=&quot;321ac9c6e0460871&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]} response {}}
06:24:15.599 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:15.599 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@576c1570 for /digest
06:24:15.600 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:15.600 [XNIO-39 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;, uri=&quot;/digest&quot;, response=&quot;5a4019d918f5aa7960fc9bfe9c7a8333&quot;, qop=auth, nc=00000001, cnonce=&quot;321ac9c6e0460871&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36817]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:15.602 [XNIO-39 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;,qop=&quot;auth&quot;,rspauth=&quot;4981380d978a25954c5a9b9076b034d3&quot;,cnonce=&quot;321ac9c6e0460871&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
06:24:15.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;,qop=&quot;auth&quot;,rspauth=&quot;4981380d978a25954c5a9b9076b034d3&quot;,cnonce=&quot;321ac9c6e0460871&quot;,nc=00000001[\r][\n]&quot;
06:24:15.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 200 OK
06:24:15.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Encoding: gzip
06:24:15.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
06:24:15.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Authentication-Info: nextnonce=&quot;rAQwqFZkb+QNMTUxMTE4MDY1NTU3OUsDn8JS2StXamPMOgv0QMU=&quot;,qop=&quot;auth&quot;,rspauth=&quot;4981380d978a25954c5a9b9076b034d3&quot;,cnonce=&quot;321ac9c6e0460871&quot;,nc=00000001
06:24:15.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Type: text/plain
06:24:15.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 27
06:24:15.603 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.603 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.603 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:15.603 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:36817
06:24:15.604 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36812&lt;-&gt;127.0.0.1:36817
06:24:15.604 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.604 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@61d5c263
06:24:15.624 [XNIO-39 task-6] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 31 common frames omitted
06:24:15.647 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1d9581ed
06:24:15.650 [XNIO-40 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-1', selector sun.nio.ch.EPollSelectorImpl@311076
06:24:15.653 [XNIO-40 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1670f58b
06:24:15.650 [XNIO-40 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2e78f8e4
06:24:15.659 [XNIO-40 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-5', selector sun.nio.ch.EPollSelectorImpl@71fabbda
06:24:15.659 [XNIO-40 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1e985415
06:24:15.659 [XNIO-40 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5fef4464
06:24:15.662 [XNIO-40 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7c3db5ad
06:24:15.666 [XNIO-40 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4d4e156d
06:24:15.674 [XNIO-40 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 Accept', selector sun.nio.ch.EPollSelectorImpl@5d2b2143
06:24:15.674 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.675 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.680 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.681 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.681 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36101
06:24:15.681 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36101
06:24:15.681 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36101
06:24:15.681 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34482&lt;-&gt;127.0.0.1:36101
06:24:15.681 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.681 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.681 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
06:24:15.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:36101
06:24:15.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
06:24:15.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:36101[\r][\n]&quot;
06:24:15.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.688 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.689 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.690 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1ea74834 for /digest
06:24:15.690 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.690 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.691 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.691 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;3DvVK60eJHUNMTUxMTE4MDY1NTY5MEvdYefZHkCsLohqG4xQq38=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.691 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.691 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.691 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
06:24:15.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;3DvVK60eJHUNMTUxMTE4MDY1NTY5MEvdYefZHkCsLohqG4xQq38=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
06:24:15.691 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.691 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.691 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.691 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36101 requested authentication
06:24:15.691 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.692 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.692 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.692 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.692 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.692 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.692 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.692 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.692 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
06:24:15.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:36101
06:24:15.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
06:24:15.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3DvVK60eJHUNMTUxMTE4MDY1NTY5MEvdYefZHkCsLohqG4xQq38=&quot;, uri=&quot;/digest&quot;, response=&quot;1964fe32759b9d939894fd9bf99b3ee3&quot;, qop=auth, nc=00000001, cnonce=&quot;981c1502fa542053&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:36101[\r][\n]&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3DvVK60eJHUNMTUxMTE4MDY1NTY5MEvdYefZHkCsLohqG4xQq38=&quot;, uri=&quot;/digest&quot;, response=&quot;1964fe32759b9d939894fd9bf99b3ee3&quot;, qop=auth, nc=00000001, cnonce=&quot;981c1502fa542053&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.694 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3DvVK60eJHUNMTUxMTE4MDY1NTY5MEvdYefZHkCsLohqG4xQq38=&quot;, uri=&quot;/digest&quot;, response=&quot;1964fe32759b9d939894fd9bf99b3ee3&quot;, qop=auth, nc=00000001, cnonce=&quot;981c1502fa542053&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.694 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.694 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3DvVK60eJHUNMTUxMTE4MDY1NTY5MEvdYefZHkCsLohqG4xQq38=&quot;, uri=&quot;/digest&quot;, response=&quot;1964fe32759b9d939894fd9bf99b3ee3&quot;, qop=auth, nc=00000001, cnonce=&quot;981c1502fa542053&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3DvVK60eJHUNMTUxMTE4MDY1NTY5MEvdYefZHkCsLohqG4xQq38=&quot;, uri=&quot;/digest&quot;, response=&quot;1964fe32759b9d939894fd9bf99b3ee3&quot;, qop=auth, nc=00000001, cnonce=&quot;981c1502fa542053&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.695 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3DvVK60eJHUNMTUxMTE4MDY1NTY5MEvdYefZHkCsLohqG4xQq38=&quot;, uri=&quot;/digest&quot;, response=&quot;1964fe32759b9d939894fd9bf99b3ee3&quot;, qop=auth, nc=00000001, cnonce=&quot;981c1502fa542053&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.695 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1ea74834 for /digest
06:24:15.695 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3DvVK60eJHUNMTUxMTE4MDY1NTY5MEvdYefZHkCsLohqG4xQq38=&quot;, uri=&quot;/digest&quot;, response=&quot;1964fe32759b9d939894fd9bf99b3ee3&quot;, qop=auth, nc=00000001, cnonce=&quot;981c1502fa542053&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.695 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;WjTRqXHM5SINMTUxMTE4MDY1NTY5NXfJn6VJng5Kc9jyZZtsQzs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;WjTRqXHM5SINMTUxMTE4MDY1NTY5NXfJn6VJng5Kc9jyZZtsQzs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
06:24:15.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36101 requested authentication
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34482&lt;-&gt;127.0.0.1:36101
06:24:15.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.697 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.697 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.697 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36101
06:24:15.697 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.697 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.697 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
06:24:15.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:36101
06:24:15.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
06:24:15.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:36101[\r][\n]&quot;
06:24:15.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.718 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.718 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.718 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1ea74834 for /digest
06:24:15.718 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.718 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;BL7OYrERYdkNMTUxMTE4MDY1NTcxOCNvBfPdIefEm9OjN33zU5A=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
06:24:15.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;BL7OYrERYdkNMTUxMTE4MDY1NTcxOCNvBfPdIefEm9OjN33zU5A=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
06:24:15.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36101 requested authentication
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.719 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
06:24:15.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:36101
06:24:15.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
06:24:15.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BL7OYrERYdkNMTUxMTE4MDY1NTcxOCNvBfPdIefEm9OjN33zU5A=&quot;, uri=&quot;/digest&quot;, response=&quot;cd38191f9e516f8bec1db94b6ebbbe70&quot;, qop=auth, nc=00000001, cnonce=&quot;3974ef655cf00058&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:36101[\r][\n]&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BL7OYrERYdkNMTUxMTE4MDY1NTcxOCNvBfPdIefEm9OjN33zU5A=&quot;, uri=&quot;/digest&quot;, response=&quot;cd38191f9e516f8bec1db94b6ebbbe70&quot;, qop=auth, nc=00000001, cnonce=&quot;3974ef655cf00058&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.736 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BL7OYrERYdkNMTUxMTE4MDY1NTcxOCNvBfPdIefEm9OjN33zU5A=&quot;, uri=&quot;/digest&quot;, response=&quot;cd38191f9e516f8bec1db94b6ebbbe70&quot;, qop=auth, nc=00000001, cnonce=&quot;3974ef655cf00058&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.737 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.737 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BL7OYrERYdkNMTUxMTE4MDY1NTcxOCNvBfPdIefEm9OjN33zU5A=&quot;, uri=&quot;/digest&quot;, response=&quot;cd38191f9e516f8bec1db94b6ebbbe70&quot;, qop=auth, nc=00000001, cnonce=&quot;3974ef655cf00058&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BL7OYrERYdkNMTUxMTE4MDY1NTcxOCNvBfPdIefEm9OjN33zU5A=&quot;, uri=&quot;/digest&quot;, response=&quot;cd38191f9e516f8bec1db94b6ebbbe70&quot;, qop=auth, nc=00000001, cnonce=&quot;3974ef655cf00058&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.737 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BL7OYrERYdkNMTUxMTE4MDY1NTcxOCNvBfPdIefEm9OjN33zU5A=&quot;, uri=&quot;/digest&quot;, response=&quot;cd38191f9e516f8bec1db94b6ebbbe70&quot;, qop=auth, nc=00000001, cnonce=&quot;3974ef655cf00058&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.737 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1ea74834 for /digest
06:24:15.737 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BL7OYrERYdkNMTUxMTE4MDY1NTcxOCNvBfPdIefEm9OjN33zU5A=&quot;, uri=&quot;/digest&quot;, response=&quot;cd38191f9e516f8bec1db94b6ebbbe70&quot;, qop=auth, nc=00000001, cnonce=&quot;3974ef655cf00058&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36101]} response {}}
06:24:15.738 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;9k6ixfstjFsNMTUxMTE4MDY1NTczONcka2WwxYbvvXJ1t9fzDkg=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
06:24:15.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;9k6ixfstjFsNMTUxMTE4MDY1NTczONcka2WwxYbvvXJ1t9fzDkg=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
06:24:15.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36101 requested authentication
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34482&lt;-&gt;127.0.0.1:36101
06:24:15.739 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.740 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1d9581ed
06:24:15.748 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4e417cb6
06:24:15.754 [XNIO-41 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-1', selector sun.nio.ch.EPollSelectorImpl@39532639
06:24:15.754 [XNIO-41 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-2', selector sun.nio.ch.EPollSelectorImpl@30a962a7
06:24:15.762 [XNIO-41 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6cfc387a
06:24:15.763 [XNIO-41 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2777da5b
06:24:15.780 [XNIO-41 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-5', selector sun.nio.ch.EPollSelectorImpl@28d003f7
06:24:15.783 [XNIO-41 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6b9cad66
06:24:15.784 [XNIO-41 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-7', selector sun.nio.ch.EPollSelectorImpl@af488f4
06:24:15.784 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.785 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.784 [XNIO-41 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5a33b6b0
06:24:15.786 [XNIO-41 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 Accept', selector sun.nio.ch.EPollSelectorImpl@5362a553
06:24:15.787 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.787 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.788 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35545
06:24:15.788 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:35545
06:24:15.788 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35545
06:24:15.788 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:35545 with timeout 0
06:24:15.788 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:15.788 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:15.788 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:15.823 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:15.823 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:15.823 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:15.823 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.823 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:15.823 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60770&lt;-&gt;127.0.0.1:35545
06:24:15.823 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.823 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.823 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
06:24:15.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:35545
06:24:15.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
06:24:15.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:35545[\r][\n]&quot;
06:24:15.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.825 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.825 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.825 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6ce112f3 for /digest
06:24:15.825 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.825 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;c11a0EllewQNMTUxMTE4MDY1NTgyNe2sqO9maKicS0FLNiovxoA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
06:24:15.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;c11a0EllewQNMTUxMTE4MDY1NTgyNe2sqO9maKicS0FLNiovxoA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
06:24:15.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35545 requested authentication
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.826 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.827 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
06:24:15.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:35545
06:24:15.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
06:24:15.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;c11a0EllewQNMTUxMTE4MDY1NTgyNe2sqO9maKicS0FLNiovxoA=&quot;, uri=&quot;/digest&quot;, response=&quot;b926436f5fbfde7ab22fab065a5736d9&quot;, qop=auth, nc=00000001, cnonce=&quot;2453fd7a84029117&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:35545[\r][\n]&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;c11a0EllewQNMTUxMTE4MDY1NTgyNe2sqO9maKicS0FLNiovxoA=&quot;, uri=&quot;/digest&quot;, response=&quot;b926436f5fbfde7ab22fab065a5736d9&quot;, qop=auth, nc=00000001, cnonce=&quot;2453fd7a84029117&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.846 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;c11a0EllewQNMTUxMTE4MDY1NTgyNe2sqO9maKicS0FLNiovxoA=&quot;, uri=&quot;/digest&quot;, response=&quot;b926436f5fbfde7ab22fab065a5736d9&quot;, qop=auth, nc=00000001, cnonce=&quot;2453fd7a84029117&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.847 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.847 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;c11a0EllewQNMTUxMTE4MDY1NTgyNe2sqO9maKicS0FLNiovxoA=&quot;, uri=&quot;/digest&quot;, response=&quot;b926436f5fbfde7ab22fab065a5736d9&quot;, qop=auth, nc=00000001, cnonce=&quot;2453fd7a84029117&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;c11a0EllewQNMTUxMTE4MDY1NTgyNe2sqO9maKicS0FLNiovxoA=&quot;, uri=&quot;/digest&quot;, response=&quot;b926436f5fbfde7ab22fab065a5736d9&quot;, qop=auth, nc=00000001, cnonce=&quot;2453fd7a84029117&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.847 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;c11a0EllewQNMTUxMTE4MDY1NTgyNe2sqO9maKicS0FLNiovxoA=&quot;, uri=&quot;/digest&quot;, response=&quot;b926436f5fbfde7ab22fab065a5736d9&quot;, qop=auth, nc=00000001, cnonce=&quot;2453fd7a84029117&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.847 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6ce112f3 for /digest
06:24:15.847 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;c11a0EllewQNMTUxMTE4MDY1NTgyNe2sqO9maKicS0FLNiovxoA=&quot;, uri=&quot;/digest&quot;, response=&quot;b926436f5fbfde7ab22fab065a5736d9&quot;, qop=auth, nc=00000001, cnonce=&quot;2453fd7a84029117&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.848 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;DKnC8/U1t9kNMTUxMTE4MDY1NTg0N+dfo9twIZdu5vHPNQSl984=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.848 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.848 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
06:24:15.848 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;DKnC8/U1t9kNMTUxMTE4MDY1NTg0N+dfo9twIZdu5vHPNQSl984=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.848 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
06:24:15.848 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.848 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.848 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.848 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35545 requested authentication
06:24:15.848 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.848 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.849 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60770&lt;-&gt;127.0.0.1:35545
06:24:15.849 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.849 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.849 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.850 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35545
06:24:15.850 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.850 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.850 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
06:24:15.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:35545
06:24:15.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
06:24:15.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:35545[\r][\n]&quot;
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.854 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.854 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.854 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6ce112f3 for /digest
06:24:15.854 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.855 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.855 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.855 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.855 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;FS1GfI1AWP8NMTUxMTE4MDY1NTg1NLgtJDzlCGJi+K8isFmolrg=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.855 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.855 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.855 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.855 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.855 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
06:24:15.855 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;FS1GfI1AWP8NMTUxMTE4MDY1NTg1NLgtJDzlCGJi+K8isFmolrg=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.855 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
06:24:15.855 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.855 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.855 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.855 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35545 requested authentication
06:24:15.855 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:15.855 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:15.855 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:15.855 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:15.856 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:15.856 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:15.856 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
06:24:15.856 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:15.856 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:15.856 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; PATCH /digest HTTP/1.1
06:24:15.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
06:24:15.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:35545
06:24:15.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
06:24:15.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.856 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FS1GfI1AWP8NMTUxMTE4MDY1NTg1NLgtJDzlCGJi+K8isFmolrg=&quot;, uri=&quot;/digest&quot;, response=&quot;db154db12933ec687bfde520587550ec&quot;, qop=auth, nc=00000001, cnonce=&quot;c675f5a94774bcba&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:35545[\r][\n]&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FS1GfI1AWP8NMTUxMTE4MDY1NTg1NLgtJDzlCGJi+K8isFmolrg=&quot;, uri=&quot;/digest&quot;, response=&quot;db154db12933ec687bfde520587550ec&quot;, qop=auth, nc=00000001, cnonce=&quot;c675f5a94774bcba&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.856 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.878 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FS1GfI1AWP8NMTUxMTE4MDY1NTg1NLgtJDzlCGJi+K8isFmolrg=&quot;, uri=&quot;/digest&quot;, response=&quot;db154db12933ec687bfde520587550ec&quot;, qop=auth, nc=00000001, cnonce=&quot;c675f5a94774bcba&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.878 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:15.878 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FS1GfI1AWP8NMTUxMTE4MDY1NTg1NLgtJDzlCGJi+K8isFmolrg=&quot;, uri=&quot;/digest&quot;, response=&quot;db154db12933ec687bfde520587550ec&quot;, qop=auth, nc=00000001, cnonce=&quot;c675f5a94774bcba&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FS1GfI1AWP8NMTUxMTE4MDY1NTg1NLgtJDzlCGJi+K8isFmolrg=&quot;, uri=&quot;/digest&quot;, response=&quot;db154db12933ec687bfde520587550ec&quot;, qop=auth, nc=00000001, cnonce=&quot;c675f5a94774bcba&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.878 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FS1GfI1AWP8NMTUxMTE4MDY1NTg1NLgtJDzlCGJi+K8isFmolrg=&quot;, uri=&quot;/digest&quot;, response=&quot;db154db12933ec687bfde520587550ec&quot;, qop=auth, nc=00000001, cnonce=&quot;c675f5a94774bcba&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.878 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6ce112f3 for /digest
06:24:15.879 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;FS1GfI1AWP8NMTUxMTE4MDY1NTg1NLgtJDzlCGJi+K8isFmolrg=&quot;, uri=&quot;/digest&quot;, response=&quot;db154db12933ec687bfde520587550ec&quot;, qop=auth, nc=00000001, cnonce=&quot;c675f5a94774bcba&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35545]} response {}}
06:24:15.879 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:15.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:15.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;WmWuc2ZKapYNMTUxMTE4MDY1NTg3OXAokldNUEbtnMtPgQWZV+M=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:15.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:15.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
06:24:15.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;WmWuc2ZKapYNMTUxMTE4MDY1NTg3OXAokldNUEbtnMtPgQWZV+M=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:15.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
06:24:15.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.880 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.880 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:15.880 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35545 requested authentication
06:24:15.880 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:15.880 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:15.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60770&lt;-&gt;127.0.0.1:35545
06:24:15.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.881 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4e417cb6
06:24:15.889 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7a247309
06:24:15.894 [XNIO-42 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3d760ead
06:24:15.898 [XNIO-42 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-2', selector sun.nio.ch.EPollSelectorImpl@357894b7
06:24:15.899 [XNIO-42 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5650ad6d
06:24:15.901 [XNIO-42 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-4', selector sun.nio.ch.EPollSelectorImpl@70d0a67c
06:24:15.906 [XNIO-42 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-7', selector sun.nio.ch.EPollSelectorImpl@142104ed
06:24:15.906 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.907 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.901 [XNIO-42 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-5', selector sun.nio.ch.EPollSelectorImpl@37b6c26b
06:24:15.901 [XNIO-42 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-6', selector sun.nio.ch.EPollSelectorImpl@23e8267c
06:24:15.910 [XNIO-42 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-8', selector sun.nio.ch.EPollSelectorImpl@14792f98
06:24:15.906 [XNIO-42 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 Accept', selector sun.nio.ch.EPollSelectorImpl@42da70ff
06:24:15.930 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.930 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.930 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35455
06:24:15.930 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35455
06:24:15.930 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35455
06:24:15.933 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43848&lt;-&gt;127.0.0.1:35455
06:24:15.933 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /pass HTTP/1.1
06:24:15.933 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.933 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; PATCH /pass HTTP/1.1
06:24:15.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
06:24:15.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:35455
06:24:15.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
06:24:15.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;PATCH /pass HTTP/1.1[\r][\n]&quot;
06:24:15.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:35455[\r][\n]&quot;
06:24:15.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.942 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35455]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:15.943 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:15.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 200 OK
06:24:15.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Encoding: gzip
06:24:15.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
06:24:15.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Type: text/plain
06:24:15.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 27
06:24:15.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.944 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.944 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43848&lt;-&gt;127.0.0.1:35455
06:24:15.944 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.945 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.945 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.945 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35455
06:24:15.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /pass HTTP/1.1
06:24:15.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; PATCH /pass HTTP/1.1
06:24:15.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:15.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
06:24:15.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:35455
06:24:15.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
06:24:15.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.945 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;PATCH /pass HTTP/1.1[\r][\n]&quot;
06:24:15.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:15.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:15.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:35455[\r][\n]&quot;
06:24:15.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.945 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:15.950 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35455]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:15.951 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:15.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:15.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:15.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:15.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:15.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:15.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 200 OK
06:24:15.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Encoding: gzip
06:24:15.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
06:24:15.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Type: text/plain
06:24:15.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 27
06:24:15.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:15.952 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.952 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43848&lt;-&gt;127.0.0.1:35455
06:24:15.952 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.953 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7a247309
06:24:15.965 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@63ca6678
06:24:15.972 [XNIO-43 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-1', selector sun.nio.ch.EPollSelectorImpl@55c0486f
06:24:15.974 [XNIO-43 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-2', selector sun.nio.ch.EPollSelectorImpl@103328c2
06:24:15.983 [XNIO-43 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-3', selector sun.nio.ch.EPollSelectorImpl@578ea949
06:24:15.988 [XNIO-43 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-4', selector sun.nio.ch.EPollSelectorImpl@148bcba0
06:24:15.994 [XNIO-43 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-5', selector sun.nio.ch.EPollSelectorImpl@111e33f2
06:24:15.994 [XNIO-43 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3c801e0c
06:24:16.002 [XNIO-43 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-7', selector sun.nio.ch.EPollSelectorImpl@63d7fabf
06:24:16.018 [XNIO-43 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2913f480
06:24:16.020 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.020 [XNIO-43 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 Accept', selector sun.nio.ch.EPollSelectorImpl@593e2fc2
06:24:16.021 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.030 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.030 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.030 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32799
06:24:16.030 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32799
06:24:16.030 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32799
06:24:16.031 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49222&lt;-&gt;127.0.0.1:32799
06:24:16.031 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.031 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.031 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
06:24:16.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:32799
06:24:16.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
06:24:16.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:32799[\r][\n]&quot;
06:24:16.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.034 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32799]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.035 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:16.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:16.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
06:24:16.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
06:24:16.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.035 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49222&lt;-&gt;127.0.0.1:32799
06:24:16.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.037 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.037 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.037 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32799
06:24:16.037 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.037 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.037 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
06:24:16.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:32799
06:24:16.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
06:24:16.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:32799[\r][\n]&quot;
06:24:16.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.039 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32799]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.040 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:16.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:16.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
06:24:16.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
06:24:16.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.041 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.041 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49222&lt;-&gt;127.0.0.1:32799
06:24:16.041 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.041 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@63ca6678
06:24:16.047 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@65675f43
06:24:16.050 [XNIO-44 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-1', selector sun.nio.ch.EPollSelectorImpl@60601708
06:24:16.051 [XNIO-44 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4208d855
06:24:16.052 [XNIO-44 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-3', selector sun.nio.ch.EPollSelectorImpl@765c6b88
06:24:16.054 [XNIO-44 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-4', selector sun.nio.ch.EPollSelectorImpl@772613f7
06:24:16.054 [XNIO-44 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7f91d3ab
06:24:16.054 [XNIO-44 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2ca5e1a1
06:24:16.058 [XNIO-44 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-7', selector sun.nio.ch.EPollSelectorImpl@387596bb
06:24:16.062 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.062 [XNIO-44 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-8', selector sun.nio.ch.EPollSelectorImpl@e25919
06:24:16.062 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.064 [XNIO-44 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 Accept', selector sun.nio.ch.EPollSelectorImpl@3d2146fd
06:24:16.064 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.064 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.065 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46539
06:24:16.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46539
06:24:16.065 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46539
06:24:16.065 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55456&lt;-&gt;127.0.0.1:46539
06:24:16.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Length: 30
06:24:16.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:46539
06:24:16.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
06:24:16.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:46539[\r][\n]&quot;
06:24:16.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.065 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46539]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.066 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:16.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.066 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 210 Unknown
06:24:16.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
06:24:16.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
06:24:16.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.066 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.066 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55456&lt;-&gt;127.0.0.1:46539
06:24:16.067 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.067 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.068 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.068 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46539
06:24:16.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Length: 30
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:46539
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:46539[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.068 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46539]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.069 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:16.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 210 Unknown
06:24:16.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
06:24:16.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
06:24:16.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.070 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.070 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55456&lt;-&gt;127.0.0.1:46539
06:24:16.070 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.070 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@65675f43
06:24:16.072 [XNIO-44 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
06:24:16.074 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@71a48939
06:24:16.080 [XNIO-45 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1212e23f
06:24:16.080 [XNIO-45 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2ed05d14
06:24:16.085 [XNIO-45 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-3', selector sun.nio.ch.EPollSelectorImpl@67ae4eb3
06:24:16.087 [XNIO-45 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3efd37cf
06:24:16.087 [XNIO-45 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-4', selector sun.nio.ch.EPollSelectorImpl@f219b7d
06:24:16.102 [XNIO-45 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-7', selector sun.nio.ch.EPollSelectorImpl@486710ca
06:24:16.102 [XNIO-45 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1ec27898
06:24:16.110 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.110 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.110 [XNIO-45 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-8', selector sun.nio.ch.EPollSelectorImpl@45207aab
06:24:16.116 [XNIO-45 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 Accept', selector sun.nio.ch.EPollSelectorImpl@194aa97e
06:24:16.117 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.117 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.117 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42413
06:24:16.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42413
06:24:16.117 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42413
06:24:16.117 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56482&lt;-&gt;127.0.0.1:42413
06:24:16.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Length: 30
06:24:16.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:42413
06:24:16.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
06:24:16.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:42413[\r][\n]&quot;
06:24:16.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.122 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42413]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.123 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:16.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.124 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 211 Unknown
06:24:16.124 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
06:24:16.124 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
06:24:16.124 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.124 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.124 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56482&lt;-&gt;127.0.0.1:42413
06:24:16.124 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.125 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.125 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.126 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42413
06:24:16.126 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.126 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.126 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Length: 30
06:24:16.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:42413
06:24:16.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
06:24:16.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.126 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:42413[\r][\n]&quot;
06:24:16.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.138 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42413]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.139 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.139 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:16.139 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.139 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.139 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.139 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.139 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 211 Unknown
06:24:16.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
06:24:16.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
06:24:16.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.140 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.140 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56482&lt;-&gt;127.0.0.1:42413
06:24:16.140 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.140 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@71a48939
06:24:16.154 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@967a374
06:24:16.166 [XNIO-46 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-1', selector sun.nio.ch.EPollSelectorImpl@30bdf3ee
06:24:16.177 [XNIO-46 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-3', selector sun.nio.ch.EPollSelectorImpl@915c679
06:24:16.178 [XNIO-46 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-2', selector sun.nio.ch.EPollSelectorImpl@18d40011
06:24:16.177 [XNIO-46 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-4', selector sun.nio.ch.EPollSelectorImpl@410d6da1
06:24:16.182 [XNIO-46 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4e268045
06:24:16.192 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.193 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.180 [XNIO-46 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5d6889d5
06:24:16.180 [XNIO-46 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5b4d80e8
06:24:16.192 [XNIO-46 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5274aca2
06:24:16.194 [XNIO-46 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 Accept', selector sun.nio.ch.EPollSelectorImpl@283966e8
06:24:16.212 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.212 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.212 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40261
06:24:16.212 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40261
06:24:16.212 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40261
06:24:16.213 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36812&lt;-&gt;127.0.0.1:40261
06:24:16.213 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.213 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.213 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Length: 30
06:24:16.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:40261
06:24:16.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
06:24:16.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:40261[\r][\n]&quot;
06:24:16.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.215 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.222 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40261]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.223 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:16.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:16.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
06:24:16.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
06:24:16.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.224 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36812&lt;-&gt;127.0.0.1:40261
06:24:16.224 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.225 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.225 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.225 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40261
06:24:16.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Length: 30
06:24:16.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:40261
06:24:16.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
06:24:16.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:40261[\r][\n]&quot;
06:24:16.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.227 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40261]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.228 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:16.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:16.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
06:24:16.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
06:24:16.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.229 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36812&lt;-&gt;127.0.0.1:40261
06:24:16.229 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.229 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@967a374
06:24:16.235 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2cc4e9bd
06:24:16.238 [XNIO-47 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-1', selector sun.nio.ch.EPollSelectorImpl@54babbd7
06:24:16.239 [XNIO-47 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1b8cf500
06:24:16.258 [XNIO-47 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-3', selector sun.nio.ch.EPollSelectorImpl@42b7ca08
06:24:16.258 [XNIO-47 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6c0f8495
06:24:16.258 [XNIO-47 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-5', selector sun.nio.ch.EPollSelectorImpl@35bc2f06
06:24:16.258 [XNIO-47 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2af3f466
06:24:16.266 [XNIO-47 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2abf11f
06:24:16.266 [XNIO-47 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-8', selector sun.nio.ch.EPollSelectorImpl@592267a0
06:24:16.266 [XNIO-47 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 Accept', selector sun.nio.ch.EPollSelectorImpl@24e8bb96
06:24:16.267 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.269 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.271 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.272 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.272 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32999
06:24:16.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32999
06:24:16.272 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32999
06:24:16.272 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40580&lt;-&gt;127.0.0.1:32999
06:24:16.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Length: 30
06:24:16.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:32999
06:24:16.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
06:24:16.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:32999[\r][\n]&quot;
06:24:16.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.286 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32999]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.287 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:16.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 210 Unknown
06:24:16.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
06:24:16.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
06:24:16.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.287 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.287 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40580&lt;-&gt;127.0.0.1:32999
06:24:16.287 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.288 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.288 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.288 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32999
06:24:16.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Length: 30
06:24:16.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:32999
06:24:16.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
06:24:16.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:32999[\r][\n]&quot;
06:24:16.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.302 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32999]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.303 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:16.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 210 Unknown
06:24:16.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
06:24:16.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
06:24:16.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.303 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.303 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40580&lt;-&gt;127.0.0.1:32999
06:24:16.303 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.304 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2cc4e9bd
06:24:16.307 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5f7175a6
06:24:16.314 [XNIO-48 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-2', selector sun.nio.ch.EPollSelectorImpl@11dc98c
06:24:16.314 [XNIO-48 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-1', selector sun.nio.ch.EPollSelectorImpl@73634c2d
06:24:16.318 [XNIO-48 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2f772a33
06:24:16.322 [XNIO-48 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-4', selector sun.nio.ch.EPollSelectorImpl@400568d4
06:24:16.322 [XNIO-48 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1e32d4aa
06:24:16.334 [XNIO-48 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-6', selector sun.nio.ch.EPollSelectorImpl@c481c88
06:24:16.338 [XNIO-48 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-7', selector sun.nio.ch.EPollSelectorImpl@56be9d28
06:24:16.360 [XNIO-48 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6c59b8e2
06:24:16.360 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.361 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.367 [XNIO-48 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 Accept', selector sun.nio.ch.EPollSelectorImpl@44daa30a
06:24:16.367 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.367 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.367 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33461
06:24:16.367 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33461
06:24:16.367 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33461
06:24:16.367 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55562&lt;-&gt;127.0.0.1:33461
06:24:16.367 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.367 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.367 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Length: 30
06:24:16.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:33461
06:24:16.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
06:24:16.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:33461[\r][\n]&quot;
06:24:16.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.370 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33461]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.370 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:16.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 211 Unknown
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.371 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.371 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55562&lt;-&gt;127.0.0.1:33461
06:24:16.371 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.371 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.371 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.371 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33461
06:24:16.371 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.371 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.371 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Length: 30
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:33461
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:33461[\r][\n]&quot;
06:24:16.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.372 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.372 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33461]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.373 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.373 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:16.373 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.373 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.373 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.373 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.373 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 211 Unknown
06:24:16.373 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
06:24:16.373 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
06:24:16.373 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.373 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.373 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55562&lt;-&gt;127.0.0.1:33461
06:24:16.373 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.374 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5f7175a6
06:24:16.382 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3a76188c
06:24:16.396 [XNIO-49 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-3', selector sun.nio.ch.EPollSelectorImpl@bdc8251
06:24:16.397 [XNIO-49 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4d056fef
06:24:16.396 [XNIO-49 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7957a7a7
06:24:16.401 [XNIO-49 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-4', selector sun.nio.ch.EPollSelectorImpl@209a3372
06:24:16.401 [XNIO-49 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6b469c79
06:24:16.401 [XNIO-49 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-6', selector sun.nio.ch.EPollSelectorImpl@9b64aad
06:24:16.415 [XNIO-49 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-7', selector sun.nio.ch.EPollSelectorImpl@30bf1b0f
06:24:16.418 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.418 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.418 [XNIO-49 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-8', selector sun.nio.ch.EPollSelectorImpl@54acd6b0
06:24:16.421 [XNIO-49 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 Accept', selector sun.nio.ch.EPollSelectorImpl@42f4c558
06:24:16.432 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.432 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.432 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44837
06:24:16.432 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44837
06:24:16.432 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44837
06:24:16.432 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39036&lt;-&gt;127.0.0.1:44837
06:24:16.432 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.432 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.432 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Length: 30
06:24:16.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:44837
06:24:16.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
06:24:16.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.432 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:44837[\r][\n]&quot;
06:24:16.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.432 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.438 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44837]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.439 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
06:24:16.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
06:24:16.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
06:24:16.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.439 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.439 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39036&lt;-&gt;127.0.0.1:44837
06:24:16.439 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.440 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.440 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.440 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44837
06:24:16.440 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.440 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.440 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Length: 30
06:24:16.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:44837
06:24:16.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
06:24:16.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:44837[\r][\n]&quot;
06:24:16.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.442 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44837]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.443 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
06:24:16.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
06:24:16.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
06:24:16.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.443 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.443 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39036&lt;-&gt;127.0.0.1:44837
06:24:16.443 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.443 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3a76188c
06:24:16.449 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7355b57a
06:24:16.452 [XNIO-50 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3a63c946
06:24:16.452 [XNIO-50 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-4', selector sun.nio.ch.EPollSelectorImpl@161a0ad1
06:24:16.452 [XNIO-50 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2338e5ab
06:24:16.454 [XNIO-50 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-5', selector sun.nio.ch.EPollSelectorImpl@52dfb3cd
06:24:16.454 [XNIO-50 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4738aa0c
06:24:16.454 [XNIO-50 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-7', selector sun.nio.ch.EPollSelectorImpl@51e0ae35
06:24:16.452 [XNIO-50 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-3', selector sun.nio.ch.EPollSelectorImpl@678413c0
06:24:16.460 [XNIO-50 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2af10c78
06:24:16.460 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.460 [XNIO-50 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 Accept', selector sun.nio.ch.EPollSelectorImpl@32aee1c8
06:24:16.461 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.463 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.463 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.463 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41175
06:24:16.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41175
06:24:16.463 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41175
06:24:16.463 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40362&lt;-&gt;127.0.0.1:41175
06:24:16.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Length: 30
06:24:16.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:41175
06:24:16.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
06:24:16.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:41175[\r][\n]&quot;
06:24:16.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.467 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41175]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.468 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:16.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:16.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
06:24:16.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
06:24:16.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.469 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.469 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40362&lt;-&gt;127.0.0.1:41175
06:24:16.469 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.470 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.470 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.470 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41175
06:24:16.470 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.470 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.470 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Length: 30
06:24:16.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:41175
06:24:16.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
06:24:16.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.470 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:41175[\r][\n]&quot;
06:24:16.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.482 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41175]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.483 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:16.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:16.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
06:24:16.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
06:24:16.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.483 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40362&lt;-&gt;127.0.0.1:41175
06:24:16.483 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.484 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7355b57a
06:24:16.487 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@19662d77
06:24:16.489 [XNIO-51 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4f850e28
06:24:16.488 [XNIO-51 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-1', selector sun.nio.ch.EPollSelectorImpl@494769f7
06:24:16.490 [XNIO-51 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-3', selector sun.nio.ch.EPollSelectorImpl@50a553e5
06:24:16.490 [XNIO-51 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2e706c0d
06:24:16.491 [XNIO-51 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-5', selector sun.nio.ch.EPollSelectorImpl@55cddcfe
06:24:16.494 [XNIO-51 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-6', selector sun.nio.ch.EPollSelectorImpl@28b16610
06:24:16.494 [XNIO-51 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-7', selector sun.nio.ch.EPollSelectorImpl@60bc2657
06:24:16.495 [XNIO-51 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6d287600
06:24:16.495 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.495 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.496 [XNIO-51 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 Accept', selector sun.nio.ch.EPollSelectorImpl@245ecb96
06:24:16.497 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.497 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.497 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39791
06:24:16.497 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39791
06:24:16.497 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39791
06:24:16.497 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52806&lt;-&gt;127.0.0.1:39791
06:24:16.497 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.497 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.497 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Length: 30
06:24:16.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:39791
06:24:16.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
06:24:16.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:39791[\r][\n]&quot;
06:24:16.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.498 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39791]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.499 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
06:24:16.499 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.500 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.500 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52806&lt;-&gt;127.0.0.1:39791
06:24:16.500 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.500 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.500 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.500 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39791
06:24:16.500 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.500 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.500 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Length: 30
06:24:16.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:39791
06:24:16.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
06:24:16.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.500 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:39791[\r][\n]&quot;
06:24:16.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.500 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.503 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39791]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.504 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:16.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:16.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
06:24:16.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
06:24:16.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.504 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.504 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52806&lt;-&gt;127.0.0.1:39791
06:24:16.504 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.505 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@19662d77
06:24:16.506 [XNIO-51 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
06:24:16.510 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2b125929
06:24:16.511 [XNIO-52 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2d3dff52
06:24:16.512 [XNIO-52 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-2', selector sun.nio.ch.EPollSelectorImpl@83b605d
06:24:16.512 [XNIO-52 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1903adde
06:24:16.512 [XNIO-52 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-4', selector sun.nio.ch.EPollSelectorImpl@125709a8
06:24:16.512 [XNIO-52 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-5', selector sun.nio.ch.EPollSelectorImpl@50c47123
06:24:16.512 [XNIO-52 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-6', selector sun.nio.ch.EPollSelectorImpl@12e7db2d
06:24:16.512 [XNIO-52 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-8', selector sun.nio.ch.EPollSelectorImpl@43a42f7b
06:24:16.512 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.512 [XNIO-52 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5f1a3baf
06:24:16.513 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.514 [XNIO-52 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 Accept', selector sun.nio.ch.EPollSelectorImpl@57ddfb07
06:24:16.515 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.515 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.515 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44429
06:24:16.515 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44429
06:24:16.515 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44429
06:24:16.515 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51710&lt;-&gt;127.0.0.1:44429
06:24:16.515 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.515 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.515 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Length: 30
06:24:16.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:44429
06:24:16.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
06:24:16.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:44429[\r][\n]&quot;
06:24:16.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.516 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44429]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.517 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:16.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:16.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
06:24:16.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
06:24:16.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.517 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.517 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51710&lt;-&gt;127.0.0.1:44429
06:24:16.517 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.518 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.518 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44429
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.518 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Length: 30
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:44429
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.518 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:44429[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.518 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.530 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44429]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.531 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:16.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:16.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
06:24:16.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
06:24:16.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.532 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.532 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51710&lt;-&gt;127.0.0.1:44429
06:24:16.532 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.532 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2b125929
06:24:16.539 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@675a600f
06:24:16.558 [XNIO-53 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-1', selector sun.nio.ch.EPollSelectorImpl@c465db2
06:24:16.558 [XNIO-53 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6cfdfe45
06:24:16.586 [XNIO-53 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5838eec1
06:24:16.586 [XNIO-53 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-4', selector sun.nio.ch.EPollSelectorImpl@24957f6a
06:24:16.586 [XNIO-53 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-5', selector sun.nio.ch.EPollSelectorImpl@78696547
06:24:16.586 [XNIO-53 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-6', selector sun.nio.ch.EPollSelectorImpl@51054fc5
06:24:16.605 [XNIO-53 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2bcbbd4a
06:24:16.610 [XNIO-53 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2a7e42f2
06:24:16.610 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.611 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.614 [XNIO-53 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 Accept', selector sun.nio.ch.EPollSelectorImpl@26a6ca33
06:24:16.646 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.646 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.646 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35109
06:24:16.646 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35109
06:24:16.646 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35109
06:24:16.646 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59426&lt;-&gt;127.0.0.1:35109
06:24:16.647 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.647 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.647 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Length: 30
06:24:16.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:35109
06:24:16.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
06:24:16.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:35109[\r][\n]&quot;
06:24:16.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.652 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35109]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.652 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 200 OK
06:24:16.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
06:24:16.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
06:24:16.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.653 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.653 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59426&lt;-&gt;127.0.0.1:35109
06:24:16.653 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.654 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.654 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.654 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35109
06:24:16.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Length: 30
06:24:16.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:35109
06:24:16.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
06:24:16.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:35109[\r][\n]&quot;
06:24:16.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.657 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35109]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.658 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 200 OK
06:24:16.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
06:24:16.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
06:24:16.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.659 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.659 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59426&lt;-&gt;127.0.0.1:35109
06:24:16.659 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.659 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@675a600f
06:24:16.663 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@477e3754
06:24:16.664 [XNIO-54 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-1', selector sun.nio.ch.EPollSelectorImpl@21657521
06:24:16.666 [XNIO-54 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-2', selector sun.nio.ch.EPollSelectorImpl@e2625ab
06:24:16.667 [XNIO-54 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4604c21b
06:24:16.667 [XNIO-54 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-5', selector sun.nio.ch.EPollSelectorImpl@40fc6b5a
06:24:16.667 [XNIO-54 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3fe6db36
06:24:16.682 [XNIO-54 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-6', selector sun.nio.ch.EPollSelectorImpl@15a2f633
06:24:16.683 [XNIO-54 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-7', selector sun.nio.ch.EPollSelectorImpl@30d05185
06:24:16.683 [XNIO-54 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1a5a991d
06:24:16.683 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.683 [XNIO-54 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 Accept', selector sun.nio.ch.EPollSelectorImpl@428b7786
06:24:16.684 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.686 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.686 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.686 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34229
06:24:16.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34229
06:24:16.686 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34229
06:24:16.686 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53602&lt;-&gt;127.0.0.1:34229
06:24:16.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 30
06:24:16.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:34229
06:24:16.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
06:24:16.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:34229[\r][\n]&quot;
06:24:16.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.694 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34229]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.695 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:16.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:16.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
06:24:16.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 0
06:24:16.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.695 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53602&lt;-&gt;127.0.0.1:34229
06:24:16.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.696 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.696 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.696 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34229
06:24:16.696 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.696 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.696 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 30
06:24:16.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:34229
06:24:16.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
06:24:16.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:34229[\r][\n]&quot;
06:24:16.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.702 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34229]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.702 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:16.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.703 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:16.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
06:24:16.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 0
06:24:16.703 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.703 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.703 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53602&lt;-&gt;127.0.0.1:34229
06:24:16.703 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.703 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@477e3754
06:24:16.707 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@12278d0a
06:24:16.717 [XNIO-55 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3d0b317c
06:24:16.718 [XNIO-55 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-3', selector sun.nio.ch.EPollSelectorImpl@36454e7e
06:24:16.717 [XNIO-55 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-2', selector sun.nio.ch.EPollSelectorImpl@442fd308
06:24:16.722 [XNIO-55 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6ebe478d
06:24:16.725 [XNIO-55 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-5', selector sun.nio.ch.EPollSelectorImpl@405ec082
06:24:16.726 [XNIO-55 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5248f2fe
06:24:16.730 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.731 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.726 [XNIO-55 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-7', selector sun.nio.ch.EPollSelectorImpl@c9e3058
06:24:16.730 [XNIO-55 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 Accept', selector sun.nio.ch.EPollSelectorImpl@6bac757a
06:24:16.730 [XNIO-55 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-8', selector sun.nio.ch.EPollSelectorImpl@350d962a
06:24:16.733 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.733 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.733 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39259
06:24:16.733 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39259
06:24:16.734 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39259
06:24:16.734 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59396&lt;-&gt;127.0.0.1:39259
06:24:16.734 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.734 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.734 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 30
06:24:16.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:39259
06:24:16.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
06:24:16.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:39259[\r][\n]&quot;
06:24:16.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.734 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39259]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.735 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:16.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.735 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:16.735 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
06:24:16.735 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 0
06:24:16.735 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.735 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.735 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59396&lt;-&gt;127.0.0.1:39259
06:24:16.735 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.736 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.736 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.736 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39259
06:24:16.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 30
06:24:16.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:39259
06:24:16.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
06:24:16.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:39259[\r][\n]&quot;
06:24:16.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.737 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39259]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.738 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:16.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:16.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
06:24:16.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 0
06:24:16.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.738 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59396&lt;-&gt;127.0.0.1:39259
06:24:16.738 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.739 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@12278d0a
06:24:16.742 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4f957ff8
06:24:16.745 [XNIO-56 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-2', selector sun.nio.ch.EPollSelectorImpl@144edb8c
06:24:16.745 [XNIO-56 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-1', selector sun.nio.ch.EPollSelectorImpl@123d691f
06:24:16.745 [XNIO-56 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1743eb30
06:24:16.746 [XNIO-56 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-4', selector sun.nio.ch.EPollSelectorImpl@76c04acb
06:24:16.746 [XNIO-56 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-5', selector sun.nio.ch.EPollSelectorImpl@197011df
06:24:16.746 [XNIO-56 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-8', selector sun.nio.ch.EPollSelectorImpl@53edf42b
06:24:16.746 [XNIO-56 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-6', selector sun.nio.ch.EPollSelectorImpl@d5ea395
06:24:16.746 [XNIO-56 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7eb22cbf
06:24:16.750 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.750 [XNIO-56 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 Accept', selector sun.nio.ch.EPollSelectorImpl@433494f1
06:24:16.750 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.754 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.754 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.754 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35893
06:24:16.754 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35893
06:24:16.754 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35893
06:24:16.755 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60476&lt;-&gt;127.0.0.1:35893
06:24:16.755 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.755 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.755 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 30
06:24:16.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:35893
06:24:16.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
06:24:16.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:35893[\r][\n]&quot;
06:24:16.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.764 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35893]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.765 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.765 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:16.765 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.765 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.765 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.765 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:16.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
06:24:16.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 0
06:24:16.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.765 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.766 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60476&lt;-&gt;127.0.0.1:35893
06:24:16.766 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.767 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.767 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.767 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35893
06:24:16.767 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
06:24:16.767 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.767 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; PATCH /handling HTTP/1.1
06:24:16.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 30
06:24:16.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:35893
06:24:16.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
06:24:16.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
06:24:16.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:35893[\r][\n]&quot;
06:24:16.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.770 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35893]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.770 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:16.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:16.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:16.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.771 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:16.771 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
06:24:16.771 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 0
06:24:16.771 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.771 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.771 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60476&lt;-&gt;127.0.0.1:35893
06:24:16.771 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.771 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4f957ff8
06:24:16.783 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2ea97abe
06:24:16.784 [XNIO-57 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4e97eaa9
06:24:16.784 [XNIO-57 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3e406d3a
06:24:16.784 [XNIO-57 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-3', selector sun.nio.ch.EPollSelectorImpl@244a08f
06:24:16.786 [XNIO-57 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-4', selector sun.nio.ch.EPollSelectorImpl@113a33a7
06:24:16.790 [XNIO-57 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-5', selector sun.nio.ch.EPollSelectorImpl@24cdcb44
06:24:16.791 [XNIO-57 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1727f300
06:24:16.794 [XNIO-57 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-7', selector sun.nio.ch.EPollSelectorImpl@68f6945d
06:24:16.802 [XNIO-57 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-8', selector sun.nio.ch.EPollSelectorImpl@731fbbe5
06:24:16.805 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.805 [XNIO-57 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 Accept', selector sun.nio.ch.EPollSelectorImpl@2d22b1fd
06:24:16.806 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.815 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.815 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.815 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34165
06:24:16.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34165
06:24:16.815 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34165
06:24:16.815 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33170&lt;-&gt;127.0.0.1:34165
06:24:16.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /gzip HTTP/1.1
06:24:16.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; PATCH /gzip HTTP/1.1
06:24:16.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip
06:24:16.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 30
06:24:16.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:34165
06:24:16.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
06:24:16.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;PATCH /gzip HTTP/1.1[\r][\n]&quot;
06:24:16.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
06:24:16.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:34165[\r][\n]&quot;
06:24:16.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.818 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34165]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.818 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
06:24:16.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
06:24:16.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
06:24:16.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 200 OK
06:24:16.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
06:24:16.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
06:24:16.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: text/plain
06:24:16.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 29
06:24:16.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.819 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.827 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33170&lt;-&gt;127.0.0.1:34165
06:24:16.827 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.827 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.828 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.828 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34165
06:24:16.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /gzip HTTP/1.1
06:24:16.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; PATCH /gzip HTTP/1.1
06:24:16.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip
06:24:16.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 30
06:24:16.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:34165
06:24:16.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
06:24:16.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;PATCH /gzip HTTP/1.1[\r][\n]&quot;
06:24:16.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
06:24:16.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
06:24:16.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:34165[\r][\n]&quot;
06:24:16.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
06:24:16.830 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34165]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
06:24:16.830 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
06:24:16.831 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.831 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.831 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.831 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.831 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
06:24:16.831 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.831 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.831 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
06:24:16.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 200 OK
06:24:16.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
06:24:16.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
06:24:16.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: text/plain
06:24:16.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 29
06:24:16.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.831 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.832 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33170&lt;-&gt;127.0.0.1:34165
06:24:16.832 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.832 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2ea97abe
06:24:16.838 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@437e6ce7
06:24:16.842 [XNIO-58 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-2', selector sun.nio.ch.EPollSelectorImpl@d6b8cbe
06:24:16.846 [XNIO-58 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1fb43eec
06:24:16.854 [XNIO-58 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-4', selector sun.nio.ch.EPollSelectorImpl@20c6fe6c
06:24:16.857 [XNIO-58 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-5', selector sun.nio.ch.EPollSelectorImpl@15b4c38a
06:24:16.860 [XNIO-58 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-6', selector sun.nio.ch.EPollSelectorImpl@57966a05
06:24:16.842 [XNIO-58 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-1', selector sun.nio.ch.EPollSelectorImpl@53785c9d
06:24:16.866 [XNIO-58 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1d21358f
06:24:16.866 [XNIO-58 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-8', selector sun.nio.ch.EPollSelectorImpl@51915951
06:24:16.866 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.867 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.867 [XNIO-58 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 Accept', selector sun.nio.ch.EPollSelectorImpl@fc2d060
06:24:16.872 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.872 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.872 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35793
06:24:16.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35793
06:24:16.873 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35793
06:24:16.873 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56448&lt;-&gt;127.0.0.1:35793
06:24:16.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
06:24:16.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.873 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; PATCH /types HTTP/1.1
06:24:16.873 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.873 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 19
06:24:16.873 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:35793
06:24:16.873 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
06:24:16.873 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.873 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
06:24:16.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
06:24:16.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:35793[\r][\n]&quot;
06:24:16.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
06:24:16.874 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35793]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
06:24:16.875 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.875 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
06:24:16.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
06:24:16.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
06:24:16.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: text/plain
06:24:16.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 27
06:24:16.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.875 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.876 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56448&lt;-&gt;127.0.0.1:35793
06:24:16.876 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.876 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.876 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.876 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35793
06:24:16.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
06:24:16.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; PATCH /types HTTP/1.1
06:24:16.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/json; charset=utf-8
06:24:16.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 19
06:24:16.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:35793
06:24:16.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
06:24:16.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
06:24:16.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
06:24:16.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
06:24:16.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:35793[\r][\n]&quot;
06:24:16.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
06:24:16.878 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35793]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
06:24:16.879 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
06:24:16.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
06:24:16.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
06:24:16.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: text/plain
06:24:16.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 27
06:24:16.879 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.879 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56448&lt;-&gt;127.0.0.1:35793
06:24:16.880 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.880 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@437e6ce7
06:24:16.880 [XNIO-58 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /types request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35793]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Mon, 20 Nov 2017 12:24:10 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
06:24:16.887 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7baa27b3
06:24:16.890 [XNIO-59 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3712c7c3
06:24:16.906 [XNIO-59 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-2', selector sun.nio.ch.EPollSelectorImpl@bfac2d6
06:24:16.907 [XNIO-59 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-3', selector sun.nio.ch.EPollSelectorImpl@222a223c
06:24:16.910 [XNIO-59 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3333e44e
06:24:16.913 [XNIO-59 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-5', selector sun.nio.ch.EPollSelectorImpl@38dd1986
06:24:16.922 [XNIO-59 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4f41f90c
06:24:16.934 [XNIO-59 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2562ceec
06:24:16.972 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:16.974 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.974 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-52: Shutdown connection
06:24:16.974 [XNIO-59 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 Accept', selector sun.nio.ch.EPollSelectorImpl@398e1fc3
06:24:16.972 [XNIO-59 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-8', selector sun.nio.ch.EPollSelectorImpl@45e57a14
06:24:16.978 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.978 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:16.980 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-53: Shutdown connection
06:24:16.980 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.980 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-54: Shutdown connection
06:24:16.980 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.981 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-55: Shutdown connection
06:24:16.981 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.981 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-47: Shutdown connection
06:24:16.981 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.981 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-48: Shutdown connection
06:24:16.982 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.982 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-49: Shutdown connection
06:24:16.982 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.982 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-50: Shutdown connection
06:24:16.982 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.982 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-51: Shutdown connection
06:24:16.983 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.983 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-42: Shutdown connection
06:24:16.983 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.983 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-43: Shutdown connection
06:24:16.983 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.983 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-44: Shutdown connection
06:24:16.983 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.983 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-45: Shutdown connection
06:24:16.984 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.984 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-46: Shutdown connection
06:24:16.984 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.984 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-39: Shutdown connection
06:24:16.984 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.984 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-40: Shutdown connection
06:24:16.984 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.984 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-41: Shutdown connection
06:24:16.985 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.985 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-36: Shutdown connection
06:24:16.985 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.985 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-37: Shutdown connection
06:24:16.986 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-38: Shutdown connection
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-33: Shutdown connection
06:24:16.986 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-34: Shutdown connection
06:24:16.986 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34407
06:24:16.986 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34407
06:24:16.986 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34407
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-35: Shutdown connection
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-31: Shutdown connection
06:24:16.986 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42664&lt;-&gt;127.0.0.1:34407
06:24:16.986 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:16.986 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-32: Shutdown connection
06:24:16.986 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.987 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; PATCH /types HTTP/1.1
06:24:16.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: application/xml; charset=utf-8
06:24:16.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 46
06:24:16.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:34407
06:24:16.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
06:24:16.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
06:24:16.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
06:24:16.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
06:24:16.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:34407[\r][\n]&quot;
06:24:16.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
06:24:16.994 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34407]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
06:24:16.994 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:16.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:16.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:16.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:16.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:16.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:16.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:16.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
06:24:16.995 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:16.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
06:24:16.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
06:24:16.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
06:24:16.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
06:24:16.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
06:24:16.995 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:16.995 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:16.995 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42664&lt;-&gt;127.0.0.1:34407
06:24:16.995 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:16.996 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:16.996 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:16.996 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34407
06:24:16.996 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
06:24:16.996 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:16.996 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:16.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; PATCH /types HTTP/1.1
06:24:16.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: application/xml; charset=utf-8
06:24:16.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 46
06:24:16.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:34407
06:24:16.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
06:24:16.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:16.996 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:16.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
06:24:16.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
06:24:16.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
06:24:16.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:34407[\r][\n]&quot;
06:24:16.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:16.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:16.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:16.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
06:24:16.996 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
06:24:16.998 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:34407]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
06:24:16.999 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
06:24:17.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
06:24:17.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
06:24:17.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
06:24:17.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
06:24:17.000 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.000 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.001 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42664&lt;-&gt;127.0.0.1:34407
06:24:17.001 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.001 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7baa27b3
06:24:17.006 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3a509129
06:24:17.014 [XNIO-60 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-1', selector sun.nio.ch.EPollSelectorImpl@44518437
06:24:17.015 [XNIO-60 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-2', selector sun.nio.ch.EPollSelectorImpl@47f811af
06:24:17.030 [XNIO-60 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-3', selector sun.nio.ch.EPollSelectorImpl@480376c2
06:24:17.031 [XNIO-60 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-4', selector sun.nio.ch.EPollSelectorImpl@173de1e6
06:24:17.045 [XNIO-60 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-5', selector sun.nio.ch.EPollSelectorImpl@755e664a
06:24:17.046 [XNIO-60 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-6', selector sun.nio.ch.EPollSelectorImpl@db066c8
06:24:17.052 [XNIO-60 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4fb73d04
06:24:17.054 [XNIO-60 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-8', selector sun.nio.ch.EPollSelectorImpl@566fe3c4
06:24:17.061 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.061 [XNIO-60 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 Accept', selector sun.nio.ch.EPollSelectorImpl@61e2ffc3
06:24:17.062 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.064 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.064 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.064 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44237
06:24:17.064 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44237
06:24:17.064 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44237
06:24:17.064 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45180&lt;-&gt;127.0.0.1:44237
06:24:17.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
06:24:17.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; PATCH /types HTTP/1.1
06:24:17.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: text/html; charset=utf-8
06:24:17.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 7
06:24:17.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:44237
06:24:17.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
06:24:17.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
06:24:17.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
06:24:17.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
06:24:17.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:44237[\r][\n]&quot;
06:24:17.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;ok-html&quot;
06:24:17.084 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44237]}, cookies=[:]): ok-html }
06:24:17.085 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
06:24:17.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
06:24:17.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
06:24:17.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
06:24:17.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
06:24:17.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.086 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.086 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45180&lt;-&gt;127.0.0.1:44237
06:24:17.086 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.087 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.087 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.087 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44237
06:24:17.087 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
06:24:17.087 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.087 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; PATCH /types HTTP/1.1
06:24:17.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: text/html; charset=utf-8
06:24:17.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 7
06:24:17.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:44237
06:24:17.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
06:24:17.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
06:24:17.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
06:24:17.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
06:24:17.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:44237[\r][\n]&quot;
06:24:17.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;ok-html&quot;
06:24:17.098 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44237]}, cookies=[:]): ok-html }
06:24:17.100 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
06:24:17.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.101 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.101 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45180&lt;-&gt;127.0.0.1:44237
06:24:17.101 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.101 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3a509129
06:24:17.111 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@26951fdd
06:24:17.112 [XNIO-60 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
06:24:17.114 [XNIO-61 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-1', selector sun.nio.ch.EPollSelectorImpl@64912c3b
06:24:17.114 [XNIO-61 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5b904711
06:24:17.114 [XNIO-61 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3dbe2d91
06:24:17.115 [XNIO-61 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-4', selector sun.nio.ch.EPollSelectorImpl@54af8115
06:24:17.118 [XNIO-61 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-6', selector sun.nio.ch.EPollSelectorImpl@b1dc46d
06:24:17.119 [XNIO-61 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-5', selector sun.nio.ch.EPollSelectorImpl@8092397
06:24:17.122 [XNIO-61 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-7', selector sun.nio.ch.EPollSelectorImpl@9cfb559
06:24:17.124 [XNIO-61 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-8', selector sun.nio.ch.EPollSelectorImpl@47b8e521
06:24:17.126 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.126 [XNIO-61 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 Accept', selector sun.nio.ch.EPollSelectorImpl@4a5595ad
06:24:17.126 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.139 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.139 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.139 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39761
06:24:17.139 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39761
06:24:17.140 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39761
06:24:17.140 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55596&lt;-&gt;127.0.0.1:39761
06:24:17.140 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
06:24:17.140 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.140 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; PATCH /form HTTP/1.1
06:24:17.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
06:24:17.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Length: 34
06:24:17.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:39761
06:24:17.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
06:24:17.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
06:24:17.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
06:24:17.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
06:24:17.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:39761[\r][\n]&quot;
06:24:17.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
06:24:17.142 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39761]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
06:24:17.161 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 200 OK
06:24:17.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
06:24:17.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
06:24:17.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
06:24:17.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
06:24:17.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.165 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.166 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55596&lt;-&gt;127.0.0.1:39761
06:24:17.166 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.167 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.167 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.167 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39761
06:24:17.167 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
06:24:17.167 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.167 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; PATCH /form HTTP/1.1
06:24:17.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
06:24:17.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Length: 34
06:24:17.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:39761
06:24:17.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
06:24:17.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
06:24:17.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
06:24:17.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
06:24:17.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:39761[\r][\n]&quot;
06:24:17.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
06:24:17.170 [XNIO-61 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39761]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
06:24:17.171 [XNIO-61 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 200 OK
06:24:17.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
06:24:17.172 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
06:24:17.172 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
06:24:17.172 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
06:24:17.172 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.172 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.172 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55596&lt;-&gt;127.0.0.1:39761
06:24:17.172 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.173 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@26951fdd
06:24:17.179 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3aec35bb
06:24:17.183 [XNIO-62 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-1', selector sun.nio.ch.EPollSelectorImpl@70bdf755
06:24:17.186 [XNIO-62 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3a9fdc44
06:24:17.186 [XNIO-62 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-4', selector sun.nio.ch.EPollSelectorImpl@42510ee4
06:24:17.186 [XNIO-62 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-3', selector sun.nio.ch.EPollSelectorImpl@71ef176f
06:24:17.186 [XNIO-62 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-5', selector sun.nio.ch.EPollSelectorImpl@50c69286
06:24:17.186 [XNIO-62 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4a189f65
06:24:17.186 [XNIO-62 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6075189b
06:24:17.186 [XNIO-62 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-8', selector sun.nio.ch.EPollSelectorImpl@10538055
06:24:17.186 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.187 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.187 [XNIO-62 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 Accept', selector sun.nio.ch.EPollSelectorImpl@46673c4b
06:24:17.188 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.188 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.188 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33205
06:24:17.189 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:33205
06:24:17.189 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33205
06:24:17.189 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:33205 with timeout 0
06:24:17.189 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:17.189 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:17.190 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:17.218 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:17.218 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:17.218 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:17.218 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:17.218 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:17.218 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59076&lt;-&gt;127.0.0.1:33205
06:24:17.218 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
06:24:17.218 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.218 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; PATCH /form HTTP/1.1
06:24:17.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
06:24:17.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Length: 34
06:24:17.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:33205
06:24:17.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
06:24:17.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
06:24:17.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
06:24:17.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
06:24:17.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:33205[\r][\n]&quot;
06:24:17.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
06:24:17.219 [XNIO-62 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33205]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
06:24:17.223 [XNIO-62 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 200 OK
06:24:17.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
06:24:17.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
06:24:17.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
06:24:17.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 27
06:24:17.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.225 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59076&lt;-&gt;127.0.0.1:33205
06:24:17.225 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.225 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.225 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.225 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33205
06:24:17.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
06:24:17.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; PATCH /form HTTP/1.1
06:24:17.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
06:24:17.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Length: 34
06:24:17.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:33205
06:24:17.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
06:24:17.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
06:24:17.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
06:24:17.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
06:24:17.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:33205[\r][\n]&quot;
06:24:17.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
06:24:17.226 [XNIO-62 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33205]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
06:24:17.227 [XNIO-62 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 200 OK
06:24:17.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
06:24:17.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
06:24:17.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
06:24:17.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 27
06:24:17.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.228 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.229 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59076&lt;-&gt;127.0.0.1:33205
06:24:17.229 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.229 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3aec35bb
06:24:17.258 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3030fc17
06:24:17.266 [XNIO-63 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6471cb0c
06:24:17.274 [XNIO-63 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2150afd9
06:24:17.278 [XNIO-63 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1336b3d7
06:24:17.282 [XNIO-63 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3d9f0c6b
06:24:17.278 [XNIO-63 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1b9a5e14
06:24:17.283 [XNIO-63 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2e3588c
06:24:17.285 [XNIO-63 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-7', selector sun.nio.ch.EPollSelectorImpl@77419483
06:24:17.285 [XNIO-63 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7f725a14
06:24:17.290 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.291 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.292 [XNIO-63 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 Accept', selector sun.nio.ch.EPollSelectorImpl@6edce40b
06:24:17.341 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.341 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.341 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46825
06:24:17.341 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46825
06:24:17.341 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46825
06:24:17.341 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41096&lt;-&gt;127.0.0.1:46825
06:24:17.341 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
06:24:17.341 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.341 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; PATCH /upload HTTP/1.1
06:24:17.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Type: multipart/form-data; boundary=9KhzoQIUQp; charset=utf-8
06:24:17.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Length: 336
06:24:17.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:46825
06:24:17.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
06:24:17.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=9KhzoQIUQp; charset=utf-8[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:46825[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;--9KhzoQIUQp[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;some data[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;--9KhzoQIUQp[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
06:24:17.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;--9KhzoQIUQp--[\r][\n]&quot;
06:24:17.359 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=9KhzoQIUQp; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46825]}, cookies=[:]): --9KhzoQIUQp
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--9KhzoQIUQp
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--9KhzoQIUQp--
 }
06:24:17.457 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
06:24:17.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
06:24:17.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
06:24:17.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/plain
06:24:17.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 27
06:24:17.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.457 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.458 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41096&lt;-&gt;127.0.0.1:46825
06:24:17.458 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.459 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.459 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.459 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46825
06:24:17.459 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
06:24:17.459 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.459 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.459 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; PATCH /upload HTTP/1.1
06:24:17.459 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Type: multipart/form-data; boundary=BpdqqRmHyK; charset=utf-8
06:24:17.459 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Length: 336
06:24:17.459 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:46825
06:24:17.459 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
06:24:17.459 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.459 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=BpdqqRmHyK; charset=utf-8[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:46825[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;--BpdqqRmHyK[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;some data[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;--BpdqqRmHyK[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
06:24:17.459 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;--BpdqqRmHyK--[\r][\n]&quot;
06:24:17.462 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=BpdqqRmHyK; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46825]}, cookies=[:]): --BpdqqRmHyK
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--BpdqqRmHyK
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--BpdqqRmHyK--
 }
06:24:17.466 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.466 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
06:24:17.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
06:24:17.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
06:24:17.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/plain
06:24:17.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 27
06:24:17.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.467 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41096&lt;-&gt;127.0.0.1:46825
06:24:17.467 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.467 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3030fc17
06:24:17.471 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1e34b8b
06:24:17.473 [XNIO-64 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-1', selector sun.nio.ch.EPollSelectorImpl@25edfefd
06:24:17.474 [XNIO-64 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4344dafa
06:24:17.475 [XNIO-64 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-3', selector sun.nio.ch.EPollSelectorImpl@595c1599
06:24:17.476 [XNIO-64 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2cd536ff
06:24:17.476 [XNIO-63 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /upload request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=BpdqqRmHyK; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46825]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Mon, 20 Nov 2017 12:24:10 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
06:24:17.482 [XNIO-64 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-5', selector sun.nio.ch.EPollSelectorImpl@20b7b9ad
06:24:17.486 [XNIO-64 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-6', selector sun.nio.ch.EPollSelectorImpl@492f8d1f
06:24:17.486 [XNIO-64 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-8', selector sun.nio.ch.EPollSelectorImpl@ca72d9
06:24:17.486 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:17.486 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:17.486 [XNIO-64 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-7', selector sun.nio.ch.EPollSelectorImpl@550b986e
06:24:17.488 [XNIO-64 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 Accept', selector sun.nio.ch.EPollSelectorImpl@78ed078d
06:24:17.489 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.489 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42273
06:24:17.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:42273
06:24:17.489 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42273
06:24:17.489 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:42273 with timeout 0
06:24:17.490 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:17.490 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:17.490 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:17.546 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:17.546 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:17.546 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:17.546 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:17.546 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:17.546 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43984&lt;-&gt;127.0.0.1:42273
06:24:17.546 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
06:24:17.546 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.546 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; PATCH /upload HTTP/1.1
06:24:17.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Type: multipart/form-data; boundary=75P9vDTZME; charset=utf-8
06:24:17.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Length: 336
06:24:17.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:42273
06:24:17.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
06:24:17.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=75P9vDTZME; charset=utf-8[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:42273[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;--75P9vDTZME[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;some data[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;--75P9vDTZME[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
06:24:17.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;--75P9vDTZME--[\r][\n]&quot;
06:24:17.550 [XNIO-64 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=75P9vDTZME; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42273]}, cookies=[:]): --75P9vDTZME
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--75P9vDTZME
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--75P9vDTZME--
 }
06:24:17.555 [XNIO-64 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.557 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.557 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 200 OK
06:24:17.557 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
06:24:17.557 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
06:24:17.557 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
06:24:17.557 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
06:24:17.557 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.557 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.557 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43984&lt;-&gt;127.0.0.1:42273
06:24:17.557 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.558 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:17.558 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:17.558 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42273
06:24:17.558 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
06:24:17.558 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:17.558 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:17.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; PATCH /upload HTTP/1.1
06:24:17.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Type: multipart/form-data; boundary=iov1aR34pl; charset=utf-8
06:24:17.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Length: 336
06:24:17.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:42273
06:24:17.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
06:24:17.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:17.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=iov1aR34pl; charset=utf-8[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:42273[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;--iov1aR34pl[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;some data[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;--iov1aR34pl[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
06:24:17.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;--iov1aR34pl--[\r][\n]&quot;
06:24:17.562 [XNIO-64 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=iov1aR34pl; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42273]}, cookies=[:]): --iov1aR34pl
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--iov1aR34pl
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--iov1aR34pl--
 }
06:24:17.564 [XNIO-64 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
06:24:17.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:17.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
06:24:17.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:17.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
06:24:17.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
06:24:17.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:10 GMT[\r][\n]&quot;
06:24:17.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
06:24:17.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
06:24:17.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 200 OK
06:24:17.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
06:24:17.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
06:24:17.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
06:24:17.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
06:24:17.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:10 GMT
06:24:17.565 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:17.565 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43984&lt;-&gt;127.0.0.1:42273
06:24:17.565 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:17.566 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1e34b8b
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.3.1</a> at Nov 20, 2017 6:24:20 AM</p>
</div>
</div>
</body>
</html>
