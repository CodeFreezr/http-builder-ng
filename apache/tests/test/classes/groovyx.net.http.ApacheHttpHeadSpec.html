<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpHeadSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpHeadSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpHeadSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">41</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">3.665s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP HEAD with BASIC authentication (authorized)</td>
<td>0.199s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP HEAD with BASIC authentication (unauthorized)</td>
<td>0.069s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP HEAD with DIGEST authentication (authorized)</td>
<td>0.108s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP HEAD with DIGEST authentication (unauthorized)</td>
<td>0.099s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS HEAD with BASIC authentication (authorized)</td>
<td>0.169s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS HEAD with BASIC authentication (unauthorized)</td>
<td>0.111s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS HEAD with DIGEST authentication (authorized)</td>
<td>0.094s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS HEAD with DIGEST authentication (unauthorized)</td>
<td>0.059s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(): HTTP</td>
<td>0.256s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(): HTTPS</td>
<td>0.234s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Closure): [:]</td>
<td>0.033s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Closure): [hat:fedora]</td>
<td>0.035s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Closure): null</td>
<td>0.051s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Consumer): [:]</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Consumer): [hat:fedora]</td>
<td>0.033s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Class,Consumer): null</td>
<td>0.076s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [:]</td>
<td>0.046s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [alpha:[one, two], bravo:three]</td>
<td>0.043s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [alpha:[one, two]]</td>
<td>0.062s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [alpha:[one]]</td>
<td>0.139s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): [alpha:one]</td>
<td>0.073s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Closure): null</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Consumer): [:]</td>
<td>0.088s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Consumer): [flavor:chocolate-chip, count:dozen]</td>
<td>0.051s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Consumer): [flavor:chocolate-chip]</td>
<td>0.126s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">head(Consumer): null</td>
<td>0.124s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.067s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.070s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.083s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.038s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.075s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.086s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.105s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.100s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.123s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.078s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.106s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.080s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.064s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.057s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>06:24:12.199 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6f331c9c
06:24:12.201 [XNIO-6 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6e42eeaa
06:24:12.202 [XNIO-6 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6566246e
06:24:12.202 [XNIO-6 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5a8da580
06:24:12.202 [XNIO-6 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-4', selector sun.nio.ch.EPollSelectorImpl@33b93bbc
06:24:12.203 [XNIO-6 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6cf3a617
06:24:12.204 [XNIO-6 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5a6914f0
06:24:12.204 [XNIO-6 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5bf73e14
06:24:12.204 [XNIO-6 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-8', selector sun.nio.ch.EPollSelectorImpl@54cb1012
06:24:12.213 [XNIO-6 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 Accept', selector sun.nio.ch.EPollSelectorImpl@50d7a7a
06:24:12.216 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.216 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.216 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection
06:24:12.217 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.218 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.218 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-1: Shutdown connection
06:24:12.224 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.224 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-4: Shutdown connection
06:24:12.225 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:12.225 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-3: Shutdown connection
06:24:12.259 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.259 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.259 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42127
06:24:12.259 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42127
06:24:12.259 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42127
06:24:12.260 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47094&lt;-&gt;127.0.0.1:42127
06:24:12.260 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:12.260 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.260 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.260 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:12.260 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:42127
06:24:12.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
06:24:12.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:42127[\r][\n]&quot;
06:24:12.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.274 [XNIO-6 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42127]}, cookies=[:]): &lt;empty&gt; }
06:24:12.284 [XNIO-6 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.286 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
06:24:12.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
06:24:12.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; X-Something: Testing
06:24:12.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 0
06:24:12.287 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.287 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.287 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47094&lt;-&gt;127.0.0.1:42127
06:24:12.287 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.332 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.332 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.332 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42127
06:24:12.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:12.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:12.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:42127
06:24:12.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
06:24:12.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:42127[\r][\n]&quot;
06:24:12.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.336 [XNIO-6 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42127]}, cookies=[:]): &lt;empty&gt; }
06:24:12.368 [XNIO-6 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.369 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.369 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.369 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
06:24:12.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
06:24:12.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; X-Something: Testing
06:24:12.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 0
06:24:12.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.369 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.369 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47094&lt;-&gt;127.0.0.1:42127
06:24:12.369 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.378 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6f331c9c
06:24:12.389 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@359be30e
06:24:12.394 [XNIO-7 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-1', selector sun.nio.ch.EPollSelectorImpl@ddd8579
06:24:12.397 [XNIO-7 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-2', selector sun.nio.ch.EPollSelectorImpl@15d9f3d
06:24:12.398 [XNIO-7 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2a105d0e
06:24:12.398 [XNIO-7 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5d263dd8
06:24:12.407 [XNIO-7 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-5', selector sun.nio.ch.EPollSelectorImpl@33154578
06:24:12.407 [XNIO-7 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-6', selector sun.nio.ch.EPollSelectorImpl@69b0d58f
06:24:12.407 [XNIO-7 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-7', selector sun.nio.ch.EPollSelectorImpl@756026c
06:24:12.412 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.412 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.412 [XNIO-7 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-8', selector sun.nio.ch.EPollSelectorImpl@41c4ec97
06:24:12.415 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.415 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.416 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36763
06:24:12.416 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:36763
06:24:12.416 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36763
06:24:12.416 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:36763 with timeout 0
06:24:12.414 [XNIO-7 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 Accept', selector sun.nio.ch.EPollSelectorImpl@688cd7bf
06:24:12.430 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:12.431 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:12.431 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:12.579 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:12.579 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:12.579 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:12.580 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.580 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:12.580 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58398&lt;-&gt;127.0.0.1:36763
06:24:12.581 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:12.581 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.581 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:12.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:36763
06:24:12.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
06:24:12.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:36763[\r][\n]&quot;
06:24:12.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.584 [XNIO-7 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36763]}, cookies=[:]): &lt;empty&gt; }
06:24:12.585 [XNIO-7 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
06:24:12.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
06:24:12.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; X-Something: Testing
06:24:12.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 0
06:24:12.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.590 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.590 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58398&lt;-&gt;127.0.0.1:36763
06:24:12.590 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.591 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.591 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.591 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:36763
06:24:12.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:12.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:12.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:36763
06:24:12.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
06:24:12.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.592 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:36763[\r][\n]&quot;
06:24:12.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.610 [XNIO-7 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36763]}, cookies=[:]): &lt;empty&gt; }
06:24:12.610 [XNIO-7 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
06:24:12.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
06:24:12.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; X-Something: Testing
06:24:12.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 0
06:24:12.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.612 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.612 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58398&lt;-&gt;127.0.0.1:36763
06:24:12.612 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.614 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@359be30e
06:24:12.639 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2b06a6a6
06:24:12.641 [XNIO-8 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1c8d6d91
06:24:12.642 [XNIO-8 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-5', selector sun.nio.ch.EPollSelectorImpl@19d9908f
06:24:12.642 [XNIO-8 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-6', selector sun.nio.ch.EPollSelectorImpl@64da305a
06:24:12.641 [XNIO-8 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1fab4a30
06:24:12.646 [XNIO-8 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3c544afa
06:24:12.647 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.641 [XNIO-8 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7aaa5eb3
06:24:12.641 [XNIO-8 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-2', selector sun.nio.ch.EPollSelectorImpl@18510efb
06:24:12.642 [XNIO-8 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-7', selector sun.nio.ch.EPollSelectorImpl@564a2d8b
06:24:12.648 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.647 [XNIO-8 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 Accept', selector sun.nio.ch.EPollSelectorImpl@455afea
06:24:12.662 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.662 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.663 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35727
06:24:12.663 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35727
06:24:12.663 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35727
06:24:12.663 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44808&lt;-&gt;127.0.0.1:35727
06:24:12.664 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:12.664 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.664 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:12.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:35727
06:24:12.665 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
06:24:12.665 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.665 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:35727[\r][\n]&quot;
06:24:12.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.667 [XNIO-8 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35727]}, cookies=[:]): &lt;empty&gt; }
06:24:12.667 [XNIO-8 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.668 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.668 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.668 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.668 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.668 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.668 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.668 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
06:24:12.668 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
06:24:12.668 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; X-Something: Testing
06:24:12.668 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 0
06:24:12.668 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.668 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.668 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44808&lt;-&gt;127.0.0.1:35727
06:24:12.669 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.672 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.673 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.673 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35727
06:24:12.673 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:12.673 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.673 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:12.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:35727
06:24:12.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
06:24:12.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.673 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:35727[\r][\n]&quot;
06:24:12.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.673 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.674 [XNIO-8 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35727]}, cookies=[:]): &lt;empty&gt; }
06:24:12.680 [XNIO-8 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
06:24:12.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
06:24:12.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; X-Something: Testing
06:24:12.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 0
06:24:12.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.682 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44808&lt;-&gt;127.0.0.1:35727
06:24:12.682 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.683 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2b06a6a6
06:24:12.699 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@162a9bb6
06:24:12.701 [XNIO-9 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-1', selector sun.nio.ch.EPollSelectorImpl@49308901
06:24:12.701 [XNIO-9 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7bfdf75b
06:24:12.701 [XNIO-9 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-4', selector sun.nio.ch.EPollSelectorImpl@16ffe5e5
06:24:12.703 [XNIO-9 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6e85788d
06:24:12.706 [XNIO-9 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7c00e550
06:24:12.709 [XNIO-9 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-7', selector sun.nio.ch.EPollSelectorImpl@64b65867
06:24:12.710 [XNIO-9 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3aec4a7f
06:24:12.701 [XNIO-9 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7bbcda84
06:24:12.710 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.710 [XNIO-9 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 Accept', selector sun.nio.ch.EPollSelectorImpl@6b64924
06:24:12.714 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.717 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.718 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.718 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32931
06:24:12.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32931
06:24:12.718 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32931
06:24:12.718 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54400&lt;-&gt;127.0.0.1:32931
06:24:12.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:12.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:12.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:32931
06:24:12.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
06:24:12.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:32931[\r][\n]&quot;
06:24:12.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.722 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32931]}, cookies=[:]): &lt;empty&gt; }
06:24:12.723 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.723 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
06:24:12.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
06:24:12.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; X-Something: Testing
06:24:12.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 0
06:24:12.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.724 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.724 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54400&lt;-&gt;127.0.0.1:32931
06:24:12.724 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.725 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.725 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.725 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32931
06:24:12.725 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:12.725 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.726 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:12.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:32931
06:24:12.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
06:24:12.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.726 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:12.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:32931[\r][\n]&quot;
06:24:12.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.726 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.727 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32931]}, cookies=[:]): &lt;empty&gt; }
06:24:12.729 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
06:24:12.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
06:24:12.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; X-Something: Testing
06:24:12.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 0
06:24:12.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.730 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.730 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54400&lt;-&gt;127.0.0.1:32931
06:24:12.730 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.731 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@162a9bb6
06:24:12.745 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@24bff3b4
06:24:12.746 [XNIO-10 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1187fb0
06:24:12.746 [XNIO-10 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6390ee3a
06:24:12.747 [XNIO-10 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-5', selector sun.nio.ch.EPollSelectorImpl@46d6d860
06:24:12.748 [XNIO-10 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-7', selector sun.nio.ch.EPollSelectorImpl@359cb9be
06:24:12.748 [XNIO-10 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4a1d89cb
06:24:12.748 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.749 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.748 [XNIO-10 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7e0e59fe
06:24:12.747 [XNIO-10 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-3', selector sun.nio.ch.EPollSelectorImpl@671965e3
06:24:12.747 [XNIO-10 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-4', selector sun.nio.ch.EPollSelectorImpl@35a3bca3
06:24:12.750 [XNIO-10 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 Accept', selector sun.nio.ch.EPollSelectorImpl@613b343
06:24:12.765 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.765 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.766 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42475
06:24:12.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42475
06:24:12.766 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42475
06:24:12.766 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37756&lt;-&gt;127.0.0.1:42475
06:24:12.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one HTTP/1.1
06:24:12.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; HEAD /alpha?alpha=one HTTP/1.1
06:24:12.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:42475
06:24:12.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
06:24:12.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;HEAD /alpha?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:12.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:42475[\r][\n]&quot;
06:24:12.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.770 [XNIO-10 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42475]}, cookies=[:]): &lt;empty&gt; }
06:24:12.787 [XNIO-10 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
06:24:12.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
06:24:12.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; X-Something: Testing
06:24:12.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 0
06:24:12.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.788 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.789 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37756&lt;-&gt;127.0.0.1:42475
06:24:12.789 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.790 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.790 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.790 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42475
06:24:12.791 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one HTTP/1.1
06:24:12.791 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.791 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; HEAD /alpha?alpha=one HTTP/1.1
06:24:12.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:42475
06:24:12.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
06:24:12.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;HEAD /alpha?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:12.792 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:42475[\r][\n]&quot;
06:24:12.792 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.792 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.792 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.792 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.802 [XNIO-10 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42475]}, cookies=[:]): &lt;empty&gt; }
06:24:12.803 [XNIO-10 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
06:24:12.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
06:24:12.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; X-Something: Testing
06:24:12.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 0
06:24:12.804 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.804 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.804 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37756&lt;-&gt;127.0.0.1:42475
06:24:12.804 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.806 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@24bff3b4
06:24:12.856 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@26b1fc74
06:24:12.883 [XNIO-11 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7caf944f
06:24:12.891 [XNIO-11 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3e3722fc
06:24:12.898 [XNIO-11 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5d17b8c9
06:24:12.902 [XNIO-11 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7f0c9a80
06:24:12.908 [XNIO-11 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7935e63a
06:24:12.908 [XNIO-11 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-6', selector sun.nio.ch.EPollSelectorImpl@10a1440d
06:24:12.909 [XNIO-11 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-7', selector sun.nio.ch.EPollSelectorImpl@44ee44b1
06:24:12.910 [XNIO-11 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6881befc
06:24:12.914 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:12.921 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.924 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.925 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.925 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33077
06:24:12.925 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33077
06:24:12.925 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33077
06:24:12.925 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35872&lt;-&gt;127.0.0.1:33077
06:24:12.925 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one HTTP/1.1
06:24:12.925 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.925 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; HEAD /alpha?alpha=one HTTP/1.1
06:24:12.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:33077
06:24:12.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
06:24:12.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.925 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;HEAD /alpha?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:12.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:33077[\r][\n]&quot;
06:24:12.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.923 [XNIO-11 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 Accept', selector sun.nio.ch.EPollSelectorImpl@16ad6f36
06:24:12.938 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33077]}, cookies=[:]): &lt;empty&gt; }
06:24:12.946 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.947 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
06:24:12.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
06:24:12.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; X-Something: Testing
06:24:12.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 0
06:24:12.947 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.947 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.947 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35872&lt;-&gt;127.0.0.1:33077
06:24:12.947 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.949 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:12.949 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33077
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one HTTP/1.1
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:12.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:12.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; HEAD /alpha?alpha=one HTTP/1.1
06:24:12.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:33077
06:24:12.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
06:24:12.950 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:12.950 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:12.950 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;HEAD /alpha?alpha=one HTTP/1.1[\r][\n]&quot;
06:24:12.950 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:33077[\r][\n]&quot;
06:24:12.950 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:12.950 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:12.950 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:12.950 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
06:24:12.950 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33077]}, cookies=[:]): &lt;empty&gt; }
06:24:12.951 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:12.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:12.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:12.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:12.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:12.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:12.951 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
06:24:12.951 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
06:24:12.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
06:24:12.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; X-Something: Testing
06:24:12.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 0
06:24:12.952 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:12.952 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:12.952 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35872&lt;-&gt;127.0.0.1:33077
06:24:12.952 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:12.953 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@26b1fc74
06:24:12.974 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@48a0a023
06:24:12.983 [XNIO-12 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5e3f2543
06:24:12.986 [XNIO-12 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-2', selector sun.nio.ch.EPollSelectorImpl@26a56f55
06:24:12.990 [XNIO-12 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-3', selector sun.nio.ch.EPollSelectorImpl@15783ea2
06:24:12.994 [XNIO-12 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-4', selector sun.nio.ch.EPollSelectorImpl@15c9e145
06:24:12.998 [XNIO-12 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3336e621
06:24:12.998 [XNIO-12 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-6', selector sun.nio.ch.EPollSelectorImpl@34c48c19
06:24:13.000 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.000 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:12.998 [XNIO-12 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2734d583
06:24:12.998 [XNIO-12 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4424deba
06:24:13.000 [XNIO-12 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 Accept', selector sun.nio.ch.EPollSelectorImpl@11e3b761
06:24:13.003 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.003 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.003 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45879
06:24:13.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45879
06:24:13.003 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45879
06:24:13.003 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53598&lt;-&gt;127.0.0.1:45879
06:24:13.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:45879
06:24:13.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
06:24:13.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.004 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
06:24:13.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:45879[\r][\n]&quot;
06:24:13.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.007 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45879]}, cookies=[:]): &lt;empty&gt; }
06:24:13.008 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
06:24:13.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
06:24:13.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; X-Something: Testing
06:24:13.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 0
06:24:13.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.009 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.009 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53598&lt;-&gt;127.0.0.1:45879
06:24:13.009 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.010 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.010 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.010 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45879
06:24:13.010 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.010 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.010 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1
06:24:13.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:45879
06:24:13.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
06:24:13.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.010 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;HEAD /alpha?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:45879[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.014 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45879]}, cookies=[:]): &lt;empty&gt; }
06:24:13.014 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
06:24:13.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
06:24:13.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; X-Something: Testing
06:24:13.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 0
06:24:13.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.015 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.015 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53598&lt;-&gt;127.0.0.1:45879
06:24:13.015 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.016 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@48a0a023
06:24:13.017 [XNIO-12 I/O-8] DEBUG ersatz.undertow - Failed to schedule task ersatz.undertow.server.protocol.ParseTimeoutUpdater@784fe25a as worker is shutting down
java.util.concurrent.RejectedExecutionException: XNIO007007: Thread is terminating
	at ersatz.xnio.nio.WorkerThread.executeAfter(WorkerThread.java:617)
	at ersatz.undertow.util.WorkerUtils.executeAfter(WorkerUtils.java:46)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.handleSchedule(ParseTimeoutUpdater.java:107)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.connectionIdle(ParseTimeoutUpdater.java:85)
	at ersatz.undertow.server.protocol.http.HttpReadListener.newRequest(HttpReadListener.java:118)
	at ersatz.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:310)
	at ersatz.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:232)
	at ersatz.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1261)
	at ersatz.undertow.server.HttpServerExchange.closeAndFlushResponse(HttpServerExchange.java:1675)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1665)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:316)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:296)
	at ersatz.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at ersatz.xnio.StreamConnection.invokeCloseListener(StreamConnection.java:80)
	at ersatz.xnio.Connection.writeClosed(Connection.java:117)
	at ersatz.xnio.nio.AbstractNioStreamConnection.writeClosed(AbstractNioStreamConnection.java:47)
	at ersatz.xnio.nio.NioSocketConduit.terminateWrites(NioSocketConduit.java:214)
	at ersatz.xnio.nio.NioSocketConduit.truncateWrites(NioSocketConduit.java:228)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.truncateWrites(HttpResponseConduit.java:774)
	at ersatz.xnio.conduits.AbstractSinkConduit.truncateWrites(AbstractSinkConduit.java:82)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.close(ConduitStreamSinkChannel.java:186)
	at ersatz.xnio.IoUtils.safeClose(IoUtils.java:134)
	at ersatz.xnio.conduits.WriteReadyHandler$ChannelListenerHandler.forceTermination(WriteReadyHandler.java:57)
	at ersatz.xnio.nio.NioSocketConduit.forceTermination(NioSocketConduit.java:107)
	at ersatz.xnio.nio.WorkerThread.run(WorkerThread.java:494)
06:24:13.023 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@51449b3f
06:24:13.027 [XNIO-13 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2a250b1c
06:24:13.027 [XNIO-13 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3099018a
06:24:13.031 [XNIO-13 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-6', selector sun.nio.ch.EPollSelectorImpl@c3ec2f1
06:24:13.037 [XNIO-13 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-8', selector sun.nio.ch.EPollSelectorImpl@75f6425a
06:24:13.038 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.030 [XNIO-13 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-3', selector sun.nio.ch.EPollSelectorImpl@e93515f
06:24:13.030 [XNIO-13 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6036efc0
06:24:13.030 [XNIO-13 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4b9d97de
06:24:13.031 [XNIO-13 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5bc0c52
06:24:13.038 [XNIO-13 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 Accept', selector sun.nio.ch.EPollSelectorImpl@50c20338
06:24:13.040 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.043 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.043 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.043 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33065
06:24:13.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33065
06:24:13.043 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33065
06:24:13.044 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51984&lt;-&gt;127.0.0.1:33065
06:24:13.044 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.044 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.044 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.044 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.044 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:33065
06:24:13.044 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
06:24:13.044 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.044 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
06:24:13.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:33065[\r][\n]&quot;
06:24:13.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.045 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33065]}, cookies=[:]): &lt;empty&gt; }
06:24:13.046 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
06:24:13.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
06:24:13.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; X-Something: Testing
06:24:13.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 0
06:24:13.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.047 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51984&lt;-&gt;127.0.0.1:33065
06:24:13.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.048 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.049 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.049 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33065
06:24:13.049 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.049 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.049 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.049 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
06:24:13.049 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:33065
06:24:13.049 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
06:24:13.049 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.049 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;HEAD /alpha?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
06:24:13.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:33065[\r][\n]&quot;
06:24:13.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.049 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.057 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33065]}, cookies=[:]): &lt;empty&gt; }
06:24:13.058 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
06:24:13.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
06:24:13.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; X-Something: Testing
06:24:13.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 0
06:24:13.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.059 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.059 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51984&lt;-&gt;127.0.0.1:33065
06:24:13.059 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.060 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@51449b3f
06:24:13.095 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@15243aae
06:24:13.098 [XNIO-14 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7935a6b8
06:24:13.101 [XNIO-14 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3721e468
06:24:13.102 [XNIO-14 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2b6cf54a
06:24:13.103 [XNIO-14 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4a9969df
06:24:13.118 [XNIO-14 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-6', selector sun.nio.ch.EPollSelectorImpl@55a19a2
06:24:13.118 [XNIO-14 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4187dd1a
06:24:13.120 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.124 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.125 [XNIO-14 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-7', selector sun.nio.ch.EPollSelectorImpl@475926a2
06:24:13.125 [XNIO-14 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1719cf04
06:24:13.125 [XNIO-14 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 Accept', selector sun.nio.ch.EPollSelectorImpl@6f7ca047
06:24:13.142 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.143 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.143 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37059
06:24:13.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37059
06:24:13.143 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37059
06:24:13.143 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41596&lt;-&gt;127.0.0.1:37059
06:24:13.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.144 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.144 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:37059
06:24:13.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
06:24:13.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:37059[\r][\n]&quot;
06:24:13.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.159 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37059]}, cookies=[:]): &lt;empty&gt; }
06:24:13.164 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
06:24:13.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
06:24:13.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; X-Something: Testing
06:24:13.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 0
06:24:13.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.165 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.165 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41596&lt;-&gt;127.0.0.1:37059
06:24:13.165 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.172 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.173 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.173 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37059
06:24:13.173 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.173 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.173 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:37059
06:24:13.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
06:24:13.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.174 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:37059[\r][\n]&quot;
06:24:13.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.174 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.182 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37059]}, cookies=[:]): &lt;empty&gt; }
06:24:13.182 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.183 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
06:24:13.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
06:24:13.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; X-Something: Testing
06:24:13.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 0
06:24:13.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.184 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.184 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41596&lt;-&gt;127.0.0.1:37059
06:24:13.184 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.186 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@15243aae
06:24:13.204 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@f0160e6
06:24:13.208 [XNIO-15 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-1', selector sun.nio.ch.EPollSelectorImpl@49dbb21a
06:24:13.208 [XNIO-15 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6c9ebe6d
06:24:13.214 [XNIO-15 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-4', selector sun.nio.ch.EPollSelectorImpl@38b18824
06:24:13.212 [XNIO-15 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7f652756
06:24:13.223 [XNIO-15 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-5', selector sun.nio.ch.EPollSelectorImpl@53374d4b
06:24:13.230 [XNIO-15 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1153f092
06:24:13.234 [XNIO-15 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3106f774
06:24:13.240 [XNIO-15 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-8', selector sun.nio.ch.EPollSelectorImpl@46ac5ee
06:24:13.240 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.241 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.245 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.245 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.245 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46305
06:24:13.245 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46305
06:24:13.246 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46305
06:24:13.246 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44982&lt;-&gt;127.0.0.1:46305
06:24:13.246 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.246 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.246 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:46305
06:24:13.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
06:24:13.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:46305[\r][\n]&quot;
06:24:13.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.247 [XNIO-15 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 Accept', selector sun.nio.ch.EPollSelectorImpl@f528299
06:24:13.258 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46305]}, cookies=[:]): &lt;empty&gt; }
06:24:13.258 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.259 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
06:24:13.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
06:24:13.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; X-Something: Testing
06:24:13.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 0
06:24:13.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.259 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.259 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44982&lt;-&gt;127.0.0.1:46305
06:24:13.259 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.261 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.261 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.261 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46305
06:24:13.261 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.261 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.261 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:46305
06:24:13.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
06:24:13.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:46305[\r][\n]&quot;
06:24:13.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.266 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.274 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46305]}, cookies=[:]): &lt;empty&gt; }
06:24:13.274 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.275 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
06:24:13.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
06:24:13.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; X-Something: Testing
06:24:13.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 0
06:24:13.275 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.275 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.275 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44982&lt;-&gt;127.0.0.1:46305
06:24:13.275 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.276 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@f0160e6
06:24:13.308 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4b1d3fa9
06:24:13.324 [XNIO-16 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4771faaf
06:24:13.325 [XNIO-16 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2d4e3980
06:24:13.351 [XNIO-16 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6ffe5639
06:24:13.352 [XNIO-16 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-6', selector sun.nio.ch.EPollSelectorImpl@407179ae
06:24:13.352 [XNIO-16 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-5', selector sun.nio.ch.EPollSelectorImpl@26fa9697
06:24:13.354 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.355 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.325 [XNIO-16 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-3', selector sun.nio.ch.EPollSelectorImpl@679898e
06:24:13.338 [XNIO-16 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-4', selector sun.nio.ch.EPollSelectorImpl@68709553
06:24:13.351 [XNIO-16 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-7', selector sun.nio.ch.EPollSelectorImpl@43c86c6d
06:24:13.357 [XNIO-16 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 Accept', selector sun.nio.ch.EPollSelectorImpl@4067f793
06:24:13.366 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.366 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.366 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35439
06:24:13.366 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35439
06:24:13.366 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35439
06:24:13.366 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59388&lt;-&gt;127.0.0.1:35439
06:24:13.367 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.367 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.367 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Cookie: flavor=chocolate-chip
06:24:13.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:35439
06:24:13.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
06:24:13.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.367 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
06:24:13.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:35439[\r][\n]&quot;
06:24:13.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.378 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35439]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@14d8fcbf]): &lt;empty&gt; }
06:24:13.396 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
06:24:13.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
06:24:13.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; X-Something: Testing
06:24:13.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 0
06:24:13.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.396 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59388&lt;-&gt;127.0.0.1:35439
06:24:13.396 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.398 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.398 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.398 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35439
06:24:13.398 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.398 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.398 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Cookie: flavor=chocolate-chip
06:24:13.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:35439
06:24:13.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
06:24:13.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
06:24:13.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:35439[\r][\n]&quot;
06:24:13.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.402 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:35439]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@bc2df07]): &lt;empty&gt; }
06:24:13.403 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
06:24:13.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
06:24:13.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; X-Something: Testing
06:24:13.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 0
06:24:13.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.404 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59388&lt;-&gt;127.0.0.1:35439
06:24:13.404 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.405 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4b1d3fa9
06:24:13.410 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5a12a12d
06:24:13.412 [XNIO-17 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-1', selector sun.nio.ch.EPollSelectorImpl@727b54e6
06:24:13.413 [XNIO-17 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-2', selector sun.nio.ch.EPollSelectorImpl@674e8ffc
06:24:13.418 [XNIO-17 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-3', selector sun.nio.ch.EPollSelectorImpl@524b3bb6
06:24:13.421 [XNIO-17 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-4', selector sun.nio.ch.EPollSelectorImpl@470bff03
06:24:13.422 [XNIO-17 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6d05a4c3
06:24:13.425 [XNIO-17 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-6', selector sun.nio.ch.EPollSelectorImpl@67afed52
06:24:13.427 [XNIO-17 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4133bd9
06:24:13.427 [XNIO-17 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1243f9b5
06:24:13.427 [XNIO-17 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 Accept', selector sun.nio.ch.EPollSelectorImpl@1b14d31d
06:24:13.427 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.428 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.433 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.433 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.433 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36751
06:24:13.433 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36751
06:24:13.433 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36751
06:24:13.433 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54626&lt;-&gt;127.0.0.1:36751
06:24:13.433 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.433 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.433 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
06:24:13.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:36751
06:24:13.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
06:24:13.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.435 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.437 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
06:24:13.437 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:36751[\r][\n]&quot;
06:24:13.437 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.437 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.437 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.437 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.447 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36751]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@1894b5bb, flavor:ersatz.undertow.server.handlers.CookieImpl@165358d9]): &lt;empty&gt; }
06:24:13.448 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
06:24:13.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
06:24:13.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; X-Something: Testing
06:24:13.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 0
06:24:13.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.452 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.452 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54626&lt;-&gt;127.0.0.1:36751
06:24:13.452 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.453 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.453 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.453 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36751
06:24:13.453 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.453 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.453 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.453 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.453 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
06:24:13.453 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:36751
06:24:13.453 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
06:24:13.453 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.453 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
06:24:13.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:36751[\r][\n]&quot;
06:24:13.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.454 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36751]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@4da12149, flavor:ersatz.undertow.server.handlers.CookieImpl@4366c68d]): &lt;empty&gt; }
06:24:13.455 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
06:24:13.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
06:24:13.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; X-Something: Testing
06:24:13.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 0
06:24:13.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.457 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.457 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54626&lt;-&gt;127.0.0.1:36751
06:24:13.457 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.458 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5a12a12d
06:24:13.470 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2ae08caf
06:24:13.474 [XNIO-18 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2cb11f85
06:24:13.476 [XNIO-18 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2678bef8
06:24:13.477 [XNIO-18 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-4', selector sun.nio.ch.EPollSelectorImpl@61c00cbb
06:24:13.479 [XNIO-18 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5c929d55
06:24:13.477 [XNIO-18 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7e0df76f
06:24:13.480 [XNIO-18 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7e8c7eea
06:24:13.479 [XNIO-18 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7f34e7f5
06:24:13.481 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.481 [XNIO-18 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-8', selector sun.nio.ch.EPollSelectorImpl@71829d14
06:24:13.481 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.482 [XNIO-18 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 Accept', selector sun.nio.ch.EPollSelectorImpl@63d2adae
06:24:13.488 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.488 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.488 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33135
06:24:13.488 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33135
06:24:13.488 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33135
06:24:13.488 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49208&lt;-&gt;127.0.0.1:33135
06:24:13.488 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.488 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.488 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:33135
06:24:13.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
06:24:13.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:33135[\r][\n]&quot;
06:24:13.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.490 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33135]}, cookies=[:]): &lt;empty&gt; }
06:24:13.490 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.490 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.490 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.490 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.490 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.490 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.490 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
06:24:13.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
06:24:13.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; X-Something: Testing
06:24:13.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 0
06:24:13.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.491 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.491 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49208&lt;-&gt;127.0.0.1:33135
06:24:13.491 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.497 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.497 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.497 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33135
06:24:13.497 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.497 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.497 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:33135
06:24:13.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
06:24:13.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:33135[\r][\n]&quot;
06:24:13.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.500 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:33135]}, cookies=[:]): &lt;empty&gt; }
06:24:13.501 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
06:24:13.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
06:24:13.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; X-Something: Testing
06:24:13.507 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 0
06:24:13.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.508 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.508 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49208&lt;-&gt;127.0.0.1:33135
06:24:13.508 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.508 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2ae08caf
06:24:13.519 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2cba2ca6
06:24:13.522 [XNIO-19 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7b8d954b
06:24:13.522 [XNIO-19 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5c931067
06:24:13.522 [XNIO-19 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-1', selector sun.nio.ch.EPollSelectorImpl@60b14446
06:24:13.522 [XNIO-19 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6d17bf9e
06:24:13.522 [XNIO-19 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4bb52125
06:24:13.522 [XNIO-19 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6bcc2934
06:24:13.523 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.523 [XNIO-19 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 Accept', selector sun.nio.ch.EPollSelectorImpl@62cbe918
06:24:13.523 [XNIO-19 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-8', selector sun.nio.ch.EPollSelectorImpl@21ce4015
06:24:13.524 [XNIO-19 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-7', selector sun.nio.ch.EPollSelectorImpl@25d282e6
06:24:13.524 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.528 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.528 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.528 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45007
06:24:13.529 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45007
06:24:13.529 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45007
06:24:13.529 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55262&lt;-&gt;127.0.0.1:45007
06:24:13.529 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.529 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.529 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:45007
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.529 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:45007[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.529 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.532 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45007]}, cookies=[:]): &lt;empty&gt; }
06:24:13.533 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.534 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
06:24:13.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
06:24:13.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; X-Something: Testing
06:24:13.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 0
06:24:13.534 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.534 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.534 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55262&lt;-&gt;127.0.0.1:45007
06:24:13.534 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.535 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.536 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.536 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45007
06:24:13.536 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.536 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.536 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:45007
06:24:13.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
06:24:13.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:45007[\r][\n]&quot;
06:24:13.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.542 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45007]}, cookies=[:]): &lt;empty&gt; }
06:24:13.542 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
06:24:13.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
06:24:13.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; X-Something: Testing
06:24:13.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 0
06:24:13.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.543 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.543 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55262&lt;-&gt;127.0.0.1:45007
06:24:13.543 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.544 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2cba2ca6
06:24:13.553 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@10ad28b8
06:24:13.555 [XNIO-20 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-2', selector sun.nio.ch.EPollSelectorImpl@254accf4
06:24:13.555 [XNIO-20 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5ca4b8f4
06:24:13.560 [XNIO-20 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-5', selector sun.nio.ch.EPollSelectorImpl@415aea8b
06:24:13.560 [XNIO-20 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-3', selector sun.nio.ch.EPollSelectorImpl@75f514d0
06:24:13.562 [XNIO-20 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-6', selector sun.nio.ch.EPollSelectorImpl@22af55de
06:24:13.563 [XNIO-20 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-7', selector sun.nio.ch.EPollSelectorImpl@21cd9a10
06:24:13.563 [XNIO-20 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-8', selector sun.nio.ch.EPollSelectorImpl@c3924b0
06:24:13.565 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.565 [XNIO-20 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 Accept', selector sun.nio.ch.EPollSelectorImpl@6869bf4b
06:24:13.560 [XNIO-20 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7c61e706
06:24:13.566 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.568 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.568 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.568 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42747
06:24:13.568 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42747
06:24:13.568 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42747
06:24:13.569 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37554&lt;-&gt;127.0.0.1:42747
06:24:13.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; hat: fedora
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:42747
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:42747[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.571 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:42747]}, cookies=[:]): &lt;empty&gt; }
06:24:13.576 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; X-Something: Testing
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 0
06:24:13.577 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.577 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.577 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37554&lt;-&gt;127.0.0.1:42747
06:24:13.577 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.578 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.578 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.578 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42747
06:24:13.578 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.578 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.578 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; hat: fedora
06:24:13.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:42747
06:24:13.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
06:24:13.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.579 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:42747[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.579 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.579 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:42747]}, cookies=[:]): &lt;empty&gt; }
06:24:13.579 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
06:24:13.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
06:24:13.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; X-Something: Testing
06:24:13.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 0
06:24:13.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.580 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.580 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37554&lt;-&gt;127.0.0.1:42747
06:24:13.580 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.580 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@10ad28b8
06:24:13.595 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3332fc8
06:24:13.610 [XNIO-21 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1275ff6b
06:24:13.612 [XNIO-21 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6ea79698
06:24:13.618 [XNIO-21 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6db34ca1
06:24:13.618 [XNIO-21 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-4', selector sun.nio.ch.EPollSelectorImpl@19a50af4
06:24:13.621 [XNIO-21 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1211b589
06:24:13.621 [XNIO-21 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-5', selector sun.nio.ch.EPollSelectorImpl@9fd62
06:24:13.622 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.622 [XNIO-21 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-7', selector sun.nio.ch.EPollSelectorImpl@25400f41
06:24:13.622 [XNIO-21 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 Accept', selector sun.nio.ch.EPollSelectorImpl@29b7df60
06:24:13.622 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.622 [XNIO-21 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-8', selector sun.nio.ch.EPollSelectorImpl@613d77b8
06:24:13.636 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.636 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.636 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46421
06:24:13.636 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46421
06:24:13.637 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46421
06:24:13.637 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38760&lt;-&gt;127.0.0.1:46421
06:24:13.637 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.637 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.637 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:46421
06:24:13.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
06:24:13.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.637 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.637 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.637 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:46421[\r][\n]&quot;
06:24:13.637 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.637 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.637 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.637 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.646 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46421]}, cookies=[:]): &lt;empty&gt; }
06:24:13.647 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
06:24:13.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
06:24:13.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; X-Something: Testing
06:24:13.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 0
06:24:13.648 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.648 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.648 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38760&lt;-&gt;127.0.0.1:46421
06:24:13.648 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.654 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.654 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.654 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46421
06:24:13.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.654 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:46421
06:24:13.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
06:24:13.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.654 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:46421[\r][\n]&quot;
06:24:13.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.655 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46421]}, cookies=[:]): &lt;empty&gt; }
06:24:13.656 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
06:24:13.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
06:24:13.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; X-Something: Testing
06:24:13.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 0
06:24:13.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.656 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.656 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38760&lt;-&gt;127.0.0.1:46421
06:24:13.656 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.657 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3332fc8
06:24:13.665 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5a050639
06:24:13.667 [XNIO-22 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1f4f0c03
06:24:13.667 [XNIO-22 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6db1be48
06:24:13.668 [XNIO-22 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-4', selector sun.nio.ch.EPollSelectorImpl@36c3dbf9
06:24:13.668 [XNIO-22 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2d8273cd
06:24:13.669 [XNIO-22 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-5', selector sun.nio.ch.EPollSelectorImpl@10027bc0
06:24:13.669 [XNIO-22 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-6', selector sun.nio.ch.EPollSelectorImpl@38782813
06:24:13.669 [XNIO-22 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5832c9b1
06:24:13.671 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.671 [XNIO-22 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-8', selector sun.nio.ch.EPollSelectorImpl@bd9357a
06:24:13.672 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.672 [XNIO-22 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 Accept', selector sun.nio.ch.EPollSelectorImpl@3d4a2ed
06:24:13.675 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.675 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.675 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43861
06:24:13.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43861
06:24:13.675 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43861
06:24:13.675 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36392&lt;-&gt;127.0.0.1:43861
06:24:13.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:43861
06:24:13.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
06:24:13.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:43861[\r][\n]&quot;
06:24:13.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.679 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43861]}, cookies=[:]): &lt;empty&gt; }
06:24:13.679 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.679 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
06:24:13.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
06:24:13.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; X-Something: Testing
06:24:13.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 0
06:24:13.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.680 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36392&lt;-&gt;127.0.0.1:43861
06:24:13.680 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.681 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.681 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.681 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43861
06:24:13.681 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.681 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.681 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:43861
06:24:13.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
06:24:13.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:43861[\r][\n]&quot;
06:24:13.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.682 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:43861]}, cookies=[:]): &lt;empty&gt; }
06:24:13.683 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
06:24:13.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
06:24:13.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; X-Something: Testing
06:24:13.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 0
06:24:13.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.683 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.683 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36392&lt;-&gt;127.0.0.1:43861
06:24:13.683 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.684 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5a050639
06:24:13.692 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@70e2340e
06:24:13.693 [XNIO-23 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-1', selector sun.nio.ch.EPollSelectorImpl@48609c3c
06:24:13.694 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.694 [XNIO-23 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2e7dcf7a
06:24:13.694 [XNIO-23 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-8', selector sun.nio.ch.EPollSelectorImpl@760995c
06:24:13.694 [XNIO-23 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2a82c9f3
06:24:13.695 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.694 [XNIO-23 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7438a3f9
06:24:13.695 [XNIO-23 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-4', selector sun.nio.ch.EPollSelectorImpl@71eb99d9
06:24:13.695 [XNIO-23 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-6', selector sun.nio.ch.EPollSelectorImpl@23e2ce93
06:24:13.695 [XNIO-23 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 Accept', selector sun.nio.ch.EPollSelectorImpl@372c344f
06:24:13.702 [XNIO-23 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-5', selector sun.nio.ch.EPollSelectorImpl@42e3dc21
06:24:13.705 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.705 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.705 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38833
06:24:13.705 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38833
06:24:13.705 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38833
06:24:13.705 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51910&lt;-&gt;127.0.0.1:38833
06:24:13.705 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.705 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.705 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; hat: fedora
06:24:13.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:38833
06:24:13.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
06:24:13.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
06:24:13.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:38833[\r][\n]&quot;
06:24:13.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.712 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:38833]}, cookies=[:]): &lt;empty&gt; }
06:24:13.713 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
06:24:13.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
06:24:13.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; X-Something: Testing
06:24:13.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 0
06:24:13.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.714 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.714 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51910&lt;-&gt;127.0.0.1:38833
06:24:13.714 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.715 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.715 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.715 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38833
06:24:13.715 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /alpha HTTP/1.1
06:24:13.715 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.715 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; HEAD /alpha HTTP/1.1
06:24:13.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; hat: fedora
06:24:13.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:38833
06:24:13.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
06:24:13.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.715 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;HEAD /alpha HTTP/1.1[\r][\n]&quot;
06:24:13.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
06:24:13.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:38833[\r][\n]&quot;
06:24:13.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.715 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.716 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], hat=[fedora], Host=[localhost:38833]}, cookies=[:]): &lt;empty&gt; }
06:24:13.717 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({X-Something=[Testing]}): &lt;empty&gt;
06:24:13.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;X-Something: Testing[\r][\n]&quot;
06:24:13.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.718 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
06:24:13.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
06:24:13.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; X-Something: Testing
06:24:13.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 0
06:24:13.718 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.718 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51910&lt;-&gt;127.0.0.1:38833
06:24:13.718 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.718 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@70e2340e
06:24:13.771 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@d7e8c11
06:24:13.774 [XNIO-24 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-1', selector sun.nio.ch.EPollSelectorImpl@78b75324
06:24:13.778 [XNIO-24 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7f487947
06:24:13.774 [XNIO-24 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-4', selector sun.nio.ch.EPollSelectorImpl@bf15057
06:24:13.779 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.774 [XNIO-24 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2a0a9cb9
06:24:13.774 [XNIO-24 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2fa28d16
06:24:13.774 [XNIO-24 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-6', selector sun.nio.ch.EPollSelectorImpl@182420eb
06:24:13.779 [XNIO-24 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 Accept', selector sun.nio.ch.EPollSelectorImpl@4d51ef5c
06:24:13.774 [XNIO-24 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3fd9f0ac
06:24:13.774 [XNIO-24 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-2', selector sun.nio.ch.EPollSelectorImpl@73fb78aa
06:24:13.780 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.797 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.797 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.797 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40489
06:24:13.797 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40489
06:24:13.797 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40489
06:24:13.797 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39706&lt;-&gt;127.0.0.1:40489
06:24:13.797 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:13.797 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.797 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; HEAD /basic HTTP/1.1
06:24:13.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:40489
06:24:13.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
06:24:13.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:40489[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.799 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.813 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {}}
06:24:13.813 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:13.827 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@15674587 for /basic
06:24:13.827 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {}}
06:24:13.828 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:13.829 [XNIO-24 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:13.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:13.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:13.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:13.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
06:24:13.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:13.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 0
06:24:13.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.830 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.830 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:13.830 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40489 requested authentication
06:24:13.830 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:13.830 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:13.830 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:13.830 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:13.830 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:13.836 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:13.836 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:13.836 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:13.836 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:13.850 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; HEAD /basic HTTP/1.1
06:24:13.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:40489
06:24:13.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
06:24:13.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:13.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:13.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:40489[\r][\n]&quot;
06:24:13.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:13.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.851 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {}}
06:24:13.852 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:13.869 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {}}
06:24:13.893 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:13.904 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@15674587 for /basic
06:24:13.904 [XNIO-24 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:13.904 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]}, cookies=[:]): &lt;empty&gt; }
06:24:13.905 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:13.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.905 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.905 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
06:24:13.905 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
06:24:13.905 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 0
06:24:13.905 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.905 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.905 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:13.907 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:40489
06:24:13.911 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39706&lt;-&gt;127.0.0.1:40489
06:24:13.911 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.912 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:13.912 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:13.912 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40489
06:24:13.912 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:13.912 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:13.912 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.912 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; HEAD /basic HTTP/1.1
06:24:13.912 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:40489
06:24:13.912 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
06:24:13.912 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.912 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:13.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:40489[\r][\n]&quot;
06:24:13.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.912 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.913 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {}}
06:24:13.913 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:13.913 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@15674587 for /basic
06:24:13.913 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {}}
06:24:13.914 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:13.914 [XNIO-24 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:13.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
06:24:13.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:13.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 0
06:24:13.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40489 requested authentication
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:13.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:13.915 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; HEAD /basic HTTP/1.1
06:24:13.915 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:40489
06:24:13.915 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
06:24:13.915 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:13.915 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:13.915 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:13.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:13.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:40489[\r][\n]&quot;
06:24:13.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:13.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:13.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:13.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:13.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
06:24:13.915 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {}}
06:24:13.916 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:13.916 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]} response {}}
06:24:13.916 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:13.916 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@15674587 for /basic
06:24:13.916 [XNIO-24 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:13.916 [XNIO-24 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40489]}, cookies=[:]): &lt;empty&gt; }
06:24:13.917 [XNIO-24 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:13.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:13.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:13.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:13.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:13.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
06:24:13.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
06:24:13.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
06:24:13.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 0
06:24:13.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:13.917 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:13.917 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:13.917 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:40489
06:24:13.917 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39706&lt;-&gt;127.0.0.1:40489
06:24:13.918 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:13.918 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@d7e8c11
06:24:13.924 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5849f936
06:24:13.965 [XNIO-25 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4a5595ad
06:24:13.965 [XNIO-25 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-1', selector sun.nio.ch.EPollSelectorImpl@47b8e521
06:24:13.966 [XNIO-25 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-4', selector sun.nio.ch.EPollSelectorImpl@162037cc
06:24:13.967 [XNIO-25 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3d29e407
06:24:13.967 [XNIO-25 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1e95cec7
06:24:13.976 [XNIO-25 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3a0ac0c4
06:24:13.965 [XNIO-25 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-3', selector sun.nio.ch.EPollSelectorImpl@d2ba536
06:24:13.979 [XNIO-25 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-8', selector sun.nio.ch.EPollSelectorImpl@139d80db
06:24:13.981 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:13.982 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.982 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-21: Shutdown connection
06:24:13.982 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.982 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-22: Shutdown connection
06:24:13.983 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.983 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-23: Shutdown connection
06:24:13.983 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.983 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-17: Shutdown connection
06:24:13.983 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.983 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-18: Shutdown connection
06:24:13.983 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.983 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-19: Shutdown connection
06:24:13.986 [XNIO-25 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 Accept', selector sun.nio.ch.EPollSelectorImpl@5fc2a9bc
06:24:13.991 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.991 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-20: Shutdown connection
06:24:13.996 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:13.996 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.996 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Shutdown connection
06:24:13.997 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:13.998 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Shutdown connection
06:24:14.021 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.021 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-15: Shutdown connection
06:24:14.022 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.022 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-16: Shutdown connection
06:24:14.022 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.022 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-9: Shutdown connection
06:24:14.022 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.022 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-10: Shutdown connection
06:24:14.022 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.023 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.023 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-11: Shutdown connection
06:24:14.023 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.023 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41969
06:24:14.023 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.023 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Shutdown connection
06:24:14.023 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.023 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-7: Shutdown connection
06:24:14.024 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.024 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-8: Shutdown connection
06:24:14.024 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.024 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-6: Shutdown connection
06:24:14.024 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:41969
06:24:14.024 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:14.024 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5: Shutdown connection
06:24:14.025 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41969
06:24:14.025 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:41969 with timeout 0
06:24:14.025 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:14.025 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:14.025 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:14.070 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:14.070 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:14.070 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:14.070 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.070 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.070 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53598&lt;-&gt;127.0.0.1:41969
06:24:14.070 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.071 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.071 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:41969
06:24:14.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
06:24:14.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.071 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.071 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.071 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:41969[\r][\n]&quot;
06:24:14.071 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.071 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.071 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.071 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.072 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {}}
06:24:14.072 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.072 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6fef4e60 for /basic
06:24:14.072 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {}}
06:24:14.072 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.072 [XNIO-25 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
06:24:14.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 0
06:24:14.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.073 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.073 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.073 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41969 requested authentication
06:24:14.073 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.073 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.073 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.073 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.074 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.074 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.074 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:41969
06:24:14.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
06:24:14.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:14.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:41969[\r][\n]&quot;
06:24:14.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:14.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.075 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {}}
06:24:14.075 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.075 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {}}
06:24:14.075 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.075 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6fef4e60 for /basic
06:24:14.075 [XNIO-25 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:14.075 [XNIO-25 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]}, cookies=[:]): &lt;empty&gt; }
06:24:14.076 [XNIO-25 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
06:24:14.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
06:24:14.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 0
06:24:14.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.077 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.077 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.077 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:41969
06:24:14.077 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53598&lt;-&gt;127.0.0.1:41969
06:24:14.077 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.078 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.078 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.078 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41969
06:24:14.078 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.078 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.078 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.078 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.078 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:41969
06:24:14.078 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
06:24:14.078 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.078 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:41969[\r][\n]&quot;
06:24:14.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.082 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {}}
06:24:14.082 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.082 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6fef4e60 for /basic
06:24:14.082 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {}}
06:24:14.083 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.083 [XNIO-25 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.085 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.085 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.085 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.085 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.085 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.085 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.085 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.085 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
06:24:14.085 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.085 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 0
06:24:14.085 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41969 requested authentication
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.085 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:41969
06:24:14.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
06:24:14.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
06:24:14.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:41969[\r][\n]&quot;
06:24:14.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
06:24:14.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.087 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {}}
06:24:14.087 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.087 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]} response {}}
06:24:14.087 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.087 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6fef4e60 for /basic
06:24:14.087 [XNIO-25 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
06:24:14.087 [XNIO-25 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41969]}, cookies=[:]): &lt;empty&gt; }
06:24:14.088 [XNIO-25 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
06:24:14.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
06:24:14.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 0
06:24:14.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.088 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.088 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.088 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:41969
06:24:14.089 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53598&lt;-&gt;127.0.0.1:41969
06:24:14.089 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.089 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5849f936
06:24:14.100 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2a3cd53
06:24:14.103 [XNIO-26 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3a9fdc44
06:24:14.107 [XNIO-26 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-2', selector sun.nio.ch.EPollSelectorImpl@71ef176f
06:24:14.108 [XNIO-26 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-3', selector sun.nio.ch.EPollSelectorImpl@42510ee4
06:24:14.108 [XNIO-26 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-4', selector sun.nio.ch.EPollSelectorImpl@50c69286
06:24:14.108 [XNIO-26 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4a189f65
06:24:14.108 [XNIO-26 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6075189b
06:24:14.109 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.109 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.110 [XNIO-26 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-7', selector sun.nio.ch.EPollSelectorImpl@10538055
06:24:14.110 [XNIO-26 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 Accept', selector sun.nio.ch.EPollSelectorImpl@442f335d
06:24:14.110 [XNIO-26 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-8', selector sun.nio.ch.EPollSelectorImpl@46673c4b
06:24:14.117 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.117 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.117 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44213
06:24:14.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44213
06:24:14.118 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44213
06:24:14.118 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49722&lt;-&gt;127.0.0.1:44213
06:24:14.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:44213
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.118 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:44213[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.119 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.119 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.119 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5d04f542 for /basic
06:24:14.119 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.119 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.119 [XNIO-26 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
06:24:14.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 0
06:24:14.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.119 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44213 requested authentication
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.120 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:44213
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:44213[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:14.120 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.121 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.121 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.121 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.121 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.121 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5d04f542 for /basic
06:24:14.121 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.121 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.121 [XNIO-26 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
06:24:14.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 0
06:24:14.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.121 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.121 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.122 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44213 requested authentication
06:24:14.122 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:14.122 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:14.122 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49722&lt;-&gt;127.0.0.1:44213
06:24:14.122 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.146 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.146 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.146 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44213
06:24:14.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:44213
06:24:14.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
06:24:14.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:44213[\r][\n]&quot;
06:24:14.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.148 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.148 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.148 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5d04f542 for /basic
06:24:14.148 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.148 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.148 [XNIO-26 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 0
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44213 requested authentication
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.149 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:44213
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:44213[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:14.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.153 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.153 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.153 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.153 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.153 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5d04f542 for /basic
06:24:14.153 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {}}
06:24:14.153 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:44213]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.153 [XNIO-26 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
06:24:14.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 0
06:24:14.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.153 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.153 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.153 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44213 requested authentication
06:24:14.153 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:14.153 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:14.154 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49722&lt;-&gt;127.0.0.1:44213
06:24:14.154 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.158 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2a3cd53
06:24:14.163 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7f502db4
06:24:14.165 [XNIO-27 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-1', selector sun.nio.ch.EPollSelectorImpl@c4b684e
06:24:14.166 [XNIO-27 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-2', selector sun.nio.ch.EPollSelectorImpl@43694628
06:24:14.166 [XNIO-27 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-4', selector sun.nio.ch.EPollSelectorImpl@51738488
06:24:14.166 [XNIO-27 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2ef4404b
06:24:14.166 [XNIO-27 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-5', selector sun.nio.ch.EPollSelectorImpl@11eff032
06:24:14.168 [XNIO-27 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-6', selector sun.nio.ch.EPollSelectorImpl@557c6376
06:24:14.170 [XNIO-27 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7b68df0c
06:24:14.170 [XNIO-27 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-8', selector sun.nio.ch.EPollSelectorImpl@586bf832
06:24:14.170 [XNIO-27 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 Accept', selector sun.nio.ch.EPollSelectorImpl@3c5be932
06:24:14.186 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.186 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.189 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.190 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.190 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42575
06:24:14.190 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:42575
06:24:14.190 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42575
06:24:14.190 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:42575 with timeout 0
06:24:14.190 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:14.190 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:14.190 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:14.216 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:14.216 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:14.216 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:14.216 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.217 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.217 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48208&lt;-&gt;127.0.0.1:42575
06:24:14.217 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.217 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.217 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:42575
06:24:14.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
06:24:14.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:42575[\r][\n]&quot;
06:24:14.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.218 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.218 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.218 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6edce40b for /basic
06:24:14.218 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.218 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.218 [XNIO-27 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
06:24:14.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 0
06:24:14.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42575 requested authentication
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.219 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.220 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:42575
06:24:14.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
06:24:14.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.220 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:14.220 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.220 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:42575[\r][\n]&quot;
06:24:14.220 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.220 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.220 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.220 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:14.220 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.221 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.252 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.253 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.253 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.253 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6edce40b for /basic
06:24:14.253 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.254 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.254 [XNIO-27 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
06:24:14.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 0
06:24:14.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.255 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.255 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.255 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42575 requested authentication
06:24:14.255 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:14.255 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:14.255 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48208&lt;-&gt;127.0.0.1:42575
06:24:14.255 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.256 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.256 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.256 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42575
06:24:14.256 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.256 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.256 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:42575
06:24:14.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
06:24:14.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:42575[\r][\n]&quot;
06:24:14.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.261 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.264 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.264 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6edce40b for /basic
06:24:14.264 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.264 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.264 [XNIO-27 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 0
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42575 requested authentication
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /basic HTTP/1.1
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
06:24:14.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; HEAD /basic HTTP/1.1
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:42575
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;HEAD /basic HTTP/1.1[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:42575[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
06:24:14.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.267 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.267 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
06:24:14.267 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.267 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.267 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6edce40b for /basic
06:24:14.267 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {}}
06:24:14.267 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ HEAD /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42575]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
06:24:14.267 [XNIO-27 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
06:24:14.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
06:24:14.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.268 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
06:24:14.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
06:24:14.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 0
06:24:14.268 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.268 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.268 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.268 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42575 requested authentication
06:24:14.268 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:14.268 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:14.268 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48208&lt;-&gt;127.0.0.1:42575
06:24:14.268 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.269 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7f502db4
06:24:14.270 [XNIO-27 I/O-2] DEBUG ersatz.undertow - Failed to schedule task ersatz.undertow.server.protocol.ParseTimeoutUpdater@7ec1c201 as worker is shutting down
java.util.concurrent.RejectedExecutionException: XNIO007007: Thread is terminating
	at ersatz.xnio.nio.WorkerThread.executeAfter(WorkerThread.java:617)
	at ersatz.undertow.util.WorkerUtils.executeAfter(WorkerUtils.java:46)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.handleSchedule(ParseTimeoutUpdater.java:107)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.connectionIdle(ParseTimeoutUpdater.java:85)
	at ersatz.undertow.server.protocol.http.HttpReadListener.newRequest(HttpReadListener.java:118)
	at ersatz.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:310)
	at ersatz.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:232)
	at ersatz.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1261)
	at ersatz.undertow.server.HttpServerExchange.closeAndFlushResponse(HttpServerExchange.java:1675)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1665)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:316)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:296)
	at ersatz.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at ersatz.xnio.StreamConnection.invokeCloseListener(StreamConnection.java:80)
	at ersatz.xnio.Connection.writeClosed(Connection.java:117)
	at ersatz.undertow.protocols.ssl.UndertowSslConnection.writeClosed(UndertowSslConnection.java:145)
	at ersatz.undertow.protocols.ssl.SslConduit.notifyWriteClosed(SslConduit.java:588)
	at ersatz.undertow.protocols.ssl.SslConduit.truncateWrites(SslConduit.java:501)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.truncateWrites(HttpResponseConduit.java:774)
	at ersatz.xnio.conduits.AbstractSinkConduit.truncateWrites(AbstractSinkConduit.java:82)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.close(ConduitStreamSinkChannel.java:186)
	at ersatz.xnio.IoUtils.safeClose(IoUtils.java:134)
	at ersatz.xnio.conduits.WriteReadyHandler$ChannelListenerHandler.forceTermination(WriteReadyHandler.java:57)
	at ersatz.undertow.protocols.ssl.SslConduit$SslWriteReadyHandler.forceTermination(SslConduit.java:1201)
	at ersatz.xnio.nio.NioSocketConduit.forceTermination(NioSocketConduit.java:107)
	at ersatz.xnio.nio.WorkerThread.run(WorkerThread.java:494)
06:24:14.304 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@37b65be5
06:24:14.311 [XNIO-28 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1827824b
06:24:14.311 [XNIO-28 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-3', selector sun.nio.ch.EPollSelectorImpl@70c6e7a6
06:24:14.315 [XNIO-28 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5f49267b
06:24:14.311 [XNIO-28 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-2', selector sun.nio.ch.EPollSelectorImpl@53440427
06:24:14.320 [XNIO-28 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3318097d
06:24:14.320 [XNIO-28 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3bec5e9f
06:24:14.322 [XNIO-28 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3e08cd3b
06:24:14.320 [XNIO-28 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7d0a408c
06:24:14.326 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.326 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.327 [XNIO-28 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 Accept', selector sun.nio.ch.EPollSelectorImpl@6c2e4c0e
06:24:14.335 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.335 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.335 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42545
06:24:14.335 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42545
06:24:14.336 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42545
06:24:14.336 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53492&lt;-&gt;127.0.0.1:42545
06:24:14.336 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.336 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.336 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:42545
06:24:14.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
06:24:14.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:42545[\r][\n]&quot;
06:24:14.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.338 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]} response {}}
06:24:14.338 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.338 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@4549cc9e for /digest
06:24:14.338 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]} response {}}
06:24:14.341 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.341 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.341 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
06:24:14.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
06:24:14.342 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.342 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.342 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.342 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42545 requested authentication
06:24:14.342 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.342 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.342 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.342 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.345 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:14.345 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:14.345 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.345 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.345 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:14.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:42545
06:24:14.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
06:24:14.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.346 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;, uri=&quot;/digest&quot;, response=&quot;00218d8c78eb75b5a07d6fe5e017d2d8&quot;, qop=auth, nc=00000001, cnonce=&quot;17002eddb0454f72&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:14.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:42545[\r][\n]&quot;
06:24:14.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;, uri=&quot;/digest&quot;, response=&quot;00218d8c78eb75b5a07d6fe5e017d2d8&quot;, qop=auth, nc=00000001, cnonce=&quot;17002eddb0454f72&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:14.346 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.347 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;, uri=&quot;/digest&quot;, response=&quot;00218d8c78eb75b5a07d6fe5e017d2d8&quot;, qop=auth, nc=00000001, cnonce=&quot;17002eddb0454f72&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]} response {}}
06:24:14.347 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.348 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;, uri=&quot;/digest&quot;, response=&quot;00218d8c78eb75b5a07d6fe5e017d2d8&quot;, qop=auth, nc=00000001, cnonce=&quot;17002eddb0454f72&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;, uri=&quot;/digest&quot;, response=&quot;00218d8c78eb75b5a07d6fe5e017d2d8&quot;, qop=auth, nc=00000001, cnonce=&quot;17002eddb0454f72&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]} response {}}
06:24:14.365 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.365 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@4549cc9e for /digest
06:24:14.365 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:14.365 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;, uri=&quot;/digest&quot;, response=&quot;00218d8c78eb75b5a07d6fe5e017d2d8&quot;, qop=auth, nc=00000001, cnonce=&quot;17002eddb0454f72&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]}, cookies=[:]): &lt;empty&gt; }
06:24:14.366 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;,qop=&quot;auth&quot;,rspauth=&quot;eb1255fbff321d798c5f4406fb9f371f&quot;,cnonce=&quot;17002eddb0454f72&quot;,nc=00000001]}): &lt;empty&gt;
06:24:14.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;,qop=&quot;auth&quot;,rspauth=&quot;eb1255fbff321d798c5f4406fb9f371f&quot;,cnonce=&quot;17002eddb0454f72&quot;,nc=00000001[\r][\n]&quot;
06:24:14.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
06:24:14.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
06:24:14.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Authentication-Info: nextnonce=&quot;A/7/WjFcXsINMTUxMTE4MDY1NDM0MBvij1K6iwlFuyrd8P60884=&quot;,qop=&quot;auth&quot;,rspauth=&quot;eb1255fbff321d798c5f4406fb9f371f&quot;,cnonce=&quot;17002eddb0454f72&quot;,nc=00000001
06:24:14.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
06:24:14.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.366 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.366 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.366 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:42545
06:24:14.367 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53492&lt;-&gt;127.0.0.1:42545
06:24:14.367 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.368 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.368 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.368 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42545
06:24:14.368 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.368 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.368 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:42545
06:24:14.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
06:24:14.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:42545[\r][\n]&quot;
06:24:14.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.370 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]} response {}}
06:24:14.370 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.370 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@4549cc9e for /digest
06:24:14.370 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]} response {}}
06:24:14.370 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42545 requested authentication
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:14.371 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:42545
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.371 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;, uri=&quot;/digest&quot;, response=&quot;9429c237541a312a2844eb0f8ba55b5b&quot;, qop=auth, nc=00000001, cnonce=&quot;1e371e94cee0f009&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:14.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:42545[\r][\n]&quot;
06:24:14.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;, uri=&quot;/digest&quot;, response=&quot;9429c237541a312a2844eb0f8ba55b5b&quot;, qop=auth, nc=00000001, cnonce=&quot;1e371e94cee0f009&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:14.371 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.372 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;, uri=&quot;/digest&quot;, response=&quot;9429c237541a312a2844eb0f8ba55b5b&quot;, qop=auth, nc=00000001, cnonce=&quot;1e371e94cee0f009&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]} response {}}
06:24:14.372 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.372 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;, uri=&quot;/digest&quot;, response=&quot;9429c237541a312a2844eb0f8ba55b5b&quot;, qop=auth, nc=00000001, cnonce=&quot;1e371e94cee0f009&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;, uri=&quot;/digest&quot;, response=&quot;9429c237541a312a2844eb0f8ba55b5b&quot;, qop=auth, nc=00000001, cnonce=&quot;1e371e94cee0f009&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]} response {}}
06:24:14.375 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.376 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@4549cc9e for /digest
06:24:14.376 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:14.376 [XNIO-28 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;, uri=&quot;/digest&quot;, response=&quot;9429c237541a312a2844eb0f8ba55b5b&quot;, qop=auth, nc=00000001, cnonce=&quot;1e371e94cee0f009&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:42545]}, cookies=[:]): &lt;empty&gt; }
06:24:14.376 [XNIO-28 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;,qop=&quot;auth&quot;,rspauth=&quot;d949026786edd14b8b51a8686441f283&quot;,cnonce=&quot;1e371e94cee0f009&quot;,nc=00000001]}): &lt;empty&gt;
06:24:14.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;,qop=&quot;auth&quot;,rspauth=&quot;d949026786edd14b8b51a8686441f283&quot;,cnonce=&quot;1e371e94cee0f009&quot;,nc=00000001[\r][\n]&quot;
06:24:14.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.376 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
06:24:14.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
06:24:14.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Authentication-Info: nextnonce=&quot;jGZSoDmUSo8NMTUxMTE4MDY1NDM3ML6MtJ+bJzCjoyIGZtp74/w=&quot;,qop=&quot;auth&quot;,rspauth=&quot;d949026786edd14b8b51a8686441f283&quot;,cnonce=&quot;1e371e94cee0f009&quot;,nc=00000001
06:24:14.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
06:24:14.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.377 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.377 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.377 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:42545
06:24:14.377 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53492&lt;-&gt;127.0.0.1:42545
06:24:14.377 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.378 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@37b65be5
06:24:14.385 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@459ff954
06:24:14.394 [XNIO-29 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-1', selector sun.nio.ch.EPollSelectorImpl@575c07e9
06:24:14.398 [XNIO-29 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1d0966fe
06:24:14.402 [XNIO-29 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-4', selector sun.nio.ch.EPollSelectorImpl@64c5d0e7
06:24:14.394 [XNIO-29 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5944f478
06:24:14.406 [XNIO-29 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-5', selector sun.nio.ch.EPollSelectorImpl@467b80d9
06:24:14.407 [XNIO-29 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-7', selector sun.nio.ch.EPollSelectorImpl@468f4d1f
06:24:14.407 [XNIO-29 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-6', selector sun.nio.ch.EPollSelectorImpl@a93f446
06:24:14.407 [XNIO-29 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-8', selector sun.nio.ch.EPollSelectorImpl@69f9ea90
06:24:14.407 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.407 [XNIO-29 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 Accept', selector sun.nio.ch.EPollSelectorImpl@4ca5e320
06:24:14.408 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.413 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.413 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.413 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46093
06:24:14.413 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:46093
06:24:14.413 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46093
06:24:14.413 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:46093 with timeout 0
06:24:14.413 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:14.413 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:14.413 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:14.439 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:14.439 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:14.439 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:14.439 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.439 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.440 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58082&lt;-&gt;127.0.0.1:46093
06:24:14.440 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.440 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.440 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:46093
06:24:14.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
06:24:14.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:46093[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.450 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]} response {}}
06:24:14.450 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.450 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2d7eb3f4 for /digest
06:24:14.450 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]} response {}}
06:24:14.450 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
06:24:14.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
06:24:14.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.454 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.454 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.454 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:46093 requested authentication
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:14.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:46093
06:24:14.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
06:24:14.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;, uri=&quot;/digest&quot;, response=&quot;f2aebf544550c05aadd154794304463e&quot;, qop=auth, nc=00000001, cnonce=&quot;8a071277586d9089&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:14.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:46093[\r][\n]&quot;
06:24:14.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;, uri=&quot;/digest&quot;, response=&quot;f2aebf544550c05aadd154794304463e&quot;, qop=auth, nc=00000001, cnonce=&quot;8a071277586d9089&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:14.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.456 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;, uri=&quot;/digest&quot;, response=&quot;f2aebf544550c05aadd154794304463e&quot;, qop=auth, nc=00000001, cnonce=&quot;8a071277586d9089&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]} response {}}
06:24:14.456 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.456 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;, uri=&quot;/digest&quot;, response=&quot;f2aebf544550c05aadd154794304463e&quot;, qop=auth, nc=00000001, cnonce=&quot;8a071277586d9089&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;, uri=&quot;/digest&quot;, response=&quot;f2aebf544550c05aadd154794304463e&quot;, qop=auth, nc=00000001, cnonce=&quot;8a071277586d9089&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]} response {}}
06:24:14.457 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.457 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2d7eb3f4 for /digest
06:24:14.457 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:14.457 [XNIO-29 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;, uri=&quot;/digest&quot;, response=&quot;f2aebf544550c05aadd154794304463e&quot;, qop=auth, nc=00000001, cnonce=&quot;8a071277586d9089&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]}, cookies=[:]): &lt;empty&gt; }
06:24:14.457 [XNIO-29 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;,qop=&quot;auth&quot;,rspauth=&quot;468def7d7f5cf6d0110dc7d7354b35e7&quot;,cnonce=&quot;8a071277586d9089&quot;,nc=00000001]}): &lt;empty&gt;
06:24:14.458 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.458 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.458 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;,qop=&quot;auth&quot;,rspauth=&quot;468def7d7f5cf6d0110dc7d7354b35e7&quot;,cnonce=&quot;8a071277586d9089&quot;,nc=00000001[\r][\n]&quot;
06:24:14.458 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.458 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.458 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.458 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
06:24:14.458 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
06:24:14.458 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Authentication-Info: nextnonce=&quot;J5ACnAdpJeoNMTUxMTE4MDY1NDQ1MHnU8VwRQI9JzhHY6Ge3bws=&quot;,qop=&quot;auth&quot;,rspauth=&quot;468def7d7f5cf6d0110dc7d7354b35e7&quot;,cnonce=&quot;8a071277586d9089&quot;,nc=00000001
06:24:14.458 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
06:24:14.458 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.459 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.459 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.459 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:46093
06:24:14.459 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58082&lt;-&gt;127.0.0.1:46093
06:24:14.459 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.460 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.460 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.460 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46093
06:24:14.460 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.460 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.460 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:46093
06:24:14.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
06:24:14.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:46093[\r][\n]&quot;
06:24:14.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.461 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]} response {}}
06:24:14.461 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.461 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2d7eb3f4 for /digest
06:24:14.461 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]} response {}}
06:24:14.462 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
06:24:14.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
06:24:14.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.462 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:46093 requested authentication
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:14.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:46093
06:24:14.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
06:24:14.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;, uri=&quot;/digest&quot;, response=&quot;abee433ca4145709630d3455088de086&quot;, qop=auth, nc=00000001, cnonce=&quot;cb128a36358b3123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:14.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:46093[\r][\n]&quot;
06:24:14.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;, uri=&quot;/digest&quot;, response=&quot;abee433ca4145709630d3455088de086&quot;, qop=auth, nc=00000001, cnonce=&quot;cb128a36358b3123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:14.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.470 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;, uri=&quot;/digest&quot;, response=&quot;abee433ca4145709630d3455088de086&quot;, qop=auth, nc=00000001, cnonce=&quot;cb128a36358b3123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]} response {}}
06:24:14.471 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.471 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;, uri=&quot;/digest&quot;, response=&quot;abee433ca4145709630d3455088de086&quot;, qop=auth, nc=00000001, cnonce=&quot;cb128a36358b3123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;, uri=&quot;/digest&quot;, response=&quot;abee433ca4145709630d3455088de086&quot;, qop=auth, nc=00000001, cnonce=&quot;cb128a36358b3123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]} response {}}
06:24:14.472 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
06:24:14.472 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2d7eb3f4 for /digest
06:24:14.472 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
06:24:14.472 [XNIO-29 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;, uri=&quot;/digest&quot;, response=&quot;abee433ca4145709630d3455088de086&quot;, qop=auth, nc=00000001, cnonce=&quot;cb128a36358b3123&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:46093]}, cookies=[:]): &lt;empty&gt; }
06:24:14.473 [XNIO-29 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;,qop=&quot;auth&quot;,rspauth=&quot;8802f6f813603b552d9af158e2ddaad2&quot;,cnonce=&quot;cb128a36358b3123&quot;,nc=00000001]}): &lt;empty&gt;
06:24:14.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;,qop=&quot;auth&quot;,rspauth=&quot;8802f6f813603b552d9af158e2ddaad2&quot;,cnonce=&quot;cb128a36358b3123&quot;,nc=00000001[\r][\n]&quot;
06:24:14.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
06:24:14.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
06:24:14.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Authentication-Info: nextnonce=&quot;RPfmKOdYt84NMTUxMTE4MDY1NDQ2Mr3c7O7JjTp9zEJu4KYeVnA=&quot;,qop=&quot;auth&quot;,rspauth=&quot;8802f6f813603b552d9af158e2ddaad2&quot;,cnonce=&quot;cb128a36358b3123&quot;,nc=00000001
06:24:14.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
06:24:14.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.473 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.473 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
06:24:14.473 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:46093
06:24:14.474 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58082&lt;-&gt;127.0.0.1:46093
06:24:14.474 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.474 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@459ff954
06:24:14.505 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@78680602
06:24:14.514 [XNIO-30 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3f90f4af
06:24:14.517 [XNIO-30 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3c78070b
06:24:14.522 [XNIO-30 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-3', selector sun.nio.ch.EPollSelectorImpl@49d76f87
06:24:14.530 [XNIO-30 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4891b29a
06:24:14.531 [XNIO-30 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-5', selector sun.nio.ch.EPollSelectorImpl@45f130af
06:24:14.542 [XNIO-30 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3c78a864
06:24:14.543 [XNIO-30 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6ea061ab
06:24:14.544 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.544 [XNIO-30 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 Accept', selector sun.nio.ch.EPollSelectorImpl@65d0f6e
06:24:14.544 [XNIO-30 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-8', selector sun.nio.ch.EPollSelectorImpl@37121757
06:24:14.544 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.551 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.551 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.551 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45993
06:24:14.552 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45993
06:24:14.552 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45993
06:24:14.552 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47414&lt;-&gt;127.0.0.1:45993
06:24:14.552 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.552 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.552 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:45993
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:45993[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.558 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.558 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.558 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3eb02388 for /digest
06:24:14.558 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.559 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;mf301K+6fwANMTUxMTE4MDY1NDU1OXQlYPpai7IQ7HXeUZ2fJLs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
06:24:14.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;mf301K+6fwANMTUxMTE4MDY1NDU1OXQlYPpai7IQ7HXeUZ2fJLs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
06:24:14.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.559 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.559 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.559 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45993 requested authentication
06:24:14.559 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.559 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.559 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.559 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.560 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:14.560 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:14.560 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.560 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.560 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:14.560 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:45993
06:24:14.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
06:24:14.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;mf301K+6fwANMTUxMTE4MDY1NDU1OXQlYPpai7IQ7HXeUZ2fJLs=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8cb1c9798fabd4142f2c4f96bf0b3e&quot;, qop=auth, nc=00000001, cnonce=&quot;3fccaeab5756b13d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:14.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:45993[\r][\n]&quot;
06:24:14.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;mf301K+6fwANMTUxMTE4MDY1NDU1OXQlYPpai7IQ7HXeUZ2fJLs=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8cb1c9798fabd4142f2c4f96bf0b3e&quot;, qop=auth, nc=00000001, cnonce=&quot;3fccaeab5756b13d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:14.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.566 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;mf301K+6fwANMTUxMTE4MDY1NDU1OXQlYPpai7IQ7HXeUZ2fJLs=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8cb1c9798fabd4142f2c4f96bf0b3e&quot;, qop=auth, nc=00000001, cnonce=&quot;3fccaeab5756b13d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.566 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.566 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;mf301K+6fwANMTUxMTE4MDY1NDU1OXQlYPpai7IQ7HXeUZ2fJLs=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8cb1c9798fabd4142f2c4f96bf0b3e&quot;, qop=auth, nc=00000001, cnonce=&quot;3fccaeab5756b13d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;mf301K+6fwANMTUxMTE4MDY1NDU1OXQlYPpai7IQ7HXeUZ2fJLs=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8cb1c9798fabd4142f2c4f96bf0b3e&quot;, qop=auth, nc=00000001, cnonce=&quot;3fccaeab5756b13d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.566 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;mf301K+6fwANMTUxMTE4MDY1NDU1OXQlYPpai7IQ7HXeUZ2fJLs=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8cb1c9798fabd4142f2c4f96bf0b3e&quot;, qop=auth, nc=00000001, cnonce=&quot;3fccaeab5756b13d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.566 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3eb02388 for /digest
06:24:14.566 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;mf301K+6fwANMTUxMTE4MDY1NDU1OXQlYPpai7IQ7HXeUZ2fJLs=&quot;, uri=&quot;/digest&quot;, response=&quot;5d8cb1c9798fabd4142f2c4f96bf0b3e&quot;, qop=auth, nc=00000001, cnonce=&quot;3fccaeab5756b13d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.566 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;15cjTbjuvBQNMTUxMTE4MDY1NDU2NgNCBamFs76nVIcnFngTleE=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
06:24:14.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;15cjTbjuvBQNMTUxMTE4MDY1NDU2NgNCBamFs76nVIcnFngTleE=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
06:24:14.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.567 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.567 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.567 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45993 requested authentication
06:24:14.567 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:14.567 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:14.567 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47414&lt;-&gt;127.0.0.1:45993
06:24:14.567 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.568 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.568 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.568 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45993
06:24:14.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.569 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:45993
06:24:14.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
06:24:14.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.569 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:45993[\r][\n]&quot;
06:24:14.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.569 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.569 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.569 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3eb02388 for /digest
06:24:14.569 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.570 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ZMWIqOWGiWUNMTUxMTE4MDY1NDU2ORfWGXFsfZ/RcemqJV9BU84=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.570 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
06:24:14.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ZMWIqOWGiWUNMTUxMTE4MDY1NDU2ORfWGXFsfZ/RcemqJV9BU84=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
06:24:14.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45993 requested authentication
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.571 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:14.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:45993
06:24:14.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
06:24:14.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ZMWIqOWGiWUNMTUxMTE4MDY1NDU2ORfWGXFsfZ/RcemqJV9BU84=&quot;, uri=&quot;/digest&quot;, response=&quot;ab9a173b4a38b425500bb7a28e356550&quot;, qop=auth, nc=00000001, cnonce=&quot;5c19c5e1b18ef903&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:14.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:45993[\r][\n]&quot;
06:24:14.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ZMWIqOWGiWUNMTUxMTE4MDY1NDU2ORfWGXFsfZ/RcemqJV9BU84=&quot;, uri=&quot;/digest&quot;, response=&quot;ab9a173b4a38b425500bb7a28e356550&quot;, qop=auth, nc=00000001, cnonce=&quot;5c19c5e1b18ef903&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:14.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.571 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ZMWIqOWGiWUNMTUxMTE4MDY1NDU2ORfWGXFsfZ/RcemqJV9BU84=&quot;, uri=&quot;/digest&quot;, response=&quot;ab9a173b4a38b425500bb7a28e356550&quot;, qop=auth, nc=00000001, cnonce=&quot;5c19c5e1b18ef903&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.571 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.572 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ZMWIqOWGiWUNMTUxMTE4MDY1NDU2ORfWGXFsfZ/RcemqJV9BU84=&quot;, uri=&quot;/digest&quot;, response=&quot;ab9a173b4a38b425500bb7a28e356550&quot;, qop=auth, nc=00000001, cnonce=&quot;5c19c5e1b18ef903&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ZMWIqOWGiWUNMTUxMTE4MDY1NDU2ORfWGXFsfZ/RcemqJV9BU84=&quot;, uri=&quot;/digest&quot;, response=&quot;ab9a173b4a38b425500bb7a28e356550&quot;, qop=auth, nc=00000001, cnonce=&quot;5c19c5e1b18ef903&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.572 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ZMWIqOWGiWUNMTUxMTE4MDY1NDU2ORfWGXFsfZ/RcemqJV9BU84=&quot;, uri=&quot;/digest&quot;, response=&quot;ab9a173b4a38b425500bb7a28e356550&quot;, qop=auth, nc=00000001, cnonce=&quot;5c19c5e1b18ef903&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.572 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3eb02388 for /digest
06:24:14.572 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ZMWIqOWGiWUNMTUxMTE4MDY1NDU2ORfWGXFsfZ/RcemqJV9BU84=&quot;, uri=&quot;/digest&quot;, response=&quot;ab9a173b4a38b425500bb7a28e356550&quot;, qop=auth, nc=00000001, cnonce=&quot;5c19c5e1b18ef903&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45993]} response {}}
06:24:14.572 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;19iqGCsEBG8NMTUxMTE4MDY1NDU3Mn/JiAFiYonvvvEAHhc5++Y=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.573 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.573 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.573 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
06:24:14.573 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;19iqGCsEBG8NMTUxMTE4MDY1NDU3Mn/JiAFiYonvvvEAHhc5++Y=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.573 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
06:24:14.573 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.573 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.573 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.573 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45993 requested authentication
06:24:14.573 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:14.573 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:14.573 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47414&lt;-&gt;127.0.0.1:45993
06:24:14.573 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.574 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@78680602
06:24:14.580 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@316d40c
06:24:14.586 [XNIO-31 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5a66d294
06:24:14.586 [XNIO-31 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-2', selector sun.nio.ch.EPollSelectorImpl@360dabc1
06:24:14.587 [XNIO-31 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-3', selector sun.nio.ch.EPollSelectorImpl@51c0637b
06:24:14.588 [XNIO-31 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-5', selector sun.nio.ch.EPollSelectorImpl@411d2043
06:24:14.588 [XNIO-31 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-4', selector sun.nio.ch.EPollSelectorImpl@525ddaca
06:24:14.588 [XNIO-31 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2a2e6fbc
06:24:14.588 [XNIO-31 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-8', selector sun.nio.ch.EPollSelectorImpl@615d6494
06:24:14.588 [XNIO-31 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-6', selector sun.nio.ch.EPollSelectorImpl@cd8d9c0
06:24:14.589 [XNIO-31 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 Accept', selector sun.nio.ch.EPollSelectorImpl@57fb1afd
06:24:14.589 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.590 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.592 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.592 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.592 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40537
06:24:14.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40537
06:24:14.593 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40537
06:24:14.593 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40537 with timeout 0
06:24:14.593 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
06:24:14.593 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
06:24:14.593 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
06:24:14.617 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
06:24:14.618 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
06:24:14.618 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
06:24:14.618 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.618 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
06:24:14.618 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47126&lt;-&gt;127.0.0.1:40537
06:24:14.618 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.618 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.618 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:40537
06:24:14.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
06:24:14.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.618 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:40537[\r][\n]&quot;
06:24:14.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.619 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.619 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.619 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6572a78e for /digest
06:24:14.619 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.619 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;skCJaX3+PrkNMTUxMTE4MDY1NDYxOdo+rWrfUfYA5QWFwxtxfYw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.620 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.620 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
06:24:14.620 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;skCJaX3+PrkNMTUxMTE4MDY1NDYxOdo+rWrfUfYA5QWFwxtxfYw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.620 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
06:24:14.620 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40537 requested authentication
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.620 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:14.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:40537
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;skCJaX3+PrkNMTUxMTE4MDY1NDYxOdo+rWrfUfYA5QWFwxtxfYw=&quot;, uri=&quot;/digest&quot;, response=&quot;166abf768c1c8ffda5cf4c6030b4ca4a&quot;, qop=auth, nc=00000001, cnonce=&quot;7265bc921421f5bb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:40537[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;skCJaX3+PrkNMTUxMTE4MDY1NDYxOdo+rWrfUfYA5QWFwxtxfYw=&quot;, uri=&quot;/digest&quot;, response=&quot;166abf768c1c8ffda5cf4c6030b4ca4a&quot;, qop=auth, nc=00000001, cnonce=&quot;7265bc921421f5bb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:14.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.622 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;skCJaX3+PrkNMTUxMTE4MDY1NDYxOdo+rWrfUfYA5QWFwxtxfYw=&quot;, uri=&quot;/digest&quot;, response=&quot;166abf768c1c8ffda5cf4c6030b4ca4a&quot;, qop=auth, nc=00000001, cnonce=&quot;7265bc921421f5bb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.622 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.622 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;skCJaX3+PrkNMTUxMTE4MDY1NDYxOdo+rWrfUfYA5QWFwxtxfYw=&quot;, uri=&quot;/digest&quot;, response=&quot;166abf768c1c8ffda5cf4c6030b4ca4a&quot;, qop=auth, nc=00000001, cnonce=&quot;7265bc921421f5bb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;skCJaX3+PrkNMTUxMTE4MDY1NDYxOdo+rWrfUfYA5QWFwxtxfYw=&quot;, uri=&quot;/digest&quot;, response=&quot;166abf768c1c8ffda5cf4c6030b4ca4a&quot;, qop=auth, nc=00000001, cnonce=&quot;7265bc921421f5bb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.622 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;skCJaX3+PrkNMTUxMTE4MDY1NDYxOdo+rWrfUfYA5QWFwxtxfYw=&quot;, uri=&quot;/digest&quot;, response=&quot;166abf768c1c8ffda5cf4c6030b4ca4a&quot;, qop=auth, nc=00000001, cnonce=&quot;7265bc921421f5bb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.622 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6572a78e for /digest
06:24:14.622 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;skCJaX3+PrkNMTUxMTE4MDY1NDYxOdo+rWrfUfYA5QWFwxtxfYw=&quot;, uri=&quot;/digest&quot;, response=&quot;166abf768c1c8ffda5cf4c6030b4ca4a&quot;, qop=auth, nc=00000001, cnonce=&quot;7265bc921421f5bb&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.623 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;E35dPk0gAYMNMTUxMTE4MDY1NDYyMoCilFNgy7GSwhpdUVqPL7k=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;E35dPk0gAYMNMTUxMTE4MDY1NDYyMoCilFNgy7GSwhpdUVqPL7k=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
06:24:14.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.623 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.623 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.623 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40537 requested authentication
06:24:14.623 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:14.624 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:14.624 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47126&lt;-&gt;127.0.0.1:40537
06:24:14.624 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.625 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.625 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.625 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40537
06:24:14.625 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.625 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.625 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:40537
06:24:14.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
06:24:14.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:40537[\r][\n]&quot;
06:24:14.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.625 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.630 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.630 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.630 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6572a78e for /digest
06:24:14.630 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.630 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;OjbRVq0WWGsNMTUxMTE4MDY1NDYzMB0edOrHfSgB4ZoczhcHb8A=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;OjbRVq0WWGsNMTUxMTE4MDY1NDYzMB0edOrHfSgB4ZoczhcHb8A=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40537 requested authentication
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /digest HTTP/1.1
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
06:24:14.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; HEAD /digest HTTP/1.1
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:40537
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;OjbRVq0WWGsNMTUxMTE4MDY1NDYzMB0edOrHfSgB4ZoczhcHb8A=&quot;, uri=&quot;/digest&quot;, response=&quot;1f99a750fde36dfc04afa5c32dd1c161&quot;, qop=auth, nc=00000001, cnonce=&quot;9ec6a32371943850&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;HEAD /digest HTTP/1.1[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:40537[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;OjbRVq0WWGsNMTUxMTE4MDY1NDYzMB0edOrHfSgB4ZoczhcHb8A=&quot;, uri=&quot;/digest&quot;, response=&quot;1f99a750fde36dfc04afa5c32dd1c161&quot;, qop=auth, nc=00000001, cnonce=&quot;9ec6a32371943850&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
06:24:14.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.632 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;OjbRVq0WWGsNMTUxMTE4MDY1NDYzMB0edOrHfSgB4ZoczhcHb8A=&quot;, uri=&quot;/digest&quot;, response=&quot;1f99a750fde36dfc04afa5c32dd1c161&quot;, qop=auth, nc=00000001, cnonce=&quot;9ec6a32371943850&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.632 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
06:24:14.632 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;OjbRVq0WWGsNMTUxMTE4MDY1NDYzMB0edOrHfSgB4ZoczhcHb8A=&quot;, uri=&quot;/digest&quot;, response=&quot;1f99a750fde36dfc04afa5c32dd1c161&quot;, qop=auth, nc=00000001, cnonce=&quot;9ec6a32371943850&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;OjbRVq0WWGsNMTUxMTE4MDY1NDYzMB0edOrHfSgB4ZoczhcHb8A=&quot;, uri=&quot;/digest&quot;, response=&quot;1f99a750fde36dfc04afa5c32dd1c161&quot;, qop=auth, nc=00000001, cnonce=&quot;9ec6a32371943850&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.633 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;OjbRVq0WWGsNMTUxMTE4MDY1NDYzMB0edOrHfSgB4ZoczhcHb8A=&quot;, uri=&quot;/digest&quot;, response=&quot;1f99a750fde36dfc04afa5c32dd1c161&quot;, qop=auth, nc=00000001, cnonce=&quot;9ec6a32371943850&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.633 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@6572a78e for /digest
06:24:14.633 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ HEAD /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;OjbRVq0WWGsNMTUxMTE4MDY1NDYzMB0edOrHfSgB4ZoczhcHb8A=&quot;, uri=&quot;/digest&quot;, response=&quot;1f99a750fde36dfc04afa5c32dd1c161&quot;, qop=auth, nc=00000001, cnonce=&quot;9ec6a32371943850&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40537]} response {}}
06:24:14.633 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
06:24:14.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
06:24:14.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;pj1aToXjAqINMTUxMTE4MDY1NDYzMz/Aw6NzUpPL2UtSxMZ3p9o=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
06:24:14.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.633 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
06:24:14.633 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
06:24:14.633 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;pj1aToXjAqINMTUxMTE4MDY1NDYzMz/Aw6NzUpPL2UtSxMZ3p9o=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
06:24:14.633 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
06:24:14.633 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.633 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.633 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
06:24:14.633 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40537 requested authentication
06:24:14.633 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
06:24:14.633 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
06:24:14.633 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47126&lt;-&gt;127.0.0.1:40537
06:24:14.633 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.634 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@316d40c
06:24:14.647 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@27bb971f
06:24:14.650 [XNIO-32 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-1', selector sun.nio.ch.EPollSelectorImpl@266b3533
06:24:14.653 [XNIO-32 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-2', selector sun.nio.ch.EPollSelectorImpl@366ac800
06:24:14.653 [XNIO-32 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2b99977f
06:24:14.653 [XNIO-32 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6e7a227a
06:24:14.653 [XNIO-32 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6a8f72a1
06:24:14.653 [XNIO-32 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1bfc9bde
06:24:14.653 [XNIO-32 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-7', selector sun.nio.ch.EPollSelectorImpl@597428bf
06:24:14.653 [XNIO-32 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 Accept', selector sun.nio.ch.EPollSelectorImpl@33950b7d
06:24:14.653 [XNIO-32 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6b3c76d0
06:24:14.653 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.654 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.679 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41739
06:24:14.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41739
06:24:14.680 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41739
06:24:14.680 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55456&lt;-&gt;127.0.0.1:41739
06:24:14.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /pass HTTP/1.1
06:24:14.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; HEAD /pass HTTP/1.1
06:24:14.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:41739
06:24:14.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
06:24:14.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;HEAD /pass HTTP/1.1[\r][\n]&quot;
06:24:14.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:41739[\r][\n]&quot;
06:24:14.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.686 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41739]}, cookies=[:]): &lt;empty&gt; }
06:24:14.687 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
06:24:14.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
06:24:14.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
06:24:14.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.687 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.687 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55456&lt;-&gt;127.0.0.1:41739
06:24:14.687 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.689 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.689 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.689 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41739
06:24:14.690 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /pass HTTP/1.1
06:24:14.690 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.690 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; HEAD /pass HTTP/1.1
06:24:14.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:41739
06:24:14.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
06:24:14.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;HEAD /pass HTTP/1.1[\r][\n]&quot;
06:24:14.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:41739[\r][\n]&quot;
06:24:14.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.690 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.698 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:41739]}, cookies=[:]): &lt;empty&gt; }
06:24:14.698 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:14.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
06:24:14.699 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
06:24:14.699 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
06:24:14.699 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.699 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.699 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55456&lt;-&gt;127.0.0.1:41739
06:24:14.699 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.700 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@27bb971f
06:24:14.715 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6b4b23bd
06:24:14.716 [XNIO-33 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2bd82ef6
06:24:14.718 [XNIO-33 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-2', selector sun.nio.ch.EPollSelectorImpl@473b723d
06:24:14.722 [XNIO-33 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3c2d863b
06:24:14.725 [XNIO-33 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-5', selector sun.nio.ch.EPollSelectorImpl@60c6c917
06:24:14.718 [XNIO-33 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5a043dc8
06:24:14.726 [XNIO-33 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-7', selector sun.nio.ch.EPollSelectorImpl@841aa4a
06:24:14.726 [XNIO-33 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-6', selector sun.nio.ch.EPollSelectorImpl@12065b9b
06:24:14.730 [XNIO-33 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5e8cf3a6
06:24:14.736 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.736 [XNIO-33 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 Accept', selector sun.nio.ch.EPollSelectorImpl@629c27e8
06:24:14.737 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.750 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.750 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.750 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37813
06:24:14.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37813
06:24:14.751 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37813
06:24:14.751 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50002&lt;-&gt;127.0.0.1:37813
06:24:14.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:14.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; HEAD /handling HTTP/1.1
06:24:14.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:37813
06:24:14.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
06:24:14.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:14.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:37813[\r][\n]&quot;
06:24:14.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.774 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37813]}, cookies=[:]): &lt;empty&gt; }
06:24:14.775 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:14.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:14.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
06:24:14.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
06:24:14.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.775 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.775 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50002&lt;-&gt;127.0.0.1:37813
06:24:14.775 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.776 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.776 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.776 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37813
06:24:14.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:14.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; HEAD /handling HTTP/1.1
06:24:14.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:37813
06:24:14.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
06:24:14.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.776 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:14.776 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:37813[\r][\n]&quot;
06:24:14.776 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.776 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.776 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.776 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.784 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37813]}, cookies=[:]): &lt;empty&gt; }
06:24:14.785 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:14.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:14.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
06:24:14.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
06:24:14.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.786 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.786 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50002&lt;-&gt;127.0.0.1:37813
06:24:14.786 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.788 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6b4b23bd
06:24:14.789 [XNIO-33 I/O-6] DEBUG ersatz.undertow - Failed to schedule task ersatz.undertow.server.protocol.ParseTimeoutUpdater@7d86ef37 as worker is shutting down
java.util.concurrent.RejectedExecutionException: XNIO007007: Thread is terminating
	at ersatz.xnio.nio.WorkerThread.executeAfter(WorkerThread.java:617)
	at ersatz.undertow.util.WorkerUtils.executeAfter(WorkerUtils.java:46)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.handleSchedule(ParseTimeoutUpdater.java:107)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.connectionIdle(ParseTimeoutUpdater.java:85)
	at ersatz.undertow.server.protocol.http.HttpReadListener.newRequest(HttpReadListener.java:118)
	at ersatz.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:310)
	at ersatz.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:232)
	at ersatz.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1261)
	at ersatz.undertow.server.HttpServerExchange.closeAndFlushResponse(HttpServerExchange.java:1675)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1665)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:316)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:296)
	at ersatz.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at ersatz.xnio.StreamConnection.invokeCloseListener(StreamConnection.java:80)
	at ersatz.xnio.Connection.writeClosed(Connection.java:117)
	at ersatz.xnio.nio.AbstractNioStreamConnection.writeClosed(AbstractNioStreamConnection.java:47)
	at ersatz.xnio.nio.NioSocketConduit.terminateWrites(NioSocketConduit.java:214)
	at ersatz.xnio.nio.NioSocketConduit.truncateWrites(NioSocketConduit.java:228)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.truncateWrites(HttpResponseConduit.java:774)
	at ersatz.xnio.conduits.AbstractSinkConduit.truncateWrites(AbstractSinkConduit.java:82)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.close(ConduitStreamSinkChannel.java:186)
	at ersatz.xnio.IoUtils.safeClose(IoUtils.java:134)
	at ersatz.xnio.conduits.WriteReadyHandler$ChannelListenerHandler.forceTermination(WriteReadyHandler.java:57)
	at ersatz.xnio.nio.NioSocketConduit.forceTermination(NioSocketConduit.java:107)
	at ersatz.xnio.nio.WorkerThread.run(WorkerThread.java:494)
06:24:14.794 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@35f46466
06:24:14.810 [XNIO-34 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6a70bfc9
06:24:14.818 [XNIO-34 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-2', selector sun.nio.ch.EPollSelectorImpl@16391e06
06:24:14.826 [XNIO-34 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2ec5e45a
06:24:14.832 [XNIO-34 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-4', selector sun.nio.ch.EPollSelectorImpl@a8e142c
06:24:14.832 [XNIO-34 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-5', selector sun.nio.ch.EPollSelectorImpl@77875bd4
06:24:14.833 [XNIO-34 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-6', selector sun.nio.ch.EPollSelectorImpl@204cbb2b
06:24:14.834 [XNIO-34 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-7', selector sun.nio.ch.EPollSelectorImpl@743b9f1d
06:24:14.834 [XNIO-34 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-8', selector sun.nio.ch.EPollSelectorImpl@355995a8
06:24:14.835 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.836 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.837 [XNIO-34 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 Accept', selector sun.nio.ch.EPollSelectorImpl@4c289c71
06:24:14.839 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.839 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.839 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32805
06:24:14.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32805
06:24:14.839 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32805
06:24:14.839 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34442&lt;-&gt;127.0.0.1:32805
06:24:14.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:14.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; HEAD /handling HTTP/1.1
06:24:14.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:32805
06:24:14.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
06:24:14.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:14.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:32805[\r][\n]&quot;
06:24:14.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.850 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32805]}, cookies=[:]): &lt;empty&gt; }
06:24:14.850 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:14.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 210 Unknown
06:24:14.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
06:24:14.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
06:24:14.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.851 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.851 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34442&lt;-&gt;127.0.0.1:32805
06:24:14.851 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.852 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.852 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.852 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32805
06:24:14.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:14.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; HEAD /handling HTTP/1.1
06:24:14.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:32805
06:24:14.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
06:24:14.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:14.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:32805[\r][\n]&quot;
06:24:14.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.853 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32805]}, cookies=[:]): &lt;empty&gt; }
06:24:14.853 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 210 Unknown
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
06:24:14.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.854 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34442&lt;-&gt;127.0.0.1:32805
06:24:14.854 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.854 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@35f46466
06:24:14.856 [XNIO-34 I/O-6] DEBUG ersatz.undertow - Failed to schedule task ersatz.undertow.server.protocol.ParseTimeoutUpdater@2a662057 as worker is shutting down
java.util.concurrent.RejectedExecutionException: XNIO007007: Thread is terminating
	at ersatz.xnio.nio.WorkerThread.executeAfter(WorkerThread.java:617)
	at ersatz.undertow.util.WorkerUtils.executeAfter(WorkerUtils.java:46)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.handleSchedule(ParseTimeoutUpdater.java:107)
	at ersatz.undertow.server.protocol.ParseTimeoutUpdater.connectionIdle(ParseTimeoutUpdater.java:85)
	at ersatz.undertow.server.protocol.http.HttpReadListener.newRequest(HttpReadListener.java:118)
	at ersatz.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:310)
	at ersatz.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:232)
	at ersatz.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1261)
	at ersatz.undertow.server.HttpServerExchange.closeAndFlushResponse(HttpServerExchange.java:1675)
	at ersatz.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1665)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:316)
	at ersatz.undertow.server.AbstractServerConnection$CloseSetter.handleEvent(AbstractServerConnection.java:296)
	at ersatz.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at ersatz.xnio.StreamConnection.invokeCloseListener(StreamConnection.java:80)
	at ersatz.xnio.Connection.writeClosed(Connection.java:117)
	at ersatz.xnio.nio.AbstractNioStreamConnection.writeClosed(AbstractNioStreamConnection.java:47)
	at ersatz.xnio.nio.NioSocketConduit.terminateWrites(NioSocketConduit.java:214)
	at ersatz.xnio.nio.NioSocketConduit.truncateWrites(NioSocketConduit.java:228)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.truncateWrites(HttpResponseConduit.java:774)
	at ersatz.xnio.conduits.AbstractSinkConduit.truncateWrites(AbstractSinkConduit.java:82)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.close(ConduitStreamSinkChannel.java:186)
	at ersatz.xnio.IoUtils.safeClose(IoUtils.java:134)
	at ersatz.xnio.conduits.WriteReadyHandler$ChannelListenerHandler.forceTermination(WriteReadyHandler.java:57)
	at ersatz.xnio.nio.NioSocketConduit.forceTermination(NioSocketConduit.java:107)
	at ersatz.xnio.nio.WorkerThread.run(WorkerThread.java:494)
06:24:14.856 [XNIO-34 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:131)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
06:24:14.864 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@49bb151
06:24:14.866 [XNIO-35 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-1', selector sun.nio.ch.EPollSelectorImpl@643d6020
06:24:14.866 [XNIO-35 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7e75a580
06:24:14.872 [XNIO-35 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-4', selector sun.nio.ch.EPollSelectorImpl@319c68b9
06:24:14.872 [XNIO-35 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-5', selector sun.nio.ch.EPollSelectorImpl@63615a9b
06:24:14.872 [XNIO-35 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5f022773
06:24:14.886 [XNIO-35 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1638e3ae
06:24:14.891 [XNIO-35 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2ee8831c
06:24:14.891 [XNIO-35 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-8', selector sun.nio.ch.EPollSelectorImpl@13ac518
06:24:14.894 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.894 [XNIO-35 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 Accept', selector sun.nio.ch.EPollSelectorImpl@57b10222
06:24:14.895 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.898 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.898 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37505
06:24:14.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37505
06:24:14.898 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37505
06:24:14.898 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33968&lt;-&gt;127.0.0.1:37505
06:24:14.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:14.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; HEAD /handling HTTP/1.1
06:24:14.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:37505
06:24:14.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
06:24:14.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:14.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:37505[\r][\n]&quot;
06:24:14.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.903 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37505]}, cookies=[:]): &lt;empty&gt; }
06:24:14.905 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:14.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.906 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.906 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 211 Unknown
06:24:14.906 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
06:24:14.906 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
06:24:14.906 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.906 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.906 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33968&lt;-&gt;127.0.0.1:37505
06:24:14.906 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.907 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:14.907 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:14.907 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37505
06:24:14.907 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:14.907 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:14.907 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:14.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; HEAD /handling HTTP/1.1
06:24:14.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:37505
06:24:14.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
06:24:14.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:14.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:14.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:14.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:37505[\r][\n]&quot;
06:24:14.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:14.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:14.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:14.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
06:24:14.909 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37505]}, cookies=[:]): &lt;empty&gt; }
06:24:14.909 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:14.910 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:14.910 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:14.910 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:14.910 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:14.910 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
06:24:14.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 211 Unknown
06:24:14.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
06:24:14.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
06:24:14.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:14.910 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:14.910 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33968&lt;-&gt;127.0.0.1:37505
06:24:14.910 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:14.911 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@49bb151
06:24:14.921 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2fb4540f
06:24:14.942 [XNIO-36 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1436884b
06:24:14.943 [XNIO-36 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3799def3
06:24:14.942 [XNIO-36 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6d115190
06:24:14.946 [XNIO-36 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6f47489c
06:24:14.959 [XNIO-36 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1de895fa
06:24:14.959 [XNIO-36 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-6', selector sun.nio.ch.EPollSelectorImpl@431cae8f
06:24:14.960 [XNIO-36 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-7', selector sun.nio.ch.EPollSelectorImpl@ec3b1b5
06:24:14.962 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:14.963 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:14.985 [XNIO-36 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-8', selector sun.nio.ch.EPollSelectorImpl@831439
06:24:14.990 [XNIO-36 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 Accept', selector sun.nio.ch.EPollSelectorImpl@ec720a6
06:24:15.020 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.023 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.024 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37593
06:24:15.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37593
06:24:15.026 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37593
06:24:15.026 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45690&lt;-&gt;127.0.0.1:37593
06:24:15.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:37593
06:24:15.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:15.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.026 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.026 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:37593[\r][\n]&quot;
06:24:15.026 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.026 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.026 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.026 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.030 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37593]}, cookies=[:]): &lt;empty&gt; }
06:24:15.030 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:15.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.031 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:15.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:15.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
06:24:15.031 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.031 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.031 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45690&lt;-&gt;127.0.0.1:37593
06:24:15.031 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.032 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.032 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.032 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37593
06:24:15.032 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.032 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.032 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:37593
06:24:15.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
06:24:15.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:37593[\r][\n]&quot;
06:24:15.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.034 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:37593]}, cookies=[:]): &lt;empty&gt; }
06:24:15.034 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 205 Reset Content
06:24:15.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
06:24:15.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
06:24:15.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.036 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45690&lt;-&gt;127.0.0.1:37593
06:24:15.036 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.036 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2fb4540f
06:24:15.045 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7ab590d7
06:24:15.050 [XNIO-37 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2b24b26b
06:24:15.054 [XNIO-37 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6d3026b2
06:24:15.058 [XNIO-37 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3c76ab11
06:24:15.058 [XNIO-37 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-4', selector sun.nio.ch.EPollSelectorImpl@790fa67
06:24:15.059 [XNIO-37 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7f49c32e
06:24:15.059 [XNIO-37 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-6', selector sun.nio.ch.EPollSelectorImpl@e23f542
06:24:15.059 [XNIO-37 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6b5c383b
06:24:15.066 [XNIO-37 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-8', selector sun.nio.ch.EPollSelectorImpl@73f50fc3
06:24:15.078 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.079 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.080 [XNIO-37 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 Accept', selector sun.nio.ch.EPollSelectorImpl@7f73e7cc
06:24:15.081 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.082 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.082 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39137
06:24:15.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39137
06:24:15.082 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39137
06:24:15.082 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44588&lt;-&gt;127.0.0.1:39137
06:24:15.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:39137
06:24:15.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
06:24:15.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:39137[\r][\n]&quot;
06:24:15.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.098 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39137]}, cookies=[:]): &lt;empty&gt; }
06:24:15.099 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 210 Unknown
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
06:24:15.101 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.101 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.101 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44588&lt;-&gt;127.0.0.1:39137
06:24:15.101 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.102 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.102 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.103 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39137
06:24:15.103 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.104 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.104 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:39137
06:24:15.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
06:24:15.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:39137[\r][\n]&quot;
06:24:15.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.108 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39137]}, cookies=[:]): &lt;empty&gt; }
06:24:15.114 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 210 Unknown
06:24:15.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
06:24:15.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
06:24:15.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.114 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.114 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44588&lt;-&gt;127.0.0.1:39137
06:24:15.115 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.115 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7ab590d7
06:24:15.122 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@67b92e20
06:24:15.146 [XNIO-38 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1e874d17
06:24:15.150 [XNIO-38 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-2', selector sun.nio.ch.EPollSelectorImpl@31d99831
06:24:15.153 [XNIO-38 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2d70d1c3
06:24:15.153 [XNIO-38 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6fc7f4a0
06:24:15.153 [XNIO-38 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7207cb6
06:24:15.154 [XNIO-38 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-6', selector sun.nio.ch.EPollSelectorImpl@35bb82f0
06:24:15.166 [XNIO-38 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7b0cef2c
06:24:15.172 [XNIO-38 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3f3e66fe
06:24:15.178 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.178 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.181 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.181 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.181 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32903
06:24:15.181 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32903
06:24:15.182 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32903
06:24:15.182 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33552&lt;-&gt;127.0.0.1:32903
06:24:15.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:32903
06:24:15.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
06:24:15.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.184 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.184 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:32903[\r][\n]&quot;
06:24:15.184 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.185 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.185 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.185 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.186 [XNIO-38 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 Accept', selector sun.nio.ch.EPollSelectorImpl@366b848b
06:24:15.210 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32903]}, cookies=[:]): &lt;empty&gt; }
06:24:15.210 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:15.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 211 Unknown
06:24:15.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
06:24:15.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
06:24:15.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.211 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.211 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33552&lt;-&gt;127.0.0.1:32903
06:24:15.211 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.212 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.212 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.212 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32903
06:24:15.212 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.212 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.212 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.212 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.212 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:32903
06:24:15.212 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
06:24:15.212 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.212 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.212 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.212 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:32903[\r][\n]&quot;
06:24:15.212 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.212 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.212 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.212 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.218 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:32903]}, cookies=[:]): &lt;empty&gt; }
06:24:15.222 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
06:24:15.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.223 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 211 Unknown
06:24:15.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
06:24:15.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
06:24:15.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.224 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33552&lt;-&gt;127.0.0.1:32903
06:24:15.224 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.224 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@67b92e20
06:24:15.226 [XNIO-38 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:131)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
06:24:15.235 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@16e893c7
06:24:15.237 [XNIO-39 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-1', selector sun.nio.ch.EPollSelectorImpl@39b21f66
06:24:15.238 [XNIO-39 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1880984d
06:24:15.243 [XNIO-39 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-3', selector sun.nio.ch.EPollSelectorImpl@d84d8ae
06:24:15.250 [XNIO-39 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1a5bd50f
06:24:15.254 [XNIO-39 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6ec57afd
06:24:15.254 [XNIO-39 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-7', selector sun.nio.ch.EPollSelectorImpl@22a36e4a
06:24:15.258 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.258 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.250 [XNIO-39 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-4', selector sun.nio.ch.EPollSelectorImpl@59957342
06:24:15.258 [XNIO-39 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-8', selector sun.nio.ch.EPollSelectorImpl@fb83946
06:24:15.262 [XNIO-39 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 Accept', selector sun.nio.ch.EPollSelectorImpl@5aac888d
06:24:15.271 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.271 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.271 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45441
06:24:15.271 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45441
06:24:15.271 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45441
06:24:15.271 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51816&lt;-&gt;127.0.0.1:45441
06:24:15.271 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.271 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.271 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.271 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.271 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:45441
06:24:15.271 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
06:24:15.271 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.271 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.271 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.271 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:45441[\r][\n]&quot;
06:24:15.271 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.271 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.271 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.271 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.282 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45441]}, cookies=[:]): &lt;empty&gt; }
06:24:15.282 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
06:24:15.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
06:24:15.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
06:24:15.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.283 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.283 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51816&lt;-&gt;127.0.0.1:45441
06:24:15.283 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.284 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.284 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.284 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45441
06:24:15.284 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.284 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.284 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:45441
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.284 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:45441[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.284 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.299 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45441]}, cookies=[:]): &lt;empty&gt; }
06:24:15.299 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
06:24:15.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
06:24:15.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
06:24:15.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.300 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.300 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51816&lt;-&gt;127.0.0.1:45441
06:24:15.300 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.300 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@16e893c7
06:24:15.307 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7df4203b
06:24:15.310 [XNIO-39 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:131)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
06:24:15.322 [XNIO-40 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2eb7fafc
06:24:15.327 [XNIO-40 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4c58abab
06:24:15.334 [XNIO-40 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-3', selector sun.nio.ch.EPollSelectorImpl@66dabad8
06:24:15.334 [XNIO-40 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-4', selector sun.nio.ch.EPollSelectorImpl@fac8a41
06:24:15.338 [XNIO-40 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4df336d5
06:24:15.346 [XNIO-40 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-6', selector sun.nio.ch.EPollSelectorImpl@27ab8257
06:24:15.346 [XNIO-40 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-7', selector sun.nio.ch.EPollSelectorImpl@70853dbe
06:24:15.350 [XNIO-40 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-8', selector sun.nio.ch.EPollSelectorImpl@39e930a8
06:24:15.354 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.355 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.357 [XNIO-40 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 Accept', selector sun.nio.ch.EPollSelectorImpl@7bd5fff6
06:24:15.361 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.361 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.361 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45203
06:24:15.361 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45203
06:24:15.361 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45203
06:24:15.361 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51826&lt;-&gt;127.0.0.1:45203
06:24:15.361 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.361 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.361 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:45203
06:24:15.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
06:24:15.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:45203[\r][\n]&quot;
06:24:15.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.366 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45203]}, cookies=[:]): &lt;empty&gt; }
06:24:15.368 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
06:24:15.376 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51826&lt;-&gt;127.0.0.1:45203
06:24:15.376 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.376 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.377 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.377 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45203
06:24:15.377 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.377 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.377 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:45203
06:24:15.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
06:24:15.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.377 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:45203[\r][\n]&quot;
06:24:15.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.384 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45203]}, cookies=[:]): &lt;empty&gt; }
06:24:15.385 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:15.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:15.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
06:24:15.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
06:24:15.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.387 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.387 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51826&lt;-&gt;127.0.0.1:45203
06:24:15.387 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.388 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7df4203b
06:24:15.397 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@569f49b4
06:24:15.409 [XNIO-41 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-1', selector sun.nio.ch.EPollSelectorImpl@632ef0ad
06:24:15.416 [XNIO-41 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-3', selector sun.nio.ch.EPollSelectorImpl@50684ab7
06:24:15.416 [XNIO-41 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7c90aacc
06:24:15.418 [XNIO-41 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-4', selector sun.nio.ch.EPollSelectorImpl@c3fead4
06:24:15.428 [XNIO-41 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-5', selector sun.nio.ch.EPollSelectorImpl@40dd91ef
06:24:15.434 [XNIO-41 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-6', selector sun.nio.ch.EPollSelectorImpl@634cfb63
06:24:15.441 [XNIO-41 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6750eac3
06:24:15.457 [XNIO-41 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2791f5b2
06:24:15.458 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.458 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.460 [XNIO-41 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 Accept', selector sun.nio.ch.EPollSelectorImpl@7334d002
06:24:15.461 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.463 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.463 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36711
06:24:15.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36711
06:24:15.463 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36711
06:24:15.463 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43528&lt;-&gt;127.0.0.1:36711
06:24:15.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:36711
06:24:15.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
06:24:15.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:36711[\r][\n]&quot;
06:24:15.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.470 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36711]}, cookies=[:]): &lt;empty&gt; }
06:24:15.471 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:15.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:15.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
06:24:15.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
06:24:15.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.473 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.473 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43528&lt;-&gt;127.0.0.1:36711
06:24:15.473 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.478 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.478 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.478 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36711
06:24:15.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:36711
06:24:15.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
06:24:15.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:36711[\r][\n]&quot;
06:24:15.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.490 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36711]}, cookies=[:]): &lt;empty&gt; }
06:24:15.490 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:15.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:15.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
06:24:15.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
06:24:15.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.492 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.493 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43528&lt;-&gt;127.0.0.1:36711
06:24:15.493 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.493 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@569f49b4
06:24:15.498 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3f00fb2
06:24:15.501 [XNIO-42 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5e9bf75d
06:24:15.502 [XNIO-42 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-2', selector sun.nio.ch.EPollSelectorImpl@14396348
06:24:15.512 [XNIO-42 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-3', selector sun.nio.ch.EPollSelectorImpl@495009e
06:24:15.526 [XNIO-42 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1432590d
06:24:15.538 [XNIO-42 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-5', selector sun.nio.ch.EPollSelectorImpl@70b65119
06:24:15.547 [XNIO-42 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-6', selector sun.nio.ch.EPollSelectorImpl@609fb466
06:24:15.562 [XNIO-42 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2987410b
06:24:15.562 [XNIO-42 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6101ee36
06:24:15.566 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.566 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.567 [XNIO-42 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 Accept', selector sun.nio.ch.EPollSelectorImpl@3cefe892
06:24:15.570 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.570 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.570 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36139
06:24:15.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36139
06:24:15.570 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36139
06:24:15.571 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38798&lt;-&gt;127.0.0.1:36139
06:24:15.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:36139
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:36139[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.576 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36139]}, cookies=[:]): &lt;empty&gt; }
06:24:15.577 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:15.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.577 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:15.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
06:24:15.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
06:24:15.578 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.578 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.578 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38798&lt;-&gt;127.0.0.1:36139
06:24:15.578 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.582 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.583 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.583 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36139
06:24:15.583 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.583 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.583 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:36139
06:24:15.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
06:24:15.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:36139[\r][\n]&quot;
06:24:15.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.590 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36139]}, cookies=[:]): &lt;empty&gt; }
06:24:15.592 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.592 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:15.592 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.592 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.592 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.592 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:15.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
06:24:15.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
06:24:15.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.594 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38798&lt;-&gt;127.0.0.1:36139
06:24:15.594 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.594 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3f00fb2
06:24:15.602 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7cdaa71b
06:24:15.611 [XNIO-43 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1a9ae2e9
06:24:15.611 [XNIO-43 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-2', selector sun.nio.ch.EPollSelectorImpl@32958213
06:24:15.623 [XNIO-43 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-4', selector sun.nio.ch.EPollSelectorImpl@33a96027
06:24:15.624 [XNIO-43 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2bdf0fd5
06:24:15.625 [XNIO-43 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-8', selector sun.nio.ch.EPollSelectorImpl@760e08d
06:24:15.625 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.625 [XNIO-43 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-5', selector sun.nio.ch.EPollSelectorImpl@717b5107
06:24:15.625 [XNIO-43 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-7', selector sun.nio.ch.EPollSelectorImpl@18a92197
06:24:15.626 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.626 [XNIO-43 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 Accept', selector sun.nio.ch.EPollSelectorImpl@2faef78f
06:24:15.626 [XNIO-43 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3da93f87
06:24:15.660 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.660 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.660 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45915
06:24:15.660 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45915
06:24:15.661 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45915
06:24:15.661 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34458&lt;-&gt;127.0.0.1:45915
06:24:15.661 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.661 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.661 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:45915
06:24:15.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
06:24:15.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:45915[\r][\n]&quot;
06:24:15.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.662 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45915]}, cookies=[:]): &lt;empty&gt; }
06:24:15.662 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
06:24:15.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
06:24:15.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
06:24:15.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.662 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.662 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34458&lt;-&gt;127.0.0.1:45915
06:24:15.662 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.663 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.663 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.663 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45915
06:24:15.663 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.663 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.663 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.663 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.663 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:45915
06:24:15.663 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
06:24:15.663 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.663 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.663 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.663 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:45915[\r][\n]&quot;
06:24:15.663 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.663 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.663 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.663 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.664 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:45915]}, cookies=[:]): &lt;empty&gt; }
06:24:15.664 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
06:24:15.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
06:24:15.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
06:24:15.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
06:24:15.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.664 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.664 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34458&lt;-&gt;127.0.0.1:45915
06:24:15.664 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.665 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7cdaa71b
06:24:15.669 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2c6e2d83
06:24:15.678 [XNIO-44 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-1', selector sun.nio.ch.EPollSelectorImpl@340c0cfc
06:24:15.682 [XNIO-44 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-2', selector sun.nio.ch.EPollSelectorImpl@31abf6cb
06:24:15.686 [XNIO-44 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-3', selector sun.nio.ch.EPollSelectorImpl@730ba63e
06:24:15.686 [XNIO-44 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7292420
06:24:15.687 [XNIO-44 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-5', selector sun.nio.ch.EPollSelectorImpl@31254ca4
06:24:15.689 [XNIO-44 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-6', selector sun.nio.ch.EPollSelectorImpl@29b837b4
06:24:15.689 [XNIO-44 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-7', selector sun.nio.ch.EPollSelectorImpl@48425a0a
06:24:15.699 [XNIO-44 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-8', selector sun.nio.ch.EPollSelectorImpl@226dac47
06:24:15.704 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.704 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.706 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.706 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.706 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36053
06:24:15.706 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36053
06:24:15.706 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36053
06:24:15.707 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39138&lt;-&gt;127.0.0.1:36053
06:24:15.707 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.707 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.707 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.707 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.707 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:36053
06:24:15.707 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
06:24:15.707 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.707 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.707 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.707 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:36053[\r][\n]&quot;
06:24:15.707 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.707 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.707 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.707 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.707 [XNIO-44 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 Accept', selector sun.nio.ch.EPollSelectorImpl@5f8c8e29
06:24:15.708 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36053]}, cookies=[:]): &lt;empty&gt; }
06:24:15.708 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:15.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.709 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
06:24:15.709 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.709 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.709 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39138&lt;-&gt;127.0.0.1:36053
06:24:15.709 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.710 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.710 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.710 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36053
06:24:15.710 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.710 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.710 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:36053
06:24:15.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
06:24:15.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:36053[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.730 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:36053]}, cookies=[:]): &lt;empty&gt; }
06:24:15.730 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
06:24:15.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 300 Multiple Choices
06:24:15.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
06:24:15.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
06:24:15.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.731 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.731 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39138&lt;-&gt;127.0.0.1:36053
06:24:15.731 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.731 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2c6e2d83
06:24:15.735 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@39fee7d6
06:24:15.744 [XNIO-45 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6698d000
06:24:15.754 [XNIO-45 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-2', selector sun.nio.ch.EPollSelectorImpl@382ac433
06:24:15.754 [XNIO-45 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-3', selector sun.nio.ch.EPollSelectorImpl@23bb8615
06:24:15.762 [XNIO-45 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-4', selector sun.nio.ch.EPollSelectorImpl@283986fe
06:24:15.770 [XNIO-45 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-6', selector sun.nio.ch.EPollSelectorImpl@514d2c8c
06:24:15.770 [XNIO-45 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1e87b268
06:24:15.770 [XNIO-45 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-5', selector sun.nio.ch.EPollSelectorImpl@df82d47
06:24:15.776 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.791 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.770 [XNIO-45 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4c0c8b6
06:24:15.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-25: Shutdown connection
06:24:15.792 [XNIO-45 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 Accept', selector sun.nio.ch.EPollSelectorImpl@712eb38b
06:24:15.793 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.793 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.793 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40385
06:24:15.793 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40385
06:24:15.793 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40385
06:24:15.794 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55618&lt;-&gt;127.0.0.1:40385
06:24:15.794 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.794 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.794 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.794 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.794 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:40385
06:24:15.794 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
06:24:15.794 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.794 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.794 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.794 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:40385[\r][\n]&quot;
06:24:15.794 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.794 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.794 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.794 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.793 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.794 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-24: Shutdown connection
06:24:15.794 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.794 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-27: Shutdown connection
06:24:15.795 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.795 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-26: Shutdown connection
06:24:15.795 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.795 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-43: Shutdown connection
06:24:15.795 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.795 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-42: Shutdown connection
06:24:15.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-41: Shutdown connection
06:24:15.797 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40385]}, cookies=[:]): &lt;empty&gt; }
06:24:15.797 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.797 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-29: Shutdown connection
06:24:15.798 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.798 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-28: Shutdown connection
06:24:15.798 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.799 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.799 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-32: Shutdown connection
06:24:15.799 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.799 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-31: Shutdown connection
06:24:15.799 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.799 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-30: Shutdown connection
06:24:15.800 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.800 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-36: Shutdown connection
06:24:15.800 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.800 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-35: Shutdown connection
06:24:15.800 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.800 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-34: Shutdown connection
06:24:15.801 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.801 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-33: Shutdown connection
06:24:15.801 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:15.801 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.801 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.801 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.801 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.801 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:15.801 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
06:24:15.801 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
06:24:15.801 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.801 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.801 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.801 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-40: Shutdown connection
06:24:15.801 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55618&lt;-&gt;127.0.0.1:40385
06:24:15.802 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.803 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.803 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.803 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40385
06:24:15.803 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.803 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.803 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:40385
06:24:15.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
06:24:15.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.803 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:40385[\r][\n]&quot;
06:24:15.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.803 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.802 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.806 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-39: Shutdown connection
06:24:15.810 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.810 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-38: Shutdown connection
06:24:15.810 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
06:24:15.810 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-37: Shutdown connection
06:24:15.814 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:40385]}, cookies=[:]): &lt;empty&gt; }
06:24:15.814 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
06:24:15.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 400 Bad Request
06:24:15.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
06:24:15.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
06:24:15.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.814 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.814 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55618&lt;-&gt;127.0.0.1:40385
06:24:15.814 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.815 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@39fee7d6
06:24:15.818 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3ac6de20
06:24:15.822 [XNIO-46 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5b2db31d
06:24:15.825 [XNIO-46 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5b17704c
06:24:15.826 [XNIO-46 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-3', selector sun.nio.ch.EPollSelectorImpl@269bbe49
06:24:15.830 [XNIO-46 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3561f1b8
06:24:15.838 [XNIO-46 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1ac9208d
06:24:15.843 [XNIO-46 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1044d9ab
06:24:15.846 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
06:24:15.846 [XNIO-46 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1c2a50e6
06:24:15.846 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
06:24:15.838 [XNIO-46 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3a61870
06:24:15.848 [XNIO-46 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 Accept', selector sun.nio.ch.EPollSelectorImpl@a122877
06:24:15.848 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.849 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.849 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39363
06:24:15.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39363
06:24:15.849 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39363
06:24:15.849 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59012&lt;-&gt;127.0.0.1:39363
06:24:15.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:39363
06:24:15.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
06:24:15.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:39363[\r][\n]&quot;
06:24:15.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.850 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39363]}, cookies=[:]): &lt;empty&gt; }
06:24:15.851 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:15.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:15.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
06:24:15.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
06:24:15.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.852 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59012&lt;-&gt;127.0.0.1:39363
06:24:15.852 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.853 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
06:24:15.853 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
06:24:15.853 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39363
06:24:15.853 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request HEAD /handling HTTP/1.1
06:24:15.853 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
06:24:15.853 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
06:24:15.853 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; HEAD /handling HTTP/1.1
06:24:15.853 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:39363
06:24:15.853 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
06:24:15.853 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)
06:24:15.853 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
06:24:15.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;HEAD /handling HTTP/1.1[\r][\n]&quot;
06:24:15.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:39363[\r][\n]&quot;
06:24:15.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
06:24:15.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_131)[\r][\n]&quot;
06:24:15.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
06:24:15.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
06:24:15.853 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { HEAD /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_131)], Host=[localhost:39363]}, cookies=[:]): &lt;empty&gt; }
06:24:15.854 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
06:24:15.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
06:24:15.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
06:24:15.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
06:24:15.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Mon, 20 Nov 2017 12:24:11 GMT[\r][\n]&quot;
06:24:15.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
06:24:15.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 500 Internal Server Error
06:24:15.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
06:24:15.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
06:24:15.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Mon, 20 Nov 2017 12:24:11 GMT
06:24:15.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
06:24:15.854 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59012&lt;-&gt;127.0.0.1:39363
06:24:15.854 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
06:24:15.854 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3ac6de20
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.3.1</a> at Nov 20, 2017 6:24:20 AM</p>
</div>
</div>
</body>
</html>
